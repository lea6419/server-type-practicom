2025-03-16 00:43:25.921 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-03-16 00:43:26.031 +02:00 [DBG] Hosting starting
2025-03-16 00:43:26.064 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-16 00:43:26.069 +02:00 [DBG] Reading data from file 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys\key-3b1791d9-af35-4b48-969e-d576339e2e30.xml'.
2025-03-16 00:43:26.079 +02:00 [DBG] Reading data from file 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys\key-f748f32e-fd47-4627-8870-71b23dd2fdee.xml'.
2025-03-16 00:43:26.085 +02:00 [DBG] Found key {3b1791d9-af35-4b48-969e-d576339e2e30}.
2025-03-16 00:43:26.089 +02:00 [DBG] Found key {f748f32e-fd47-4627-8870-71b23dd2fdee}.
2025-03-16 00:43:26.094 +02:00 [DBG] Considering key {3b1791d9-af35-4b48-969e-d576339e2e30} with expiration date 2025-06-08 19:45:45Z as default key.
2025-03-16 00:43:26.096 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-03-16 00:43:26.099 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-03-16 00:43:26.100 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-03-16 00:43:26.104 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-03-16 00:43:26.107 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-03-16 00:43:26.110 +02:00 [DBG] Using key {3b1791d9-af35-4b48-969e-d576339e2e30} as the default key.
2025-03-16 00:43:26.112 +02:00 [DBG] Key ring with default key {3b1791d9-af35-4b48-969e-d576339e2e30} was loaded during application startup.
2025-03-16 00:43:26.287 +02:00 [INF] Now listening on: https://localhost:7234
2025-03-16 00:43:26.298 +02:00 [INF] Now listening on: http://localhost:5254
2025-03-16 00:43:26.301 +02:00 [DBG] Loaded hosting startup assembly WebApplication1
2025-03-16 00:43:26.303 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-03-16 00:43:26.304 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-03-16 00:43:26.306 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-16 00:43:26.308 +02:00 [INF] Hosting environment: Development
2025-03-16 00:43:26.309 +02:00 [INF] Content root path: C:\Users\user1\Desktop\לימודים\net core\practicom\WebApplication1
2025-03-16 00:43:26.310 +02:00 [DBG] Hosting started
2025-03-16 00:43:26.751 +02:00 [DBG] Connection id "0HNB42B6FH0M6" accepted.
2025-03-16 00:43:26.751 +02:00 [DBG] Connection id "0HNB42B6FH0M5" accepted.
2025-03-16 00:43:26.754 +02:00 [DBG] Connection id "0HNB42B6FH0M6" started.
2025-03-16 00:43:26.755 +02:00 [DBG] Connection id "0HNB42B6FH0M5" started.
2025-03-16 00:43:26.775 +02:00 [DBG] Connection id "0HNB42B6FH0M6" received FIN.
2025-03-16 00:43:26.775 +02:00 [DBG] Connection id "0HNB42B6FH0M5" received FIN.
2025-03-16 00:43:26.798 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-03-16 00:43:26.798 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-03-16 00:43:27.031 +02:00 [DBG] Connection id "0HNB42B6FH0M5" stopped.
2025-03-16 00:43:27.031 +02:00 [DBG] Connection id "0HNB42B6FH0M6" stopped.
2025-03-16 00:43:27.037 +02:00 [DBG] Connection id "0HNB42B6FH0M6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-03-16 00:43:27.037 +02:00 [DBG] Connection id "0HNB42B6FH0M5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-03-16 00:43:27.230 +02:00 [DBG] Connection id "0HNB42B6FH0M7" accepted.
2025-03-16 00:43:27.234 +02:00 [DBG] Connection id "0HNB42B6FH0M7" started.
2025-03-16 00:43:27.334 +02:00 [DBG] Connection 0HNB42B6FH0M7 established using the following protocol: "Tls13"
2025-03-16 00:43:27.528 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7234/swagger/index.html - -
2025-03-16 00:43:27.585 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-03-16 00:43:27.642 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-03-16 00:43:27.650 +02:00 [DBG] Request did not match any endpoints
2025-03-16 00:43:27.853 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 00:43:28.049 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-03-16 00:43:28.225 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-03-16 00:43:28.236 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7234/swagger/index.html - - - 200 - text/html;charset=utf-8 711.7417ms
2025-03-16 00:43:28.243 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7234/_framework/aspnetcore-browser-refresh.js - -
2025-03-16 00:43:28.256 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7234/_vs/browserLink - -
2025-03-16 00:43:28.268 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7234/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 25.0648ms
2025-03-16 00:43:28.439 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7234/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 182.8061ms
2025-03-16 00:43:28.582 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7234/swagger/v1/swagger.json - -
2025-03-16 00:43:28.586 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-03-16 00:43:28.591 +02:00 [DBG] Request did not match any endpoints
2025-03-16 00:43:28.597 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 00:43:28.940 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7234/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 364.3939ms
2025-03-16 00:43:29.175 +02:00 [DBG] Connection id "0HNB42B6FH0M7" received FIN.
2025-03-16 00:43:29.187 +02:00 [DBG] The connection queue processing loop for 0HNB42B6FH0M7 completed.
2025-03-16 00:43:29.196 +02:00 [DBG] Connection id "0HNB42B6FH0M7" is closed. The last processed stream ID was 7.
2025-03-16 00:43:29.207 +02:00 [DBG] Connection id "0HNB42B6FH0M7" sending FIN because: "The client closed the connection."
2025-03-16 00:43:29.219 +02:00 [DBG] Connection id "0HNB42B6FH0M7" stopped.
2025-03-16 00:43:40.817 +02:00 [DBG] Connection id "0HNB42B6FH0M8" accepted.
2025-03-16 00:43:40.823 +02:00 [DBG] Connection id "0HNB42B6FH0M8" started.
2025-03-16 00:43:40.833 +02:00 [DBG] Connection 0HNB42B6FH0M8 established using the following protocol: "Tls13"
2025-03-16 00:43:40.842 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/login - -
2025-03-16 00:43:40.849 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 00:43:40.854 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 00:43:40.859 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 00:43:40.863 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 00:43:40.864 +02:00 [INF] CORS policy execution successful.
2025-03-16 00:43:40.866 +02:00 [DBG] The request is a preflight request.
2025-03-16 00:43:40.871 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/login - - - 204 - - 29.0699ms
2025-03-16 00:43:40.874 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 29
2025-03-16 00:43:40.876 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 00:43:40.880 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 00:43:40.882 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 00:43:40.886 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 00:43:40.889 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 00:43:40.890 +02:00 [INF] CORS policy execution successful.
2025-03-16 00:43:40.893 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 00:43:40.895 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 00:43:40.929 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 00:43:40.936 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 00:43:40.938 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 00:43:40.940 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 00:43:40.941 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 00:43:40.943 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 00:43:40.946 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 00:43:41.276 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-03-16 00:43:41.627 +02:00 [DBG] The property 'Customer.userId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-16 00:43:41.631 +02:00 [DBG] The property 'SpeechToText.UserId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-16 00:43:41.633 +02:00 [DBG] The property 'UserFile.CustomerId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-16 00:43:41.752 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 00:43:41.763 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 00:43:41.785 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 00:43:41.789 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 00:43:41.793 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 00:43:41.800 +02:00 [DBG] Connection id "0HNB42B6FH0M8", Request id "0HNB42B6FH0M8:00000003": started reading request body.
2025-03-16 00:43:41.802 +02:00 [DBG] Connection id "0HNB42B6FH0M8", Request id "0HNB42B6FH0M8:00000003": done reading request body.
2025-03-16 00:43:41.809 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 00:43:41.811 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 00:43:41.813 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 00:43:41.814 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 00:43:41.821 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 00:43:41.887 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 00:43:41.894 +02:00 [INF] Login attempt for user: a
2025-03-16 00:43:41.953 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Email == __email_0)'
2025-03-16 00:43:42.078 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.Email (string) Required, 2], [Property: User.Password (string) Required, 3], [Property: User.Role (string) Required, 4], [Property: User.UpdatedAt (DateTime) Required, 5], [Property: User.Username (string) Required, 6] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.Email, u.Password, u.Role, u.UpdatedAt, u.Username
            FROM Users AS u
            WHERE u.Email == @__email_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-03-16 00:43:42.122 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 00:43:42.134 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (14ms).
2025-03-16 00:43:42.157 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 00:43:42.207 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 00:43:42.223 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 00:43:42.260 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 00:43:42.318 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 00:43:42.350 +02:00 [DBG] A data reader was disposed.
2025-03-16 00:43:42.354 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 00:43:42.361 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 00:43:42.491 +02:00 [INF] Login successful for user: a
2025-03-16 00:43:42.495 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoibGwiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJ0eXBpc3QiLCJleHAiOjE3NDIwODA0MjIsImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.UPjrzPQixntVBiwX9Mq39P6nIh8PhS62cIKtnRF9fPI, User={ Id = 2, Username = ll, Email = a, Role = typist }
2025-03-16 00:43:42.505 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 610.2466ms.
2025-03-16 00:43:42.518 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 00:43:42.530 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 00:43:42.534 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 00:43:42.538 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 00:43:42.539 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 00:43:42.541 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 00:43:42.554 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 1606.395ms
2025-03-16 00:43:42.556 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 00:43:42.560 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 00:43:42.567 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 29 - 200 - application/json;+charset=utf-8 1692.9970ms
2025-03-16 00:43:49.196 +02:00 [DBG] Connection id "0HNB42B6FH0M8" received FIN.
2025-03-16 00:43:49.204 +02:00 [DBG] Connection id "0HNB42B6FH0M8" is closed. The last processed stream ID was 3.
2025-03-16 00:43:49.204 +02:00 [DBG] The connection queue processing loop for 0HNB42B6FH0M8 completed.
2025-03-16 00:43:49.208 +02:00 [DBG] Connection id "0HNB42B6FH0M8" sending FIN because: "The client closed the connection."
2025-03-16 00:43:49.222 +02:00 [DBG] Connection id "0HNB42B6FH0M8" stopped.
2025-03-16 00:45:37.600 +02:00 [DBG] Connection id "0HNB42B6FH0M9" accepted.
2025-03-16 00:45:37.613 +02:00 [DBG] Connection id "0HNB42B6FH0M9" started.
2025-03-16 00:45:37.622 +02:00 [DBG] Connection 0HNB42B6FH0M9 established using the following protocol: "Tls13"
2025-03-16 00:45:37.636 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/login - -
2025-03-16 00:45:37.645 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 00:45:37.649 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 00:45:37.650 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 00:45:37.650 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 00:45:37.651 +02:00 [INF] CORS policy execution successful.
2025-03-16 00:45:37.652 +02:00 [DBG] The request is a preflight request.
2025-03-16 00:45:37.653 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/login - - - 204 - - 17.1472ms
2025-03-16 00:45:37.655 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 29
2025-03-16 00:45:37.655 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 00:45:37.657 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 00:45:37.660 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 00:45:37.661 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 00:45:37.662 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 00:45:37.663 +02:00 [INF] CORS policy execution successful.
2025-03-16 00:45:37.663 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 00:45:37.664 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 00:45:37.665 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 00:45:37.667 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 00:45:37.668 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 00:45:37.669 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 00:45:37.671 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 00:45:37.672 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 00:45:37.674 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 00:45:37.719 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 00:45:37.729 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 00:45:37.735 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 00:45:37.737 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 00:45:37.739 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 00:45:37.741 +02:00 [DBG] Connection id "0HNB42B6FH0M9", Request id "0HNB42B6FH0M9:00000003": started reading request body.
2025-03-16 00:45:37.743 +02:00 [DBG] Connection id "0HNB42B6FH0M9", Request id "0HNB42B6FH0M9:00000003": done reading request body.
2025-03-16 00:45:37.744 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 00:45:37.745 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 00:45:37.746 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 00:45:37.747 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 00:45:37.749 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 00:45:37.765 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 00:45:37.767 +02:00 [INF] Login attempt for user: a
2025-03-16 00:45:37.772 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 00:45:37.774 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-16 00:45:37.777 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 00:45:37.786 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 00:45:37.789 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 00:45:37.799 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 00:45:37.803 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 00:45:37.804 +02:00 [DBG] A data reader was disposed.
2025-03-16 00:45:37.805 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 00:45:37.806 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 00:45:37.808 +02:00 [INF] Login successful for user: a
2025-03-16 00:45:37.809 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoibGwiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJ0eXBpc3QiLCJleHAiOjE3NDIwODA1MzcsImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.nFbXxEOmmMOfMuhgAmw2wx8sJJLR_-KoPu8VJNWiIFU, User={ Id = 2, Username = ll, Email = a, Role = typist }
2025-03-16 00:45:37.811 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 43.6589ms.
2025-03-16 00:45:37.813 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 00:45:37.815 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 00:45:37.816 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 00:45:37.816 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 00:45:37.817 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 00:45:37.818 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 00:45:37.820 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 145.4957ms
2025-03-16 00:45:37.821 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 00:45:37.822 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 00:45:37.823 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 29 - 200 - application/json;+charset=utf-8 168.5157ms
2025-03-16 00:45:39.340 +02:00 [DBG] Connection id "0HNB42B6FH0M9" received FIN.
2025-03-16 00:45:39.343 +02:00 [DBG] Connection id "0HNB42B6FH0M9" is closed. The last processed stream ID was 3.
2025-03-16 00:45:39.346 +02:00 [DBG] Connection id "0HNB42B6FH0M9" sending FIN because: "The client closed the connection."
2025-03-16 00:45:39.343 +02:00 [DBG] The connection queue processing loop for 0HNB42B6FH0M9 completed.
2025-03-16 00:45:39.356 +02:00 [DBG] Connection id "0HNB42B6FH0M9" stopped.
2025-03-16 00:48:41.190 +02:00 [DBG] Connection id "0HNB42B6FH0MA" accepted.
2025-03-16 00:48:41.211 +02:00 [DBG] Connection id "0HNB42B6FH0MA" started.
2025-03-16 00:48:41.229 +02:00 [DBG] Connection 0HNB42B6FH0MA established using the following protocol: "Tls13"
2025-03-16 00:48:41.236 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/2 - -
2025-03-16 00:48:41.247 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 00:48:41.248 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 00:48:41.250 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 00:48:41.251 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 00:48:41.252 +02:00 [INF] CORS policy execution successful.
2025-03-16 00:48:41.254 +02:00 [DBG] The request is a preflight request.
2025-03-16 00:48:41.254 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/2 - - - 204 - - 18.1422ms
2025-03-16 00:48:41.256 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7234/api/User/2 application/json 64
2025-03-16 00:48:41.258 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 00:48:41.261 +02:00 [DBG] Endpoint 'UserController.UpdateUser (WebApplication1)' with route pattern 'api/User/{userId}' is valid for the request path '/api/User/2'
2025-03-16 00:48:41.263 +02:00 [DBG] Request matched endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 00:48:41.267 +02:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2025-03-16 00:48:41.268 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 00:48:41.269 +02:00 [INF] CORS policy execution successful.
2025-03-16 00:48:41.270 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 00:48:41.275 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-16 00:48:41.280 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-03-16 00:48:41.281 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7234/api/User/2 application/json 64 - 401 0 - 24.3027ms
2025-03-16 00:48:41.282 +02:00 [DBG] Connection id "0HNB42B6FH0MA", Request id "0HNB42B6FH0MA:00000003": started reading request body.
2025-03-16 00:48:41.283 +02:00 [DBG] Connection id "0HNB42B6FH0MA", Request id "0HNB42B6FH0MA:00000003": done reading request body.
2025-03-16 00:48:49.633 +02:00 [DBG] Connection id "0HNB42B6FH0MA" received FIN.
2025-03-16 00:48:49.639 +02:00 [DBG] Connection id "0HNB42B6FH0MA" is closed. The last processed stream ID was 3.
2025-03-16 00:48:49.639 +02:00 [DBG] The connection queue processing loop for 0HNB42B6FH0MA completed.
2025-03-16 00:48:49.642 +02:00 [DBG] Connection id "0HNB42B6FH0MA" sending FIN because: "The client closed the connection."
2025-03-16 00:48:49.647 +02:00 [DBG] Connection id "0HNB42B6FH0MA" stopped.
2025-03-16 00:48:50.069 +02:00 [DBG] Connection id "0HNB42B6FH0MB" accepted.
2025-03-16 00:48:50.074 +02:00 [DBG] Connection id "0HNB42B6FH0MB" started.
2025-03-16 00:48:50.081 +02:00 [DBG] Connection 0HNB42B6FH0MB established using the following protocol: "Tls13"
2025-03-16 00:48:50.088 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/login - -
2025-03-16 00:48:50.090 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 00:48:50.091 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 00:48:50.092 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 00:48:50.095 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 00:48:50.097 +02:00 [INF] CORS policy execution successful.
2025-03-16 00:48:50.098 +02:00 [DBG] The request is a preflight request.
2025-03-16 00:48:50.101 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/login - - - 204 - - 12.7740ms
2025-03-16 00:48:50.103 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 29
2025-03-16 00:48:50.104 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 00:48:50.105 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 00:48:50.107 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 00:48:50.108 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 00:48:50.108 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 00:48:50.110 +02:00 [INF] CORS policy execution successful.
2025-03-16 00:48:50.110 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 00:48:50.111 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 00:48:50.114 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 00:48:50.117 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 00:48:50.118 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 00:48:50.119 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 00:48:50.121 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 00:48:50.122 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 00:48:50.123 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 00:48:50.152 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 00:48:50.160 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 00:48:50.163 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 00:48:50.170 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 00:48:50.176 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 00:48:50.180 +02:00 [DBG] Connection id "0HNB42B6FH0MB", Request id "0HNB42B6FH0MB:00000003": started reading request body.
2025-03-16 00:48:50.188 +02:00 [DBG] Connection id "0HNB42B6FH0MB", Request id "0HNB42B6FH0MB:00000003": done reading request body.
2025-03-16 00:48:50.194 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 00:48:50.196 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 00:48:50.199 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 00:48:50.200 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 00:48:50.203 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 00:48:50.226 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 00:48:50.228 +02:00 [INF] Login attempt for user: a
2025-03-16 00:48:50.231 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 00:48:50.233 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-16 00:48:50.240 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 00:48:50.266 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 00:48:50.272 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 00:48:50.288 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 00:48:50.298 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 00:48:50.306 +02:00 [DBG] A data reader was disposed.
2025-03-16 00:48:50.307 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 00:48:50.309 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 00:48:50.311 +02:00 [INF] Login successful for user: a
2025-03-16 00:48:50.313 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoibGwiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJ0eXBpc3QiLCJleHAiOjE3NDIwODA3MzAsImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.tJGB2BDGeX7YzPkRrBmpmUVXG79Ls7q4SFmd_PzrSZQ, User={ Id = 2, Username = ll, Email = a, Role = typist }
2025-03-16 00:48:50.314 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 86.0479ms.
2025-03-16 00:48:50.316 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 00:48:50.319 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 00:48:50.319 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 00:48:50.320 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 00:48:50.321 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 00:48:50.322 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 00:48:50.323 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 199.8734ms
2025-03-16 00:48:50.324 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 00:48:50.325 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 00:48:50.326 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 29 - 200 - application/json;+charset=utf-8 223.7107ms
2025-03-16 00:48:59.650 +02:00 [DBG] Connection id "0HNB42B6FH0MB" received FIN.
2025-03-16 00:48:59.655 +02:00 [DBG] Connection id "0HNB42B6FH0MB" is closed. The last processed stream ID was 3.
2025-03-16 00:48:59.655 +02:00 [DBG] The connection queue processing loop for 0HNB42B6FH0MB completed.
2025-03-16 00:48:59.661 +02:00 [DBG] Connection id "0HNB42B6FH0MB" sending FIN because: "The client closed the connection."
2025-03-16 00:48:59.680 +02:00 [DBG] Connection id "0HNB42B6FH0MB" stopped.
2025-03-16 00:53:47.141 +02:00 [DBG] Connection id "0HNB42B6FH0MC" accepted.
2025-03-16 00:53:47.177 +02:00 [DBG] Connection id "0HNB42B6FH0MC" started.
2025-03-16 00:53:47.189 +02:00 [DBG] Connection 0HNB42B6FH0MC established using the following protocol: "Tls13"
2025-03-16 00:53:47.202 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/login - -
2025-03-16 00:53:47.214 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 00:53:47.217 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 00:53:47.222 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 00:53:47.228 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 00:53:47.231 +02:00 [INF] CORS policy execution successful.
2025-03-16 00:53:47.232 +02:00 [DBG] The request is a preflight request.
2025-03-16 00:53:47.236 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/login - - - 204 - - 34.2055ms
2025-03-16 00:53:47.239 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 29
2025-03-16 00:53:47.244 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 00:53:47.250 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 00:53:47.257 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 00:53:47.257 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 00:53:47.258 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 00:53:47.259 +02:00 [INF] CORS policy execution successful.
2025-03-16 00:53:47.260 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 00:53:47.261 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 00:53:47.264 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 00:53:47.267 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 00:53:47.268 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 00:53:47.270 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 00:53:47.271 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 00:53:47.273 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 00:53:47.274 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 00:53:47.281 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 00:53:47.284 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 00:53:47.285 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 00:53:47.286 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 00:53:47.287 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 00:53:47.288 +02:00 [DBG] Connection id "0HNB42B6FH0MC", Request id "0HNB42B6FH0MC:00000003": started reading request body.
2025-03-16 00:53:47.289 +02:00 [DBG] Connection id "0HNB42B6FH0MC", Request id "0HNB42B6FH0MC:00000003": done reading request body.
2025-03-16 00:53:47.290 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 00:53:47.291 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 00:53:47.292 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 00:53:47.293 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 00:53:47.294 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 00:53:47.308 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 00:53:47.310 +02:00 [INF] Login attempt for user: a
2025-03-16 00:53:47.311 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 00:53:47.312 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-16 00:53:47.313 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 00:53:47.370 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 00:53:47.376 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 00:53:47.388 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 00:53:47.395 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 00:53:47.398 +02:00 [DBG] A data reader was disposed.
2025-03-16 00:53:47.400 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 00:53:47.402 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 00:53:47.404 +02:00 [INF] Login successful for user: a
2025-03-16 00:53:47.405 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoibGwiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJ0eXBpc3QiLCJleHAiOjE3NDIwODEwMjcsImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.7IQWqcp2zlssN2pew4xZVv4E5IbkVEm8K9TcgspUuN8, User={ Id = 2, Username = ll, Email = a, Role = typist }
2025-03-16 00:53:47.406 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 96.4497ms.
2025-03-16 00:53:47.407 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 00:53:47.409 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 00:53:47.410 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 00:53:47.411 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 00:53:47.412 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 00:53:47.413 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 00:53:47.415 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 141.3576ms
2025-03-16 00:53:47.417 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 00:53:47.419 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 00:53:47.420 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 29 - 200 - application/json;+charset=utf-8 181.3319ms
2025-03-16 00:54:30.163 +02:00 [DBG] Connection id "0HNB42B6FH0MC" received FIN.
2025-03-16 00:54:30.167 +02:00 [DBG] Connection id "0HNB42B6FH0MC" is closed. The last processed stream ID was 3.
2025-03-16 00:54:30.169 +02:00 [DBG] The connection queue processing loop for 0HNB42B6FH0MC completed.
2025-03-16 00:54:30.184 +02:00 [DBG] Connection id "0HNB42B6FH0MC" sending FIN because: "The client closed the connection."
2025-03-16 00:54:30.195 +02:00 [DBG] Connection id "0HNB42B6FH0MC" stopped.
2025-03-16 00:54:34.923 +02:00 [DBG] Connection id "0HNB42B6FH0MD" accepted.
2025-03-16 00:54:34.926 +02:00 [DBG] Connection id "0HNB42B6FH0MD" started.
2025-03-16 00:54:34.935 +02:00 [DBG] Connection 0HNB42B6FH0MD established using the following protocol: "Tls13"
2025-03-16 00:54:34.943 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/login - -
2025-03-16 00:54:34.948 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 00:54:34.951 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 00:54:34.952 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 00:54:34.953 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 00:54:34.953 +02:00 [INF] CORS policy execution successful.
2025-03-16 00:54:34.954 +02:00 [DBG] The request is a preflight request.
2025-03-16 00:54:34.955 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/login - - - 204 - - 12.3085ms
2025-03-16 00:54:34.959 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 29
2025-03-16 00:54:34.961 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 00:54:34.963 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 00:54:34.964 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 00:54:34.965 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 00:54:34.966 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 00:54:34.967 +02:00 [INF] CORS policy execution successful.
2025-03-16 00:54:34.968 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 00:54:34.968 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 00:54:34.969 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 00:54:34.971 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 00:54:34.972 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 00:54:34.973 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 00:54:34.977 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 00:54:34.979 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 00:54:34.980 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 00:54:34.982 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 00:54:34.984 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 00:54:34.985 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 00:54:34.986 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 00:54:34.987 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 00:54:34.988 +02:00 [DBG] Connection id "0HNB42B6FH0MD", Request id "0HNB42B6FH0MD:00000003": started reading request body.
2025-03-16 00:54:34.989 +02:00 [DBG] Connection id "0HNB42B6FH0MD", Request id "0HNB42B6FH0MD:00000003": done reading request body.
2025-03-16 00:54:34.991 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 00:54:34.993 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 00:54:34.994 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 00:54:34.996 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 00:54:34.997 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 00:54:35.011 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 00:54:35.012 +02:00 [INF] Login attempt for user: a
2025-03-16 00:54:35.013 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 00:54:35.014 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-16 00:54:35.015 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 00:54:35.017 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 00:54:35.019 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 00:54:35.022 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 00:54:35.026 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 00:54:35.027 +02:00 [DBG] A data reader was disposed.
2025-03-16 00:54:35.028 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 00:54:35.029 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 00:54:35.030 +02:00 [INF] Login successful for user: a
2025-03-16 00:54:35.031 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoibGwiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJ0eXBpc3QiLCJleHAiOjE3NDIwODEwNzUsImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.Iz-mtRlQWAEsd-iPLB_CKffBXE2AIu1SuLMo_Q0BFXA, User={ Id = 2, Username = ll, Email = a, Role = typist }
2025-03-16 00:54:35.032 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 19.8862ms.
2025-03-16 00:54:35.033 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 00:54:35.035 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 00:54:35.036 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 00:54:35.036 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 00:54:35.037 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 00:54:35.039 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 00:54:35.042 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 61.2162ms
2025-03-16 00:54:35.043 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 00:54:35.044 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 00:54:35.046 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 29 - 200 - application/json;+charset=utf-8 87.2172ms
2025-03-16 00:54:43.611 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/2 - -
2025-03-16 00:54:43.615 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 00:54:43.619 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 00:54:43.625 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 00:54:43.627 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 00:54:43.627 +02:00 [INF] CORS policy execution successful.
2025-03-16 00:54:43.628 +02:00 [DBG] The request is a preflight request.
2025-03-16 00:54:43.629 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/2 - - - 204 - - 18.4126ms
2025-03-16 00:54:43.631 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7234/api/User/2 application/json 64
2025-03-16 00:54:43.633 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 00:54:43.634 +02:00 [DBG] Endpoint 'UserController.UpdateUser (WebApplication1)' with route pattern 'api/User/{userId}' is valid for the request path '/api/User/2'
2025-03-16 00:54:43.638 +02:00 [DBG] Request matched endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 00:54:43.674 +02:00 [DBG] Successfully validated the token.
2025-03-16 00:54:43.682 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-03-16 00:54:43.687 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 00:54:43.690 +02:00 [INF] CORS policy execution successful.
2025-03-16 00:54:43.693 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 00:54:43.695 +02:00 [DBG] Authorization was successful.
2025-03-16 00:54:43.696 +02:00 [INF] Executing endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 00:54:43.702 +02:00 [INF] Route matched with {action = "UpdateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(Int32, UserDto) on controller UserController (WebApplication1).
2025-03-16 00:54:43.706 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 00:54:43.707 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 00:54:43.709 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 00:54:43.710 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 00:54:43.711 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 00:54:43.713 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 00:54:43.715 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 00:54:43.716 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 00:54:43.717 +02:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2025-03-16 00:54:43.719 +02:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-03-16 00:54:43.722 +02:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-03-16 00:54:43.723 +02:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-03-16 00:54:43.724 +02:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2025-03-16 00:54:43.725 +02:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2025-03-16 00:54:43.726 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'UserDto' ...
2025-03-16 00:54:43.727 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'UserDto' using the name '' in request data ...
2025-03-16 00:54:43.729 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 00:54:43.730 +02:00 [DBG] Connection id "0HNB42B6FH0MD", Request id "0HNB42B6FH0MD:00000007": started reading request body.
2025-03-16 00:54:43.731 +02:00 [DBG] Connection id "0HNB42B6FH0MD", Request id "0HNB42B6FH0MD:00000007": done reading request body.
2025-03-16 00:54:43.734 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'UserDto'
2025-03-16 00:54:43.735 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'UserDto'.
2025-03-16 00:54:43.737 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'UserDto'.
2025-03-16 00:54:43.738 +02:00 [DBG] Attempting to validate the bound parameter 'userDto' of type 'UserDto' ...
2025-03-16 00:54:43.742 +02:00 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'UserDto'.
2025-03-16 00:54:43.744 +02:00 [DBG] The request has model state errors, returning an error response.
2025-03-16 00:54:43.747 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-03-16 00:54:43.748 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 00:54:43.750 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 00:54:43.751 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-03-16 00:54:43.754 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-03-16 00:54:43.755 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-03-16 00:54:43.759 +02:00 [INF] Executed action UserController.UpdateUser (WebApplication1) in 46.1332ms
2025-03-16 00:54:43.761 +02:00 [INF] Executed endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 00:54:43.762 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 00:54:43.763 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7234/api/User/2 application/json 64 - 400 - application/problem+json;+charset=utf-8 132.1940ms
2025-03-16 00:55:08.792 +02:00 [DBG] Connection id "0HNB42B6FH0MD" received FIN.
2025-03-16 00:55:08.797 +02:00 [DBG] Connection id "0HNB42B6FH0MD" is closed. The last processed stream ID was 7.
2025-03-16 00:55:08.797 +02:00 [DBG] The connection queue processing loop for 0HNB42B6FH0MD completed.
2025-03-16 00:55:08.801 +02:00 [DBG] Connection id "0HNB42B6FH0MD" sending FIN because: "The client closed the connection."
2025-03-16 00:55:08.809 +02:00 [DBG] Connection id "0HNB42B6FH0MD" stopped.
2025-03-16 00:55:15.640 +02:00 [DBG] Connection id "0HNB42B6FH0ME" accepted.
2025-03-16 00:55:15.644 +02:00 [DBG] Connection id "0HNB42B6FH0ME" started.
2025-03-16 00:55:15.654 +02:00 [DBG] Connection 0HNB42B6FH0ME established using the following protocol: "Tls13"
2025-03-16 00:55:15.668 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/2 - -
2025-03-16 00:55:15.671 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 00:55:15.685 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 00:55:15.687 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 00:55:15.688 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 00:55:15.694 +02:00 [INF] CORS policy execution successful.
2025-03-16 00:55:15.698 +02:00 [DBG] The request is a preflight request.
2025-03-16 00:55:15.702 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/2 - - - 204 - - 33.8387ms
2025-03-16 00:55:15.704 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7234/api/User/2 application/json 67
2025-03-16 00:55:15.708 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 00:55:15.713 +02:00 [DBG] Endpoint 'UserController.UpdateUser (WebApplication1)' with route pattern 'api/User/{userId}' is valid for the request path '/api/User/2'
2025-03-16 00:55:15.717 +02:00 [DBG] Request matched endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 00:55:15.718 +02:00 [DBG] Successfully validated the token.
2025-03-16 00:55:15.719 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-03-16 00:55:15.722 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 00:55:15.724 +02:00 [INF] CORS policy execution successful.
2025-03-16 00:55:15.725 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 00:55:15.727 +02:00 [DBG] Authorization was successful.
2025-03-16 00:55:15.728 +02:00 [INF] Executing endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 00:55:15.731 +02:00 [INF] Route matched with {action = "UpdateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(Int32, UserDto) on controller UserController (WebApplication1).
2025-03-16 00:55:15.733 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 00:55:15.736 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 00:55:15.739 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 00:55:15.744 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 00:55:15.745 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 00:55:15.746 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 00:55:15.748 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 00:55:15.750 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 00:55:15.751 +02:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2025-03-16 00:55:15.752 +02:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-03-16 00:55:15.754 +02:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-03-16 00:55:15.757 +02:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-03-16 00:55:15.758 +02:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2025-03-16 00:55:15.760 +02:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2025-03-16 00:55:15.761 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'UserDto' ...
2025-03-16 00:55:15.762 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'UserDto' using the name '' in request data ...
2025-03-16 00:55:15.763 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 00:55:15.764 +02:00 [DBG] Connection id "0HNB42B6FH0ME", Request id "0HNB42B6FH0ME:00000003": started reading request body.
2025-03-16 00:55:15.765 +02:00 [DBG] Connection id "0HNB42B6FH0ME", Request id "0HNB42B6FH0ME:00000003": done reading request body.
2025-03-16 00:55:15.766 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'UserDto'
2025-03-16 00:55:15.767 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'UserDto'.
2025-03-16 00:55:15.768 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'UserDto'.
2025-03-16 00:55:15.770 +02:00 [DBG] Attempting to validate the bound parameter 'userDto' of type 'UserDto' ...
2025-03-16 00:55:15.772 +02:00 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'UserDto'.
2025-03-16 00:55:15.773 +02:00 [DBG] The request has model state errors, returning an error response.
2025-03-16 00:55:15.774 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-03-16 00:55:15.775 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 00:55:15.778 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 00:55:15.779 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-03-16 00:55:15.781 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-03-16 00:55:15.783 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-03-16 00:55:15.784 +02:00 [INF] Executed action UserController.UpdateUser (WebApplication1) in 38.1974ms
2025-03-16 00:55:15.786 +02:00 [INF] Executed endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 00:55:15.788 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 00:55:15.789 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7234/api/User/2 application/json 67 - 400 - application/problem+json;+charset=utf-8 84.8121ms
2025-03-16 00:56:38.969 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/2 - -
2025-03-16 00:56:38.989 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 00:56:38.995 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 00:56:39.002 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 00:56:39.008 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 00:56:39.012 +02:00 [INF] CORS policy execution successful.
2025-03-16 00:56:39.014 +02:00 [DBG] The request is a preflight request.
2025-03-16 00:56:39.019 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/2 - - - 204 - - 50.0480ms
2025-03-16 00:56:39.022 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7234/api/User/2 application/json 66
2025-03-16 00:56:39.066 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 00:56:39.072 +02:00 [DBG] Endpoint 'UserController.UpdateUser (WebApplication1)' with route pattern 'api/User/{userId}' is valid for the request path '/api/User/2'
2025-03-16 00:56:39.074 +02:00 [DBG] Request matched endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 00:56:39.075 +02:00 [DBG] Successfully validated the token.
2025-03-16 00:56:39.076 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-03-16 00:56:39.077 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 00:56:39.078 +02:00 [INF] CORS policy execution successful.
2025-03-16 00:56:39.079 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 00:56:39.081 +02:00 [DBG] Authorization was successful.
2025-03-16 00:56:39.081 +02:00 [INF] Executing endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 00:56:39.082 +02:00 [INF] Route matched with {action = "UpdateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(Int32, UserDto) on controller UserController (WebApplication1).
2025-03-16 00:56:39.084 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 00:56:39.085 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 00:56:39.087 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 00:56:39.089 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 00:56:39.090 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 00:56:39.091 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 00:56:39.093 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 00:56:39.096 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 00:56:39.097 +02:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2025-03-16 00:56:39.099 +02:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-03-16 00:56:39.100 +02:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-03-16 00:56:39.101 +02:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-03-16 00:56:39.102 +02:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2025-03-16 00:56:39.103 +02:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2025-03-16 00:56:39.104 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'UserDto' ...
2025-03-16 00:56:39.105 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'UserDto' using the name '' in request data ...
2025-03-16 00:56:39.106 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 00:56:39.107 +02:00 [DBG] Connection id "0HNB42B6FH0ME", Request id "0HNB42B6FH0ME:00000007": started reading request body.
2025-03-16 00:56:39.108 +02:00 [DBG] Connection id "0HNB42B6FH0ME", Request id "0HNB42B6FH0ME:00000007": done reading request body.
2025-03-16 00:56:39.109 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'UserDto'
2025-03-16 00:56:39.110 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'UserDto'.
2025-03-16 00:56:39.111 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'UserDto'.
2025-03-16 00:56:39.112 +02:00 [DBG] Attempting to validate the bound parameter 'userDto' of type 'UserDto' ...
2025-03-16 00:56:39.114 +02:00 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'UserDto'.
2025-03-16 00:56:39.115 +02:00 [DBG] The request has model state errors, returning an error response.
2025-03-16 00:56:39.116 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-03-16 00:56:39.117 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 00:56:39.119 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 00:56:39.120 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-03-16 00:56:39.122 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-03-16 00:56:39.123 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-03-16 00:56:39.124 +02:00 [INF] Executed action UserController.UpdateUser (WebApplication1) in 33.0431ms
2025-03-16 00:56:39.125 +02:00 [INF] Executed endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 00:56:39.126 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 00:56:39.127 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7234/api/User/2 application/json 66 - 400 - application/problem+json;+charset=utf-8 105.4253ms
2025-03-16 00:56:40.377 +02:00 [DBG] Connection id "0HNB42B6FH0ME" received FIN.
2025-03-16 00:56:40.381 +02:00 [DBG] Connection id "0HNB42B6FH0ME" is closed. The last processed stream ID was 7.
2025-03-16 00:56:40.381 +02:00 [DBG] The connection queue processing loop for 0HNB42B6FH0ME completed.
2025-03-16 00:56:40.387 +02:00 [DBG] Connection id "0HNB42B6FH0ME" sending FIN because: "The client closed the connection."
2025-03-16 00:56:40.404 +02:00 [DBG] Connection id "0HNB42B6FH0ME" stopped.
2025-03-16 00:57:20.540 +02:00 [DBG] Connection id "0HNB42B6FH0MF" accepted.
2025-03-16 00:57:20.547 +02:00 [DBG] Connection id "0HNB42B6FH0MF" started.
2025-03-16 00:57:20.566 +02:00 [DBG] Connection 0HNB42B6FH0MF established using the following protocol: "Tls13"
2025-03-16 00:57:20.584 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/2 - -
2025-03-16 00:57:20.588 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 00:57:20.591 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 00:57:20.594 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 00:57:20.597 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 00:57:20.600 +02:00 [INF] CORS policy execution successful.
2025-03-16 00:57:20.601 +02:00 [DBG] The request is a preflight request.
2025-03-16 00:57:20.602 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/2 - - - 204 - - 18.8075ms
2025-03-16 00:57:20.604 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7234/api/User/2 application/json 67
2025-03-16 00:57:20.605 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 00:57:20.606 +02:00 [DBG] Endpoint 'UserController.UpdateUser (WebApplication1)' with route pattern 'api/User/{userId}' is valid for the request path '/api/User/2'
2025-03-16 00:57:20.608 +02:00 [DBG] Request matched endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 00:57:20.610 +02:00 [DBG] Successfully validated the token.
2025-03-16 00:57:20.610 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-03-16 00:57:20.611 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 00:57:20.612 +02:00 [INF] CORS policy execution successful.
2025-03-16 00:57:20.613 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 00:57:20.614 +02:00 [DBG] Authorization was successful.
2025-03-16 00:57:20.615 +02:00 [INF] Executing endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 00:57:20.615 +02:00 [INF] Route matched with {action = "UpdateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(Int32, UserDto) on controller UserController (WebApplication1).
2025-03-16 00:57:20.617 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 00:57:20.618 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 00:57:20.620 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 00:57:20.622 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 00:57:20.624 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 00:57:20.627 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 00:57:20.629 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 00:57:20.631 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 00:57:20.632 +02:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2025-03-16 00:57:20.633 +02:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-03-16 00:57:20.634 +02:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-03-16 00:57:20.636 +02:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-03-16 00:57:20.637 +02:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2025-03-16 00:57:20.638 +02:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2025-03-16 00:57:20.639 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'UserDto' ...
2025-03-16 00:57:20.640 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'UserDto' using the name '' in request data ...
2025-03-16 00:57:20.642 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 00:57:20.643 +02:00 [DBG] Connection id "0HNB42B6FH0MF", Request id "0HNB42B6FH0MF:00000003": started reading request body.
2025-03-16 00:57:20.644 +02:00 [DBG] Connection id "0HNB42B6FH0MF", Request id "0HNB42B6FH0MF:00000003": done reading request body.
2025-03-16 00:57:20.645 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'UserDto'
2025-03-16 00:57:20.646 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'UserDto'.
2025-03-16 00:57:20.647 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'UserDto'.
2025-03-16 00:57:20.648 +02:00 [DBG] Attempting to validate the bound parameter 'userDto' of type 'UserDto' ...
2025-03-16 00:57:20.649 +02:00 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'UserDto'.
2025-03-16 00:57:20.650 +02:00 [DBG] The request has model state errors, returning an error response.
2025-03-16 00:57:20.651 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-03-16 00:57:20.652 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 00:57:20.654 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 00:57:20.655 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-03-16 00:57:20.657 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-03-16 00:57:20.658 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-03-16 00:57:20.660 +02:00 [INF] Executed action UserController.UpdateUser (WebApplication1) in 33.1147ms
2025-03-16 00:57:20.661 +02:00 [INF] Executed endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 00:57:20.662 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 00:57:20.663 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7234/api/User/2 application/json 67 - 400 - application/problem+json;+charset=utf-8 59.1362ms
2025-03-16 00:57:25.428 +02:00 [DBG] Connection id "0HNB42B6FH0MF" received FIN.
2025-03-16 00:57:25.430 +02:00 [DBG] Connection id "0HNB42B6FH0MF" is closed. The last processed stream ID was 3.
2025-03-16 00:57:25.431 +02:00 [DBG] The connection queue processing loop for 0HNB42B6FH0MF completed.
2025-03-16 00:57:25.433 +02:00 [DBG] Connection id "0HNB42B6FH0MF" sending FIN because: "The client closed the connection."
2025-03-16 00:57:25.441 +02:00 [DBG] Connection id "0HNB42B6FH0MF" stopped.
2025-03-16 01:04:17.368 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-03-16 01:04:17.838 +02:00 [DBG] Hosting starting
2025-03-16 01:04:17.918 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-16 01:04:17.932 +02:00 [DBG] Reading data from file 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys\key-3b1791d9-af35-4b48-969e-d576339e2e30.xml'.
2025-03-16 01:04:17.952 +02:00 [DBG] Reading data from file 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys\key-f748f32e-fd47-4627-8870-71b23dd2fdee.xml'.
2025-03-16 01:04:17.967 +02:00 [DBG] Found key {3b1791d9-af35-4b48-969e-d576339e2e30}.
2025-03-16 01:04:17.982 +02:00 [DBG] Found key {f748f32e-fd47-4627-8870-71b23dd2fdee}.
2025-03-16 01:04:17.998 +02:00 [DBG] Considering key {3b1791d9-af35-4b48-969e-d576339e2e30} with expiration date 2025-06-08 19:45:45Z as default key.
2025-03-16 01:04:18.008 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-03-16 01:04:18.016 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-03-16 01:04:18.023 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-03-16 01:04:18.040 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-03-16 01:04:18.046 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-03-16 01:04:18.056 +02:00 [DBG] Using key {3b1791d9-af35-4b48-969e-d576339e2e30} as the default key.
2025-03-16 01:04:18.061 +02:00 [DBG] Key ring with default key {3b1791d9-af35-4b48-969e-d576339e2e30} was loaded during application startup.
2025-03-16 01:04:18.615 +02:00 [INF] Now listening on: https://localhost:7234
2025-03-16 01:04:18.619 +02:00 [INF] Now listening on: http://localhost:5254
2025-03-16 01:04:18.624 +02:00 [DBG] Loaded hosting startup assembly WebApplication1
2025-03-16 01:04:18.627 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-03-16 01:04:18.630 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-03-16 01:04:18.635 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-16 01:04:18.638 +02:00 [INF] Hosting environment: Development
2025-03-16 01:04:18.640 +02:00 [INF] Content root path: C:\Users\user1\Desktop\לימודים\net core\practicom\WebApplication1
2025-03-16 01:04:18.643 +02:00 [DBG] Hosting started
2025-03-16 01:04:18.771 +02:00 [DBG] Connection id "0HNB42MRJN0HC" received FIN.
2025-03-16 01:04:18.771 +02:00 [DBG] Connection id "0HNB42MRJN0HB" received FIN.
2025-03-16 01:04:18.775 +02:00 [DBG] Connection id "0HNB42MRJN0HB" accepted.
2025-03-16 01:04:18.775 +02:00 [DBG] Connection id "0HNB42MRJN0HC" accepted.
2025-03-16 01:04:18.786 +02:00 [DBG] Connection id "0HNB42MRJN0HB" started.
2025-03-16 01:04:18.789 +02:00 [DBG] Connection id "0HNB42MRJN0HC" started.
2025-03-16 01:04:18.844 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-03-16 01:04:18.844 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-03-16 01:04:18.950 +02:00 [DBG] Connection id "0HNB42MRJN0HC" stopped.
2025-03-16 01:04:18.951 +02:00 [DBG] Connection id "0HNB42MRJN0HB" stopped.
2025-03-16 01:04:18.962 +02:00 [DBG] Connection id "0HNB42MRJN0HB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-03-16 01:04:18.962 +02:00 [DBG] Connection id "0HNB42MRJN0HC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-03-16 01:04:19.358 +02:00 [DBG] Connection id "0HNB42MRJN0HD" accepted.
2025-03-16 01:04:19.364 +02:00 [DBG] Connection id "0HNB42MRJN0HD" started.
2025-03-16 01:04:19.467 +02:00 [DBG] Connection 0HNB42MRJN0HD established using the following protocol: "Tls13"
2025-03-16 01:04:19.665 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7234/swagger/index.html - -
2025-03-16 01:04:19.713 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-03-16 01:04:19.763 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-03-16 01:04:19.768 +02:00 [DBG] Request did not match any endpoints
2025-03-16 01:04:19.954 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:04:20.101 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-03-16 01:04:20.237 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-03-16 01:04:20.244 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7234/swagger/index.html - - - 200 - text/html;charset=utf-8 581.2541ms
2025-03-16 01:04:20.259 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7234/_framework/aspnetcore-browser-refresh.js - -
2025-03-16 01:04:20.259 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7234/_vs/browserLink - -
2025-03-16 01:04:20.308 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7234/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 48.3630ms
2025-03-16 01:04:20.381 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7234/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 122.1409ms
2025-03-16 01:04:20.464 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7234/swagger/v1/swagger.json - -
2025-03-16 01:04:20.467 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-03-16 01:04:20.469 +02:00 [DBG] Request did not match any endpoints
2025-03-16 01:04:20.473 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:04:20.675 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7234/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 211.5331ms
2025-03-16 01:04:21.071 +02:00 [DBG] Connection id "0HNB42MRJN0HD" received FIN.
2025-03-16 01:04:21.078 +02:00 [DBG] The connection queue processing loop for 0HNB42MRJN0HD completed.
2025-03-16 01:04:21.081 +02:00 [DBG] Connection id "0HNB42MRJN0HD" is closed. The last processed stream ID was 7.
2025-03-16 01:04:21.086 +02:00 [DBG] Connection id "0HNB42MRJN0HD" sending FIN because: "The client closed the connection."
2025-03-16 01:04:21.100 +02:00 [DBG] Connection id "0HNB42MRJN0HD" stopped.
2025-03-16 01:04:23.682 +02:00 [DBG] Connection id "0HNB42MRJN0HE" accepted.
2025-03-16 01:04:23.683 +02:00 [DBG] Connection id "0HNB42MRJN0HE" started.
2025-03-16 01:04:23.694 +02:00 [DBG] Connection 0HNB42MRJN0HE established using the following protocol: "Tls13"
2025-03-16 01:04:23.702 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/2 - -
2025-03-16 01:04:23.712 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 01:04:23.718 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 01:04:23.725 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:04:23.729 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:04:23.730 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:04:23.733 +02:00 [DBG] The request is a preflight request.
2025-03-16 01:04:23.735 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/2 - - - 204 - - 33.5081ms
2025-03-16 01:04:23.738 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7234/api/User/2 application/json 65
2025-03-16 01:04:23.741 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 01:04:23.746 +02:00 [DBG] Endpoint 'UserController.UpdateUser (WebApplication1)' with route pattern 'api/User/{userId}' is valid for the request path '/api/User/2'
2025-03-16 01:04:23.747 +02:00 [DBG] Request matched endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 01:04:23.908 +02:00 [DBG] Successfully validated the token.
2025-03-16 01:04:23.914 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-03-16 01:04:23.919 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:04:23.924 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:04:23.928 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:04:23.935 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (client|type)
2025-03-16 01:04:23.940 +02:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-16 01:04:23.943 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7234/api/User/2 application/json 65 - 403 0 - 205.3076ms
2025-03-16 01:04:23.945 +02:00 [DBG] Connection id "0HNB42MRJN0HE", Request id "0HNB42MRJN0HE:00000003": started reading request body.
2025-03-16 01:04:23.948 +02:00 [DBG] Connection id "0HNB42MRJN0HE", Request id "0HNB42MRJN0HE:00000003": done reading request body.
2025-03-16 01:04:31.088 +02:00 [DBG] Connection id "0HNB42MRJN0HE" received FIN.
2025-03-16 01:04:31.093 +02:00 [DBG] Connection id "0HNB42MRJN0HE" is closed. The last processed stream ID was 3.
2025-03-16 01:04:31.093 +02:00 [DBG] The connection queue processing loop for 0HNB42MRJN0HE completed.
2025-03-16 01:04:31.100 +02:00 [DBG] Connection id "0HNB42MRJN0HE" sending FIN because: "The client closed the connection."
2025-03-16 01:04:31.111 +02:00 [DBG] Connection id "0HNB42MRJN0HE" stopped.
2025-03-16 01:05:44.313 +02:00 [DBG] Connection id "0HNB42MRJN0HF" accepted.
2025-03-16 01:05:44.355 +02:00 [DBG] Connection id "0HNB42MRJN0HF" started.
2025-03-16 01:05:44.362 +02:00 [DBG] Connection 0HNB42MRJN0HF established using the following protocol: "Tls13"
2025-03-16 01:05:44.376 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/2 - -
2025-03-16 01:05:44.380 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 01:05:44.384 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 01:05:44.385 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:05:44.386 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:05:44.387 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:05:44.388 +02:00 [DBG] The request is a preflight request.
2025-03-16 01:05:44.388 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/2 - - - 204 - - 12.3513ms
2025-03-16 01:05:44.391 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7234/api/User/2 application/json 68
2025-03-16 01:05:44.392 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 01:05:44.394 +02:00 [DBG] Endpoint 'UserController.UpdateUser (WebApplication1)' with route pattern 'api/User/{userId}' is valid for the request path '/api/User/2'
2025-03-16 01:05:44.396 +02:00 [DBG] Request matched endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 01:05:44.397 +02:00 [DBG] Successfully validated the token.
2025-03-16 01:05:44.399 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-03-16 01:05:44.400 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:05:44.401 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:05:44.401 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:05:44.403 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (client|type)
2025-03-16 01:05:44.405 +02:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-16 01:05:44.407 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7234/api/User/2 application/json 68 - 403 0 - 15.8349ms
2025-03-16 01:05:44.409 +02:00 [DBG] Connection id "0HNB42MRJN0HF", Request id "0HNB42MRJN0HF:00000003": started reading request body.
2025-03-16 01:05:44.412 +02:00 [DBG] Connection id "0HNB42MRJN0HF", Request id "0HNB42MRJN0HF:00000003": done reading request body.
2025-03-16 01:05:51.208 +02:00 [DBG] Connection id "0HNB42MRJN0HF" received FIN.
2025-03-16 01:05:51.210 +02:00 [DBG] Connection id "0HNB42MRJN0HF" is closed. The last processed stream ID was 3.
2025-03-16 01:05:51.210 +02:00 [DBG] The connection queue processing loop for 0HNB42MRJN0HF completed.
2025-03-16 01:05:51.224 +02:00 [DBG] Connection id "0HNB42MRJN0HF" sending FIN because: "The client closed the connection."
2025-03-16 01:05:51.239 +02:00 [DBG] Connection id "0HNB42MRJN0HF" stopped.
2025-03-16 01:06:00.441 +02:00 [DBG] Connection id "0HNB42MRJN0HG" accepted.
2025-03-16 01:06:00.448 +02:00 [DBG] Connection id "0HNB42MRJN0HG" started.
2025-03-16 01:06:00.461 +02:00 [DBG] Connection 0HNB42MRJN0HG established using the following protocol: "Tls13"
2025-03-16 01:06:00.467 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/login - -
2025-03-16 01:06:00.480 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 01:06:00.482 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 01:06:00.486 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:06:00.494 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:06:00.498 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:06:00.501 +02:00 [DBG] The request is a preflight request.
2025-03-16 01:06:00.505 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/login - - - 204 - - 38.7996ms
2025-03-16 01:06:00.507 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 29
2025-03-16 01:06:00.511 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 01:06:00.513 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 01:06:00.515 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:06:00.516 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:06:00.517 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:06:00.518 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:06:00.519 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:06:00.520 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:06:00.546 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 01:06:00.558 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 01:06:00.566 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 01:06:00.570 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 01:06:00.573 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 01:06:00.577 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 01:06:00.580 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 01:06:00.799 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-03-16 01:06:01.130 +02:00 [DBG] The property 'Customer.userId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-16 01:06:01.135 +02:00 [DBG] The property 'SpeechToText.UserId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-16 01:06:01.139 +02:00 [DBG] The property 'UserFile.CustomerId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-16 01:06:01.231 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 01:06:01.243 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 01:06:01.262 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 01:06:01.268 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 01:06:01.273 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 01:06:01.280 +02:00 [DBG] Connection id "0HNB42MRJN0HG", Request id "0HNB42MRJN0HG:00000003": started reading request body.
2025-03-16 01:06:01.286 +02:00 [DBG] Connection id "0HNB42MRJN0HG", Request id "0HNB42MRJN0HG:00000003": done reading request body.
2025-03-16 01:06:01.294 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 01:06:01.295 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 01:06:01.297 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 01:06:01.299 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 01:06:01.307 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 01:06:01.371 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 01:06:01.378 +02:00 [INF] Login attempt for user: a
2025-03-16 01:06:01.434 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Email == __email_0)'
2025-03-16 01:06:01.553 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.Email (string) Required, 2], [Property: User.Password (string) Required, 3], [Property: User.Role (string) Required, 4], [Property: User.UpdatedAt (DateTime) Required, 5], [Property: User.Username (string) Required, 6] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.Email, u.Password, u.Role, u.UpdatedAt, u.Username
            FROM Users AS u
            WHERE u.Email == @__email_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-03-16 01:06:01.584 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 01:06:01.591 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-03-16 01:06:01.609 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 01:06:01.650 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 01:06:01.661 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 01:06:01.690 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 01:06:01.748 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 01:06:01.772 +02:00 [DBG] A data reader was disposed.
2025-03-16 01:06:01.780 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 01:06:01.784 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 01:06:01.793 +02:00 [INF] Login successful for user: a
2025-03-16 01:06:01.795 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoibGwiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJ0eXBpc3QiLCJleHAiOjE3NDIwODE3NjEsImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.nCmMM6fTttuYUvaEjlcnPTogtFSaBB4mUr9q4k0lY7A, User={ Id = 2, Username = ll, Email = a, Role = typist }
2025-03-16 01:06:01.800 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 420.2816ms.
2025-03-16 01:06:01.805 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 01:06:01.809 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 01:06:01.809 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 01:06:01.810 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 01:06:01.811 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 01:06:01.813 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 01:06:01.824 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 1242.6915ms
2025-03-16 01:06:01.826 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:06:01.829 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 01:06:01.837 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 29 - 200 - application/json;+charset=utf-8 1329.4887ms
2025-03-16 01:06:11.225 +02:00 [DBG] Connection id "0HNB42MRJN0HG" received FIN.
2025-03-16 01:06:11.228 +02:00 [DBG] Connection id "0HNB42MRJN0HG" is closed. The last processed stream ID was 3.
2025-03-16 01:06:11.228 +02:00 [DBG] The connection queue processing loop for 0HNB42MRJN0HG completed.
2025-03-16 01:06:11.230 +02:00 [DBG] Connection id "0HNB42MRJN0HG" sending FIN because: "The client closed the connection."
2025-03-16 01:06:11.243 +02:00 [DBG] Connection id "0HNB42MRJN0HG" stopped.
2025-03-16 01:06:13.803 +02:00 [DBG] Connection id "0HNB42MRJN0HH" accepted.
2025-03-16 01:06:13.805 +02:00 [DBG] Connection id "0HNB42MRJN0HH" started.
2025-03-16 01:06:13.810 +02:00 [DBG] Connection 0HNB42MRJN0HH established using the following protocol: "Tls13"
2025-03-16 01:06:13.816 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/2 - -
2025-03-16 01:06:13.844 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 01:06:13.846 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 01:06:13.850 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:06:13.855 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:06:13.860 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:06:13.861 +02:00 [DBG] The request is a preflight request.
2025-03-16 01:06:13.864 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/2 - - - 204 - - 48.1260ms
2025-03-16 01:06:13.867 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7234/api/User/2 application/json 66
2025-03-16 01:06:13.871 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 01:06:13.875 +02:00 [DBG] Endpoint 'UserController.UpdateUser (WebApplication1)' with route pattern 'api/User/{userId}' is valid for the request path '/api/User/2'
2025-03-16 01:06:13.881 +02:00 [DBG] Request matched endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 01:06:13.886 +02:00 [DBG] Successfully validated the token.
2025-03-16 01:06:13.890 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-03-16 01:06:13.894 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:06:13.899 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:06:13.901 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:06:13.902 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (client|type)
2025-03-16 01:06:13.903 +02:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-16 01:06:13.904 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7234/api/User/2 application/json 66 - 403 0 - 37.0316ms
2025-03-16 01:06:13.905 +02:00 [DBG] Connection id "0HNB42MRJN0HH", Request id "0HNB42MRJN0HH:00000003": started reading request body.
2025-03-16 01:06:13.907 +02:00 [DBG] Connection id "0HNB42MRJN0HH", Request id "0HNB42MRJN0HH:00000003": done reading request body.
2025-03-16 01:06:21.228 +02:00 [DBG] Connection id "0HNB42MRJN0HH" received FIN.
2025-03-16 01:06:21.231 +02:00 [DBG] Connection id "0HNB42MRJN0HH" is closed. The last processed stream ID was 3.
2025-03-16 01:06:21.231 +02:00 [DBG] The connection queue processing loop for 0HNB42MRJN0HH completed.
2025-03-16 01:06:21.237 +02:00 [DBG] Connection id "0HNB42MRJN0HH" sending FIN because: "The client closed the connection."
2025-03-16 01:06:21.258 +02:00 [DBG] Connection id "0HNB42MRJN0HH" stopped.
2025-03-16 01:06:25.465 +02:00 [DBG] Connection id "0HNB42MRJN0HI" accepted.
2025-03-16 01:06:25.466 +02:00 [DBG] Connection id "0HNB42MRJN0HI" started.
2025-03-16 01:06:25.472 +02:00 [DBG] Connection 0HNB42MRJN0HI established using the following protocol: "Tls13"
2025-03-16 01:06:25.474 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/2 - -
2025-03-16 01:06:25.477 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 01:06:25.479 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 01:06:25.480 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:06:25.481 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:06:25.482 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:06:25.483 +02:00 [DBG] The request is a preflight request.
2025-03-16 01:06:25.484 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/2 - - - 204 - - 10.3789ms
2025-03-16 01:06:25.487 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7234/api/User/2 application/json 64
2025-03-16 01:06:25.489 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 01:06:25.522 +02:00 [DBG] Endpoint 'UserController.UpdateUser (WebApplication1)' with route pattern 'api/User/{userId}' is valid for the request path '/api/User/2'
2025-03-16 01:06:25.524 +02:00 [DBG] Request matched endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 01:06:25.526 +02:00 [DBG] Successfully validated the token.
2025-03-16 01:06:25.528 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-03-16 01:06:25.529 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:06:25.531 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:06:25.532 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:06:25.536 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (client|type)
2025-03-16 01:06:25.538 +02:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-16 01:06:25.541 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7234/api/User/2 application/json 64 - 403 0 - 53.5983ms
2025-03-16 01:06:25.542 +02:00 [DBG] Connection id "0HNB42MRJN0HI", Request id "0HNB42MRJN0HI:00000003": started reading request body.
2025-03-16 01:06:25.543 +02:00 [DBG] Connection id "0HNB42MRJN0HI", Request id "0HNB42MRJN0HI:00000003": done reading request body.
2025-03-16 01:06:31.237 +02:00 [DBG] Connection id "0HNB42MRJN0HI" received FIN.
2025-03-16 01:06:31.239 +02:00 [DBG] Connection id "0HNB42MRJN0HI" is closed. The last processed stream ID was 3.
2025-03-16 01:06:31.239 +02:00 [DBG] The connection queue processing loop for 0HNB42MRJN0HI completed.
2025-03-16 01:06:31.241 +02:00 [DBG] Connection id "0HNB42MRJN0HI" sending FIN because: "The client closed the connection."
2025-03-16 01:06:31.251 +02:00 [DBG] Connection id "0HNB42MRJN0HI" stopped.
2025-03-16 01:09:04.163 +02:00 [DBG] Connection id "0HNB42MRJN0HJ" accepted.
2025-03-16 01:09:04.188 +02:00 [DBG] Connection id "0HNB42MRJN0HJ" started.
2025-03-16 01:09:04.198 +02:00 [DBG] Connection 0HNB42MRJN0HJ established using the following protocol: "Tls13"
2025-03-16 01:09:04.219 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/login - -
2025-03-16 01:09:04.228 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 01:09:04.232 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 01:09:04.233 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:09:04.236 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:09:04.237 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:09:04.238 +02:00 [DBG] The request is a preflight request.
2025-03-16 01:09:04.239 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/login - - - 204 - - 20.0649ms
2025-03-16 01:09:04.241 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 29
2025-03-16 01:09:04.242 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 01:09:04.244 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 01:09:04.245 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:09:04.246 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:09:04.247 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:09:04.248 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:09:04.249 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:09:04.250 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:09:04.251 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 01:09:04.253 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 01:09:04.254 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 01:09:04.255 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 01:09:04.256 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 01:09:04.258 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 01:09:04.259 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 01:09:04.308 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 01:09:04.318 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 01:09:04.322 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 01:09:04.323 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 01:09:04.327 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 01:09:04.331 +02:00 [DBG] Connection id "0HNB42MRJN0HJ", Request id "0HNB42MRJN0HJ:00000003": started reading request body.
2025-03-16 01:09:04.333 +02:00 [DBG] Connection id "0HNB42MRJN0HJ", Request id "0HNB42MRJN0HJ:00000003": done reading request body.
2025-03-16 01:09:04.335 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 01:09:04.336 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 01:09:04.337 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 01:09:04.338 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 01:09:04.339 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 01:09:04.355 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 01:09:04.356 +02:00 [INF] Login attempt for user: a
2025-03-16 01:09:04.361 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 01:09:04.363 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-16 01:09:04.365 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 01:09:04.370 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 01:09:04.371 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 01:09:04.378 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 01:09:04.381 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 01:09:04.382 +02:00 [DBG] A data reader was disposed.
2025-03-16 01:09:04.384 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 01:09:04.385 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 01:09:04.386 +02:00 [INF] Login successful for user: a
2025-03-16 01:09:04.387 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoibGwiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJ0eXBpc3QiLCJleHAiOjE3NDIwODE5NDQsImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.eCYGMKpY8LjOWoyal21_PWTAqpdu9lmflenKfbJUCDU, User={ Id = 2, Username = ll, Email = a, Role = typist }
2025-03-16 01:09:04.388 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 32.0398ms.
2025-03-16 01:09:04.389 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 01:09:04.392 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 01:09:04.393 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 01:09:04.394 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 01:09:04.395 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 01:09:04.396 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 01:09:04.398 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 138.3306ms
2025-03-16 01:09:04.399 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:09:04.400 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 01:09:04.401 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 29 - 200 - application/json;+charset=utf-8 160.2632ms
2025-03-16 01:09:12.596 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/2 - -
2025-03-16 01:09:12.600 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 01:09:12.605 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 01:09:12.608 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:09:12.610 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:09:12.613 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:09:12.614 +02:00 [DBG] The request is a preflight request.
2025-03-16 01:09:12.618 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/2 - - - 204 - - 21.8468ms
2025-03-16 01:09:12.622 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7234/api/User/2 application/json 88
2025-03-16 01:09:12.627 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 01:09:12.633 +02:00 [DBG] Endpoint 'UserController.UpdateUser (WebApplication1)' with route pattern 'api/User/{userId}' is valid for the request path '/api/User/2'
2025-03-16 01:09:12.642 +02:00 [DBG] Request matched endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 01:09:12.647 +02:00 [DBG] Successfully validated the token.
2025-03-16 01:09:12.652 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-03-16 01:09:12.659 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:09:12.662 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:09:12.663 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:09:12.664 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (client|type)
2025-03-16 01:09:12.665 +02:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-16 01:09:12.667 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7234/api/User/2 application/json 88 - 403 0 - 45.2576ms
2025-03-16 01:09:12.667 +02:00 [DBG] Connection id "0HNB42MRJN0HJ", Request id "0HNB42MRJN0HJ:00000007": started reading request body.
2025-03-16 01:09:12.669 +02:00 [DBG] Connection id "0HNB42MRJN0HJ", Request id "0HNB42MRJN0HJ:00000007": done reading request body.
2025-03-16 01:10:24.483 +02:00 [DBG] Connection id "0HNB42MRJN0HK" accepted.
2025-03-16 01:10:24.501 +02:00 [DBG] Connection id "0HNB42MRJN0HK" started.
2025-03-16 01:10:24.511 +02:00 [DBG] Connection 0HNB42MRJN0HK established using the following protocol: "Tls13"
2025-03-16 01:10:24.528 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 38
2025-03-16 01:10:24.538 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 01:10:24.539 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 01:10:24.540 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:10:24.541 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:10:24.542 +02:00 [DBG] The request has an origin header: 'https://localhost:7234'.
2025-03-16 01:10:24.543 +02:00 [INF] CORS policy execution failed.
2025-03-16 01:10:24.544 +02:00 [INF] Request origin https://localhost:7234 does not have permission to access the resource.
2025-03-16 01:10:24.544 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:10:24.545 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:10:24.546 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 01:10:24.548 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 01:10:24.548 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 01:10:24.549 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 01:10:24.552 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 01:10:24.553 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 01:10:24.554 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 01:10:24.564 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 01:10:24.566 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 01:10:24.567 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 01:10:24.569 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 01:10:24.570 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 01:10:24.571 +02:00 [DBG] Connection id "0HNB42MRJN0HK", Request id "0HNB42MRJN0HK:00000001": started reading request body.
2025-03-16 01:10:24.572 +02:00 [DBG] Connection id "0HNB42MRJN0HK", Request id "0HNB42MRJN0HK:00000001": done reading request body.
2025-03-16 01:10:24.573 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 01:10:24.574 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 01:10:24.575 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 01:10:24.576 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 01:10:24.578 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 01:10:24.592 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 01:10:24.594 +02:00 [INF] Login attempt for user: a
2025-03-16 01:10:24.596 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 01:10:24.598 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-16 01:10:24.599 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 01:10:24.605 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 01:10:24.606 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 01:10:24.614 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 01:10:24.616 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 01:10:24.618 +02:00 [DBG] A data reader was disposed.
2025-03-16 01:10:24.619 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 01:10:24.620 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 01:10:24.621 +02:00 [INF] Login successful for user: a
2025-03-16 01:10:24.622 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoibGwiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJ0eXBpc3QiLCJleHAiOjE3NDIwODIwMjQsImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.-R4rCyEAmzGzWmwR0I-_-_XOwae4qYFHIJikqR-WHCk, User={ Id = 2, Username = ll, Email = a, Role = typist }
2025-03-16 01:10:24.623 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 28.5927ms.
2025-03-16 01:10:24.624 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 01:10:24.626 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 01:10:24.627 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 01:10:24.627 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 01:10:24.628 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 01:10:24.629 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 01:10:24.630 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 76.1717ms
2025-03-16 01:10:24.631 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:10:24.632 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 01:10:24.633 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 38 - 200 - application/json;+charset=utf-8 106.0901ms
2025-03-16 01:10:56.998 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7234/api/User/2 application/json 91
2025-03-16 01:10:57.001 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 01:10:57.008 +02:00 [DBG] Endpoint 'UserController.UpdateUser (WebApplication1)' with route pattern 'api/User/{userId}' is valid for the request path '/api/User/2'
2025-03-16 01:10:57.018 +02:00 [DBG] Request matched endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 01:10:57.019 +02:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2025-03-16 01:10:57.023 +02:00 [DBG] The request has an origin header: 'https://localhost:7234'.
2025-03-16 01:10:57.028 +02:00 [INF] CORS policy execution failed.
2025-03-16 01:10:57.029 +02:00 [INF] Request origin https://localhost:7234 does not have permission to access the resource.
2025-03-16 01:10:57.030 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:10:57.031 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (client|type)
2025-03-16 01:10:57.040 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-03-16 01:10:57.041 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7234/api/User/2 application/json 91 - 401 0 - 43.1782ms
2025-03-16 01:10:57.042 +02:00 [DBG] Connection id "0HNB42MRJN0HK", Request id "0HNB42MRJN0HK:00000003": started reading request body.
2025-03-16 01:10:57.045 +02:00 [DBG] Connection id "0HNB42MRJN0HK", Request id "0HNB42MRJN0HK:00000003": done reading request body.
2025-03-16 01:13:10.900 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-03-16 01:13:11.115 +02:00 [DBG] Hosting starting
2025-03-16 01:13:11.168 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-16 01:13:11.177 +02:00 [DBG] Reading data from file 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys\key-3b1791d9-af35-4b48-969e-d576339e2e30.xml'.
2025-03-16 01:13:11.187 +02:00 [DBG] Reading data from file 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys\key-f748f32e-fd47-4627-8870-71b23dd2fdee.xml'.
2025-03-16 01:13:11.196 +02:00 [DBG] Found key {3b1791d9-af35-4b48-969e-d576339e2e30}.
2025-03-16 01:13:11.207 +02:00 [DBG] Found key {f748f32e-fd47-4627-8870-71b23dd2fdee}.
2025-03-16 01:13:11.220 +02:00 [DBG] Considering key {3b1791d9-af35-4b48-969e-d576339e2e30} with expiration date 2025-06-08 19:45:45Z as default key.
2025-03-16 01:13:11.229 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-03-16 01:13:11.234 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-03-16 01:13:11.239 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-03-16 01:13:11.261 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-03-16 01:13:11.268 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-03-16 01:13:11.273 +02:00 [DBG] Using key {3b1791d9-af35-4b48-969e-d576339e2e30} as the default key.
2025-03-16 01:13:11.278 +02:00 [DBG] Key ring with default key {3b1791d9-af35-4b48-969e-d576339e2e30} was loaded during application startup.
2025-03-16 01:13:11.538 +02:00 [INF] Now listening on: https://localhost:7234
2025-03-16 01:13:11.539 +02:00 [INF] Now listening on: http://localhost:5254
2025-03-16 01:13:11.541 +02:00 [DBG] Loaded hosting startup assembly WebApplication1
2025-03-16 01:13:11.543 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-03-16 01:13:11.544 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-03-16 01:13:11.546 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-16 01:13:11.547 +02:00 [INF] Hosting environment: Development
2025-03-16 01:13:11.549 +02:00 [INF] Content root path: C:\Users\user1\Desktop\לימודים\net core\practicom\WebApplication1
2025-03-16 01:13:11.551 +02:00 [DBG] Hosting started
2025-03-16 01:13:11.699 +02:00 [DBG] Connection id "0HNB42RQE4634" received FIN.
2025-03-16 01:13:11.708 +02:00 [DBG] Connection id "0HNB42RQE4634" accepted.
2025-03-16 01:13:11.712 +02:00 [DBG] Connection id "0HNB42RQE4634" started.
2025-03-16 01:13:11.738 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-03-16 01:13:11.783 +02:00 [DBG] Connection id "0HNB42RQE4634" stopped.
2025-03-16 01:13:11.789 +02:00 [DBG] Connection id "0HNB42RQE4634" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-03-16 01:13:12.017 +02:00 [DBG] Connection id "0HNB42RQE4635" accepted.
2025-03-16 01:13:12.019 +02:00 [DBG] Connection id "0HNB42RQE4635" started.
2025-03-16 01:13:12.077 +02:00 [DBG] Connection 0HNB42RQE4635 established using the following protocol: "Tls13"
2025-03-16 01:13:12.176 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7234/swagger/index.html - -
2025-03-16 01:13:12.213 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-03-16 01:13:12.248 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-03-16 01:13:12.250 +02:00 [DBG] Request did not match any endpoints
2025-03-16 01:13:12.343 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:13:12.430 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-03-16 01:13:12.543 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-03-16 01:13:12.548 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7234/swagger/index.html - - - 200 - text/html;charset=utf-8 375.3792ms
2025-03-16 01:13:12.553 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7234/_framework/aspnetcore-browser-refresh.js - -
2025-03-16 01:13:12.559 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7234/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 6.4814ms
2025-03-16 01:13:12.565 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7234/_vs/browserLink - -
2025-03-16 01:13:12.615 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7234/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 50.0076ms
2025-03-16 01:13:12.720 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7234/swagger/v1/swagger.json - -
2025-03-16 01:13:12.721 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-03-16 01:13:12.724 +02:00 [DBG] Request did not match any endpoints
2025-03-16 01:13:12.726 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:13:12.826 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7234/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 106.7810ms
2025-03-16 01:13:31.396 +02:00 [DBG] Connection id "0HNB42RQE4636" accepted.
2025-03-16 01:13:31.399 +02:00 [DBG] Connection id "0HNB42RQE4636" started.
2025-03-16 01:13:31.409 +02:00 [DBG] Connection 0HNB42RQE4636 established using the following protocol: "Tls13"
2025-03-16 01:13:31.415 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/2 - -
2025-03-16 01:13:31.423 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 01:13:31.447 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 01:13:31.461 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:13:31.471 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:13:31.474 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:13:31.477 +02:00 [DBG] The request is a preflight request.
2025-03-16 01:13:31.482 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/2 - - - 204 - - 67.6053ms
2025-03-16 01:13:31.485 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7234/api/User/2 application/json 69
2025-03-16 01:13:31.490 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 01:13:31.496 +02:00 [DBG] Endpoint 'UserController.UpdateUser (WebApplication1)' with route pattern 'api/User/{userId}' is valid for the request path '/api/User/2'
2025-03-16 01:13:31.499 +02:00 [DBG] Request matched endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 01:13:31.641 +02:00 [DBG] Successfully validated the token.
2025-03-16 01:13:31.644 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-03-16 01:13:31.649 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:13:31.653 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:13:31.655 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:13:31.660 +02:00 [DBG] Authorization was successful.
2025-03-16 01:13:31.662 +02:00 [INF] Executing endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 01:13:31.684 +02:00 [INF] Route matched with {action = "UpdateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(Int32, UserDto) on controller UserController (WebApplication1).
2025-03-16 01:13:31.692 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 01:13:31.695 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 01:13:31.697 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 01:13:31.699 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 01:13:31.700 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 01:13:31.702 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 01:13:31.882 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-03-16 01:13:32.207 +02:00 [DBG] The property 'Customer.userId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-16 01:13:32.212 +02:00 [DBG] The property 'SpeechToText.UserId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-16 01:13:32.216 +02:00 [DBG] The property 'UserFile.CustomerId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-16 01:13:32.307 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 01:13:32.317 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 01:13:32.328 +02:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2025-03-16 01:13:32.333 +02:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-03-16 01:13:32.335 +02:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-03-16 01:13:32.336 +02:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-03-16 01:13:32.337 +02:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2025-03-16 01:13:32.339 +02:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2025-03-16 01:13:32.341 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'UserDto' ...
2025-03-16 01:13:32.343 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'UserDto' using the name '' in request data ...
2025-03-16 01:13:32.345 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 01:13:32.350 +02:00 [DBG] Connection id "0HNB42RQE4636", Request id "0HNB42RQE4636:00000003": started reading request body.
2025-03-16 01:13:32.351 +02:00 [DBG] Connection id "0HNB42RQE4636", Request id "0HNB42RQE4636:00000003": done reading request body.
2025-03-16 01:13:32.355 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'UserDto'
2025-03-16 01:13:32.356 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'UserDto'.
2025-03-16 01:13:32.358 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'UserDto'.
2025-03-16 01:13:32.359 +02:00 [DBG] Attempting to validate the bound parameter 'userDto' of type 'UserDto' ...
2025-03-16 01:13:32.365 +02:00 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'UserDto'.
2025-03-16 01:13:32.367 +02:00 [DBG] The request has model state errors, returning an error response.
2025-03-16 01:13:32.368 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-03-16 01:13:32.371 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 01:13:32.374 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 01:13:32.375 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-03-16 01:13:32.380 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-03-16 01:13:32.381 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-03-16 01:13:32.388 +02:00 [INF] Executed action UserController.UpdateUser (WebApplication1) in 684.0189ms
2025-03-16 01:13:32.389 +02:00 [INF] Executed endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 01:13:32.400 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 01:13:32.404 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7234/api/User/2 application/json 69 - 400 - application/problem+json;+charset=utf-8 918.9718ms
2025-03-16 01:13:45.907 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/login - -
2025-03-16 01:13:45.908 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 01:13:45.913 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 01:13:45.917 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:13:45.919 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:13:45.922 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:13:45.925 +02:00 [DBG] The request is a preflight request.
2025-03-16 01:13:45.926 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/login - - - 204 - - 19.9378ms
2025-03-16 01:13:45.929 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 29
2025-03-16 01:13:45.931 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 01:13:45.937 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 01:13:45.944 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:13:45.949 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:13:45.952 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:13:45.955 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:13:45.959 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:13:45.964 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:13:45.976 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 01:13:45.984 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 01:13:45.987 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 01:13:45.994 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 01:13:45.997 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 01:13:45.998 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 01:13:46.000 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 01:13:46.048 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 01:13:46.058 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 01:13:46.062 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 01:13:46.064 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 01:13:46.065 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 01:13:46.067 +02:00 [DBG] Connection id "0HNB42RQE4636", Request id "0HNB42RQE4636:00000007": started reading request body.
2025-03-16 01:13:46.068 +02:00 [DBG] Connection id "0HNB42RQE4636", Request id "0HNB42RQE4636:00000007": done reading request body.
2025-03-16 01:13:46.070 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 01:13:46.073 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 01:13:46.074 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 01:13:46.074 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 01:13:46.076 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 01:13:46.130 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 01:13:46.136 +02:00 [INF] Login attempt for user: a
2025-03-16 01:13:46.193 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Email == __email_0)'
2025-03-16 01:13:46.323 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.Email (string) Required, 2], [Property: User.Password (string) Required, 3], [Property: User.Role (string) Required, 4], [Property: User.UpdatedAt (DateTime) Required, 5], [Property: User.Username (string) Required, 6] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.Email, u.Password, u.Role, u.UpdatedAt, u.Username
            FROM Users AS u
            WHERE u.Email == @__email_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-03-16 01:13:46.349 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 01:13:46.357 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-03-16 01:13:46.374 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 01:13:46.417 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 01:13:46.426 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 01:13:46.462 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 01:13:46.508 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 01:13:46.535 +02:00 [DBG] A data reader was disposed.
2025-03-16 01:13:46.538 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 01:13:46.540 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 01:13:46.547 +02:00 [INF] Login successful for user: a
2025-03-16 01:13:46.549 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoibGwiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJ0eXBpc3QiLCJleHAiOjE3NDIwODIyMjYsImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.K5MtgoglidBUP4Z7AD9DUeHLfmsUnlMPNKYHwNDsdH0, User={ Id = 2, Username = ll, Email = a, Role = typist }
2025-03-16 01:13:46.555 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 418.5511ms.
2025-03-16 01:13:46.558 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 01:13:46.560 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 01:13:46.561 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 01:13:46.562 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 01:13:46.562 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 01:13:46.563 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 01:13:46.569 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 569.3763ms
2025-03-16 01:13:46.571 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:13:46.573 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 01:13:46.575 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 29 - 200 - application/json;+charset=utf-8 646.4356ms
2025-03-16 01:13:52.508 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/2 - -
2025-03-16 01:13:52.511 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 01:13:52.512 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 01:13:52.513 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:13:52.514 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:13:52.516 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:13:52.519 +02:00 [DBG] The request is a preflight request.
2025-03-16 01:13:52.521 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/2 - - - 204 - - 12.7796ms
2025-03-16 01:13:52.524 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7234/api/User/2 application/json 73
2025-03-16 01:13:52.526 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 01:13:52.531 +02:00 [DBG] Endpoint 'UserController.UpdateUser (WebApplication1)' with route pattern 'api/User/{userId}' is valid for the request path '/api/User/2'
2025-03-16 01:13:52.537 +02:00 [DBG] Request matched endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 01:13:52.542 +02:00 [DBG] Successfully validated the token.
2025-03-16 01:13:52.548 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-03-16 01:13:52.551 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:13:52.564 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:13:52.565 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:13:52.569 +02:00 [DBG] Authorization was successful.
2025-03-16 01:13:52.571 +02:00 [INF] Executing endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 01:13:52.572 +02:00 [INF] Route matched with {action = "UpdateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(Int32, UserDto) on controller UserController (WebApplication1).
2025-03-16 01:13:52.574 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 01:13:52.575 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 01:13:52.576 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 01:13:52.578 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 01:13:52.580 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 01:13:52.582 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 01:13:52.593 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 01:13:52.597 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 01:13:52.598 +02:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2025-03-16 01:13:52.600 +02:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-03-16 01:13:52.601 +02:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-03-16 01:13:52.602 +02:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-03-16 01:13:52.603 +02:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2025-03-16 01:13:52.604 +02:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2025-03-16 01:13:52.605 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'UserDto' ...
2025-03-16 01:13:52.606 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'UserDto' using the name '' in request data ...
2025-03-16 01:13:52.607 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 01:13:52.608 +02:00 [DBG] Connection id "0HNB42RQE4636", Request id "0HNB42RQE4636:0000000B": started reading request body.
2025-03-16 01:13:52.609 +02:00 [DBG] Connection id "0HNB42RQE4636", Request id "0HNB42RQE4636:0000000B": done reading request body.
2025-03-16 01:13:52.611 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'UserDto'
2025-03-16 01:13:52.612 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'UserDto'.
2025-03-16 01:13:52.613 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'UserDto'.
2025-03-16 01:13:52.614 +02:00 [DBG] Attempting to validate the bound parameter 'userDto' of type 'UserDto' ...
2025-03-16 01:13:52.616 +02:00 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'UserDto'.
2025-03-16 01:13:52.617 +02:00 [DBG] The request has model state errors, returning an error response.
2025-03-16 01:13:52.618 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-03-16 01:13:52.619 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 01:13:52.620 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 01:13:52.621 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-03-16 01:13:52.623 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-03-16 01:13:52.624 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-03-16 01:13:52.626 +02:00 [INF] Executed action UserController.UpdateUser (WebApplication1) in 44.0718ms
2025-03-16 01:13:52.627 +02:00 [INF] Executed endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 01:13:52.628 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 01:13:52.630 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7234/api/User/2 application/json 73 - 400 - application/problem+json;+charset=utf-8 105.4720ms
2025-03-16 01:14:13.150 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 38
2025-03-16 01:14:13.154 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 01:14:13.161 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 01:14:13.169 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:14:13.171 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:14:13.173 +02:00 [DBG] The request has an origin header: 'https://localhost:7234'.
2025-03-16 01:14:13.174 +02:00 [INF] CORS policy execution failed.
2025-03-16 01:14:13.175 +02:00 [INF] Request origin https://localhost:7234 does not have permission to access the resource.
2025-03-16 01:14:13.176 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:14:13.177 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:14:13.178 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 01:14:13.179 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 01:14:13.180 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 01:14:13.182 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 01:14:13.183 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 01:14:13.184 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 01:14:13.186 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 01:14:13.188 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 01:14:13.190 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 01:14:13.191 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 01:14:13.192 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 01:14:13.193 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 01:14:13.194 +02:00 [DBG] Connection id "0HNB42RQE4635", Request id "0HNB42RQE4635:00000009": started reading request body.
2025-03-16 01:14:13.196 +02:00 [DBG] Connection id "0HNB42RQE4635", Request id "0HNB42RQE4635:00000009": done reading request body.
2025-03-16 01:14:13.198 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 01:14:13.199 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 01:14:13.200 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 01:14:13.201 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 01:14:13.202 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 01:14:13.219 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 01:14:13.220 +02:00 [INF] Login attempt for user: a
2025-03-16 01:14:13.225 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 01:14:13.226 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-16 01:14:13.227 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 01:14:13.234 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 01:14:13.236 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 01:14:13.245 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 01:14:13.247 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 01:14:13.249 +02:00 [DBG] A data reader was disposed.
2025-03-16 01:14:13.249 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 01:14:13.250 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 01:14:13.252 +02:00 [INF] Login successful for user: a
2025-03-16 01:14:13.252 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoibGwiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJ0eXBpc3QiLCJleHAiOjE3NDIwODIyNTMsImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.L-RiGaus1hIMZE9cmv88TDuAByEJBimWoy9GJvuVzGU, User={ Id = 2, Username = ll, Email = a, Role = typist }
2025-03-16 01:14:13.254 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 33.0605ms.
2025-03-16 01:14:13.255 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 01:14:13.258 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 01:14:13.259 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 01:14:13.259 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 01:14:13.260 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 01:14:13.262 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 01:14:13.263 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 77.475ms
2025-03-16 01:14:13.264 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:14:13.265 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 01:14:13.266 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 38 - 200 - application/json;+charset=utf-8 115.8025ms
2025-03-16 01:14:45.272 +02:00 [DBG] Connection id "0HNB42RQE4636" received FIN.
2025-03-16 01:14:45.272 +02:00 [DBG] Connection id "0HNB42RQE4635" received FIN.
2025-03-16 01:14:45.299 +02:00 [DBG] Connection id "0HNB42RQE4635" sending FIN because: "The client closed the connection."
2025-03-16 01:14:45.299 +02:00 [DBG] Connection id "0HNB42RQE4636" is closed. The last processed stream ID was 11.
2025-03-16 01:14:45.302 +02:00 [DBG] The connection queue processing loop for 0HNB42RQE4636 completed.
2025-03-16 01:14:45.299 +02:00 [DBG] Connection id "0HNB42RQE4635" is closed. The last processed stream ID was 9.
2025-03-16 01:14:45.316 +02:00 [DBG] Connection id "0HNB42RQE4636" sending FIN because: "The client closed the connection."
2025-03-16 01:14:45.319 +02:00 [DBG] The connection queue processing loop for 0HNB42RQE4635 completed.
2025-03-16 01:14:45.321 +02:00 [DBG] Connection id "0HNB42RQE4635" stopped.
2025-03-16 01:14:45.332 +02:00 [DBG] Connection id "0HNB42RQE4636" stopped.
2025-03-16 01:15:08.299 +02:00 [DBG] Connection id "0HNB42RQE4637" accepted.
2025-03-16 01:15:08.311 +02:00 [DBG] Connection id "0HNB42RQE4637" started.
2025-03-16 01:15:08.321 +02:00 [DBG] Connection 0HNB42RQE4637 established using the following protocol: "Tls13"
2025-03-16 01:15:08.338 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7234/api/User/2 application/json 80
2025-03-16 01:15:08.349 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 01:15:08.356 +02:00 [DBG] Endpoint 'UserController.UpdateUser (WebApplication1)' with route pattern 'api/User/{userId}' is valid for the request path '/api/User/2'
2025-03-16 01:15:08.362 +02:00 [DBG] Request matched endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 01:15:08.380 +02:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2025-03-16 01:15:08.382 +02:00 [DBG] The request has an origin header: 'https://localhost:7234'.
2025-03-16 01:15:08.383 +02:00 [INF] CORS policy execution failed.
2025-03-16 01:15:08.384 +02:00 [INF] Request origin https://localhost:7234 does not have permission to access the resource.
2025-03-16 01:15:08.385 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:15:08.389 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (client|typist)
2025-03-16 01:15:08.397 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-03-16 01:15:08.399 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7234/api/User/2 application/json 80 - 401 0 - 61.4296ms
2025-03-16 01:15:08.400 +02:00 [DBG] Connection id "0HNB42RQE4637", Request id "0HNB42RQE4637:00000001": started reading request body.
2025-03-16 01:15:08.402 +02:00 [DBG] Connection id "0HNB42RQE4637", Request id "0HNB42RQE4637:00000001": done reading request body.
2025-03-16 01:18:04.540 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-03-16 01:18:04.658 +02:00 [DBG] Hosting starting
2025-03-16 01:18:04.701 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-16 01:18:04.710 +02:00 [DBG] Reading data from file 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys\key-3b1791d9-af35-4b48-969e-d576339e2e30.xml'.
2025-03-16 01:18:04.722 +02:00 [DBG] Reading data from file 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys\key-f748f32e-fd47-4627-8870-71b23dd2fdee.xml'.
2025-03-16 01:18:04.732 +02:00 [DBG] Found key {3b1791d9-af35-4b48-969e-d576339e2e30}.
2025-03-16 01:18:04.740 +02:00 [DBG] Found key {f748f32e-fd47-4627-8870-71b23dd2fdee}.
2025-03-16 01:18:04.748 +02:00 [DBG] Considering key {3b1791d9-af35-4b48-969e-d576339e2e30} with expiration date 2025-06-08 19:45:45Z as default key.
2025-03-16 01:18:04.756 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-03-16 01:18:04.763 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-03-16 01:18:04.766 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-03-16 01:18:04.771 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-03-16 01:18:04.774 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-03-16 01:18:04.776 +02:00 [DBG] Using key {3b1791d9-af35-4b48-969e-d576339e2e30} as the default key.
2025-03-16 01:18:04.777 +02:00 [DBG] Key ring with default key {3b1791d9-af35-4b48-969e-d576339e2e30} was loaded during application startup.
2025-03-16 01:18:05.009 +02:00 [INF] Now listening on: https://localhost:7234
2025-03-16 01:18:05.012 +02:00 [INF] Now listening on: http://localhost:5254
2025-03-16 01:18:05.014 +02:00 [DBG] Loaded hosting startup assembly WebApplication1
2025-03-16 01:18:05.015 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-03-16 01:18:05.016 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-03-16 01:18:05.017 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-16 01:18:05.017 +02:00 [INF] Hosting environment: Development
2025-03-16 01:18:05.019 +02:00 [INF] Content root path: C:\Users\user1\Desktop\לימודים\net core\practicom\WebApplication1
2025-03-16 01:18:05.020 +02:00 [DBG] Hosting started
2025-03-16 01:18:05.097 +02:00 [DBG] Connection id "0HNB42UHS63UQ" received FIN.
2025-03-16 01:18:05.097 +02:00 [DBG] Connection id "0HNB42UHS63UP" received FIN.
2025-03-16 01:18:05.148 +02:00 [DBG] Connection id "0HNB42UHS63UP" accepted.
2025-03-16 01:18:05.148 +02:00 [DBG] Connection id "0HNB42UHS63UQ" accepted.
2025-03-16 01:18:05.153 +02:00 [DBG] Connection id "0HNB42UHS63UP" started.
2025-03-16 01:18:05.154 +02:00 [DBG] Connection id "0HNB42UHS63UQ" started.
2025-03-16 01:18:05.185 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-03-16 01:18:05.185 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-03-16 01:18:05.218 +02:00 [DBG] Connection id "0HNB42UHS63UQ" stopped.
2025-03-16 01:18:05.218 +02:00 [DBG] Connection id "0HNB42UHS63UP" stopped.
2025-03-16 01:18:05.222 +02:00 [DBG] Connection id "0HNB42UHS63UP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-03-16 01:18:05.222 +02:00 [DBG] Connection id "0HNB42UHS63UQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-03-16 01:18:05.319 +02:00 [DBG] Connection id "0HNB42UHS63UR" accepted.
2025-03-16 01:18:05.323 +02:00 [DBG] Connection id "0HNB42UHS63UR" started.
2025-03-16 01:18:05.376 +02:00 [DBG] Connection 0HNB42UHS63UR established using the following protocol: "Tls13"
2025-03-16 01:18:05.448 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7234/swagger/index.html - -
2025-03-16 01:18:05.481 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-03-16 01:18:05.498 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-03-16 01:18:05.501 +02:00 [DBG] Request did not match any endpoints
2025-03-16 01:18:05.589 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:18:05.664 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-03-16 01:18:05.764 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-03-16 01:18:05.769 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7234/_vs/browserLink - -
2025-03-16 01:18:05.769 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7234/_framework/aspnetcore-browser-refresh.js - -
2025-03-16 01:18:05.772 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7234/swagger/index.html - - - 200 - text/html;charset=utf-8 326.0376ms
2025-03-16 01:18:05.802 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7234/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 32.5327ms
2025-03-16 01:18:05.841 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7234/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 71.9062ms
2025-03-16 01:18:05.880 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7234/swagger/v1/swagger.json - -
2025-03-16 01:18:05.885 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-03-16 01:18:05.888 +02:00 [DBG] Request did not match any endpoints
2025-03-16 01:18:05.893 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:18:05.981 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7234/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 101.2306ms
2025-03-16 01:18:09.547 +02:00 [DBG] Connection id "0HNB42UHS63US" accepted.
2025-03-16 01:18:09.549 +02:00 [DBG] Connection id "0HNB42UHS63US" started.
2025-03-16 01:18:09.558 +02:00 [DBG] Connection 0HNB42UHS63US established using the following protocol: "Tls13"
2025-03-16 01:18:09.563 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/2 - -
2025-03-16 01:18:09.574 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 01:18:09.577 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 01:18:09.584 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:18:09.589 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:18:09.593 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:18:09.597 +02:00 [DBG] The request is a preflight request.
2025-03-16 01:18:09.600 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/2 - - - 204 - - 37.4793ms
2025-03-16 01:18:09.604 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7234/api/User/2 application/json 68
2025-03-16 01:18:09.607 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 01:18:09.612 +02:00 [DBG] Endpoint 'UserController.UpdateUser (WebApplication1)' with route pattern 'api/User/{userId}' is valid for the request path '/api/User/2'
2025-03-16 01:18:09.616 +02:00 [DBG] Request matched endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 01:18:09.782 +02:00 [DBG] Successfully validated the token.
2025-03-16 01:18:09.787 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-03-16 01:18:09.792 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:18:09.793 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:18:09.796 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:18:09.798 +02:00 [INF] Executing endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 01:18:09.819 +02:00 [INF] Route matched with {action = "UpdateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(Int32, UserDto) on controller UserController (WebApplication1).
2025-03-16 01:18:09.833 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 01:18:09.839 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 01:18:09.843 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 01:18:09.846 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 01:18:09.847 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 01:18:09.849 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 01:18:10.035 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-03-16 01:18:10.327 +02:00 [DBG] The property 'Customer.userId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-16 01:18:10.333 +02:00 [DBG] The property 'SpeechToText.UserId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-16 01:18:10.335 +02:00 [DBG] The property 'UserFile.CustomerId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-16 01:18:10.433 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 01:18:10.444 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 01:18:10.462 +02:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2025-03-16 01:18:10.465 +02:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-03-16 01:18:10.466 +02:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-03-16 01:18:10.467 +02:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-03-16 01:18:10.468 +02:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2025-03-16 01:18:10.472 +02:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2025-03-16 01:18:10.475 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'UserDto' ...
2025-03-16 01:18:10.477 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'UserDto' using the name '' in request data ...
2025-03-16 01:18:10.479 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 01:18:10.484 +02:00 [DBG] Connection id "0HNB42UHS63US", Request id "0HNB42UHS63US:00000003": started reading request body.
2025-03-16 01:18:10.487 +02:00 [DBG] Connection id "0HNB42UHS63US", Request id "0HNB42UHS63US:00000003": done reading request body.
2025-03-16 01:18:10.491 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'UserDto'
2025-03-16 01:18:10.492 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'UserDto'.
2025-03-16 01:18:10.493 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'UserDto'.
2025-03-16 01:18:10.495 +02:00 [DBG] Attempting to validate the bound parameter 'userDto' of type 'UserDto' ...
2025-03-16 01:18:10.502 +02:00 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'UserDto'.
2025-03-16 01:18:10.504 +02:00 [DBG] The request has model state errors, returning an error response.
2025-03-16 01:18:10.506 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-03-16 01:18:10.509 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 01:18:10.512 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 01:18:10.513 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-03-16 01:18:10.515 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-03-16 01:18:10.517 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-03-16 01:18:10.524 +02:00 [INF] Executed action UserController.UpdateUser (WebApplication1) in 673.5995ms
2025-03-16 01:18:10.526 +02:00 [INF] Executed endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 01:18:10.530 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 01:18:10.540 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7234/api/User/2 application/json 68 - 400 - application/problem+json;+charset=utf-8 936.1790ms
2025-03-16 01:18:24.841 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7234/api/User/2 - -
2025-03-16 01:18:24.846 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 01:18:24.848 +02:00 [DBG] Endpoint 'UserController.GetUserById (WebApplication1)' with route pattern 'api/User/{userId}' is valid for the request path '/api/User/2'
2025-03-16 01:18:24.850 +02:00 [DBG] Request matched endpoint 'UserController.GetUserById (WebApplication1)'
2025-03-16 01:18:24.854 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:18:24.862 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:18:24.870 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (typist)
2025-03-16 01:18:24.879 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-03-16 01:18:24.884 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7234/api/User/2 - - - 401 0 - 43.5665ms
2025-03-16 01:18:42.200 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/2 - -
2025-03-16 01:18:42.203 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 01:18:42.206 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 01:18:42.212 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:18:42.216 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:18:42.220 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:18:42.222 +02:00 [DBG] The request is a preflight request.
2025-03-16 01:18:42.226 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/2 - - - 204 - - 26.4768ms
2025-03-16 01:18:42.230 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7234/api/User/2 application/json 86
2025-03-16 01:18:42.232 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 01:18:42.237 +02:00 [DBG] Endpoint 'UserController.UpdateUser (WebApplication1)' with route pattern 'api/User/{userId}' is valid for the request path '/api/User/2'
2025-03-16 01:18:42.244 +02:00 [DBG] Request matched endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 01:18:42.248 +02:00 [DBG] Successfully validated the token.
2025-03-16 01:18:42.250 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-03-16 01:18:42.254 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:18:42.257 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:18:42.261 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:18:42.264 +02:00 [INF] Executing endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 01:18:42.265 +02:00 [INF] Route matched with {action = "UpdateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(Int32, UserDto) on controller UserController (WebApplication1).
2025-03-16 01:18:42.266 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 01:18:42.267 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 01:18:42.269 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 01:18:42.274 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 01:18:42.279 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 01:18:42.280 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 01:18:42.321 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 01:18:42.331 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 01:18:42.333 +02:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2025-03-16 01:18:42.335 +02:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-03-16 01:18:42.338 +02:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-03-16 01:18:42.340 +02:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-03-16 01:18:42.341 +02:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2025-03-16 01:18:42.343 +02:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2025-03-16 01:18:42.344 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'UserDto' ...
2025-03-16 01:18:42.346 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'UserDto' using the name '' in request data ...
2025-03-16 01:18:42.347 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 01:18:42.348 +02:00 [DBG] Connection id "0HNB42UHS63US", Request id "0HNB42UHS63US:00000007": started reading request body.
2025-03-16 01:18:42.349 +02:00 [DBG] Connection id "0HNB42UHS63US", Request id "0HNB42UHS63US:00000007": done reading request body.
2025-03-16 01:18:42.352 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'UserDto'
2025-03-16 01:18:42.353 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'UserDto'.
2025-03-16 01:18:42.354 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'UserDto'.
2025-03-16 01:18:42.355 +02:00 [DBG] Attempting to validate the bound parameter 'userDto' of type 'UserDto' ...
2025-03-16 01:18:42.357 +02:00 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'UserDto'.
2025-03-16 01:18:42.358 +02:00 [DBG] The request has model state errors, returning an error response.
2025-03-16 01:18:42.358 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-03-16 01:18:42.359 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 01:18:42.361 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 01:18:42.362 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-03-16 01:18:42.364 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-03-16 01:18:42.365 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-03-16 01:18:42.367 +02:00 [INF] Executed action UserController.UpdateUser (WebApplication1) in 86.6941ms
2025-03-16 01:18:42.368 +02:00 [INF] Executed endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 01:18:42.369 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 01:18:42.371 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7234/api/User/2 application/json 86 - 400 - application/problem+json;+charset=utf-8 142.3020ms
2025-03-16 01:18:54.278 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/register - -
2025-03-16 01:18:54.279 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/register'
2025-03-16 01:18:54.279 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 01:18:54.280 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:18:54.281 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:18:54.283 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:18:54.284 +02:00 [DBG] The request is a preflight request.
2025-03-16 01:18:54.285 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/register - - - 204 - - 7.3333ms
2025-03-16 01:18:54.289 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/register application/json 29
2025-03-16 01:18:54.291 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/register'
2025-03-16 01:18:54.292 +02:00 [DBG] Endpoint 'UserController.RegisterUser (WebApplication1)' with route pattern 'api/User/register' is valid for the request path '/api/User/register'
2025-03-16 01:18:54.295 +02:00 [DBG] Request matched endpoint 'UserController.RegisterUser (WebApplication1)'
2025-03-16 01:18:54.297 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:18:54.299 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:18:54.301 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:18:54.304 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:18:54.309 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (typist)
2025-03-16 01:18:54.313 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-03-16 01:18:54.347 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/register application/json 29 - 401 0 - 58.8371ms
2025-03-16 01:18:54.350 +02:00 [DBG] Connection id "0HNB42UHS63US", Request id "0HNB42UHS63US:0000000B": started reading request body.
2025-03-16 01:18:54.352 +02:00 [DBG] Connection id "0HNB42UHS63US", Request id "0HNB42UHS63US:0000000B": done reading request body.
2025-03-16 01:19:09.028 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/login - -
2025-03-16 01:19:09.032 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 01:19:09.037 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 01:19:09.042 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:19:09.044 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:19:09.048 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:19:09.052 +02:00 [DBG] The request is a preflight request.
2025-03-16 01:19:09.055 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/login - - - 204 - - 27.5036ms
2025-03-16 01:19:09.059 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 29
2025-03-16 01:19:09.062 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 01:19:09.063 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 01:19:09.068 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:19:09.072 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:19:09.079 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:19:09.091 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:19:09.092 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:19:09.097 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:19:09.104 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 01:19:09.113 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 01:19:09.118 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 01:19:09.120 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 01:19:09.122 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 01:19:09.123 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 01:19:09.125 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 01:19:09.136 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 01:19:09.138 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 01:19:09.139 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 01:19:09.142 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 01:19:09.144 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 01:19:09.145 +02:00 [DBG] Connection id "0HNB42UHS63US", Request id "0HNB42UHS63US:0000000F": started reading request body.
2025-03-16 01:19:09.147 +02:00 [DBG] Connection id "0HNB42UHS63US", Request id "0HNB42UHS63US:0000000F": done reading request body.
2025-03-16 01:19:09.149 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 01:19:09.149 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 01:19:09.150 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 01:19:09.151 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 01:19:09.154 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 01:19:09.215 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 01:19:09.225 +02:00 [INF] Login attempt for user: a
2025-03-16 01:19:09.278 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Email == __email_0)'
2025-03-16 01:19:09.383 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.Email (string) Required, 2], [Property: User.Password (string) Required, 3], [Property: User.Role (string) Required, 4], [Property: User.UpdatedAt (DateTime) Required, 5], [Property: User.Username (string) Required, 6] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.Email, u.Password, u.Role, u.UpdatedAt, u.Username
            FROM Users AS u
            WHERE u.Email == @__email_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-03-16 01:19:09.417 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 01:19:09.429 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (11ms).
2025-03-16 01:19:09.454 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 01:19:09.504 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 01:19:09.516 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 01:19:09.545 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 01:19:09.583 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 01:19:09.613 +02:00 [DBG] A data reader was disposed.
2025-03-16 01:19:09.619 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 01:19:09.624 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 01:19:09.631 +02:00 [INF] Login successful for user: a
2025-03-16 01:19:09.635 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoibGwiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJ0eXBpc3QiLCJleHAiOjE3NDIwODI1NDksImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.iadQXb-GbnP4spv0M4EzueN3Iv16AmfXD5u9JLIVbhw, User={ Id = 2, Username = ll, Email = a, Role = typist }
2025-03-16 01:19:09.644 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 420.0488ms.
2025-03-16 01:19:09.652 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 01:19:09.654 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 01:19:09.655 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 01:19:09.656 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 01:19:09.656 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 01:19:09.657 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 01:19:09.662 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 537.2255ms
2025-03-16 01:19:09.663 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:19:09.665 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 01:19:09.670 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 29 - 200 - application/json;+charset=utf-8 611.2031ms
2025-03-16 01:19:29.391 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/2 - -
2025-03-16 01:19:29.395 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 01:19:29.396 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 01:19:29.398 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:19:29.401 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:19:29.403 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:19:29.436 +02:00 [DBG] The request is a preflight request.
2025-03-16 01:19:29.441 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/2 - - - 204 - - 49.2652ms
2025-03-16 01:19:29.443 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7234/api/User/2 application/json 85
2025-03-16 01:19:29.448 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 01:19:29.452 +02:00 [DBG] Endpoint 'UserController.UpdateUser (WebApplication1)' with route pattern 'api/User/{userId}' is valid for the request path '/api/User/2'
2025-03-16 01:19:29.454 +02:00 [DBG] Request matched endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 01:19:29.455 +02:00 [DBG] Successfully validated the token.
2025-03-16 01:19:29.457 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-03-16 01:19:29.459 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:19:29.463 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:19:29.464 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:19:29.468 +02:00 [INF] Executing endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 01:19:29.473 +02:00 [INF] Route matched with {action = "UpdateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(Int32, UserDto) on controller UserController (WebApplication1).
2025-03-16 01:19:29.483 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 01:19:29.485 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 01:19:29.486 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 01:19:29.487 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 01:19:29.489 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 01:19:29.490 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 01:19:29.492 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 01:19:29.494 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 01:19:29.495 +02:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2025-03-16 01:19:29.496 +02:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-03-16 01:19:29.498 +02:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-03-16 01:19:29.500 +02:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-03-16 01:19:29.501 +02:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2025-03-16 01:19:29.501 +02:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2025-03-16 01:19:29.502 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'UserDto' ...
2025-03-16 01:19:29.503 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'UserDto' using the name '' in request data ...
2025-03-16 01:19:29.504 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 01:19:29.505 +02:00 [DBG] Connection id "0HNB42UHS63US", Request id "0HNB42UHS63US:00000013": started reading request body.
2025-03-16 01:19:29.506 +02:00 [DBG] Connection id "0HNB42UHS63US", Request id "0HNB42UHS63US:00000013": done reading request body.
2025-03-16 01:19:29.507 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'UserDto'
2025-03-16 01:19:29.508 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'UserDto'.
2025-03-16 01:19:29.509 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'UserDto'.
2025-03-16 01:19:29.510 +02:00 [DBG] Attempting to validate the bound parameter 'userDto' of type 'UserDto' ...
2025-03-16 01:19:29.511 +02:00 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'UserDto'.
2025-03-16 01:19:29.512 +02:00 [DBG] The request has model state errors, returning an error response.
2025-03-16 01:19:29.512 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-03-16 01:19:29.513 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 01:19:29.516 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 01:19:29.517 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-03-16 01:19:29.519 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-03-16 01:19:29.520 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-03-16 01:19:29.521 +02:00 [INF] Executed action UserController.UpdateUser (WebApplication1) in 31.434ms
2025-03-16 01:19:29.522 +02:00 [INF] Executed endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 01:19:29.523 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 01:19:29.524 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7234/api/User/2 application/json 85 - 400 - application/problem+json;+charset=utf-8 80.7780ms
2025-03-16 01:20:04.148 +02:00 [DBG] Connection id "0HNB42UHS63US" received FIN.
2025-03-16 01:20:04.158 +02:00 [DBG] Connection id "0HNB42UHS63UR" received FIN.
2025-03-16 01:20:04.169 +02:00 [DBG] Connection id "0HNB42UHS63US" is closed. The last processed stream ID was 19.
2025-03-16 01:20:04.237 +02:00 [DBG] Connection id "0HNB42UHS63UR" is closed. The last processed stream ID was 9.
2025-03-16 01:20:04.245 +02:00 [DBG] Connection id "0HNB42UHS63US" sending FIN because: "The client closed the connection."
2025-03-16 01:20:04.247 +02:00 [DBG] The connection queue processing loop for 0HNB42UHS63US completed.
2025-03-16 01:20:04.246 +02:00 [DBG] Connection id "0HNB42UHS63UR" sending FIN because: "The client closed the connection."
2025-03-16 01:20:04.263 +02:00 [DBG] The connection queue processing loop for 0HNB42UHS63UR completed.
2025-03-16 01:20:04.266 +02:00 [DBG] Connection id "0HNB42UHS63US" stopped.
2025-03-16 01:20:04.266 +02:00 [DBG] Connection id "0HNB42UHS63UR" stopped.
2025-03-16 01:23:26.438 +02:00 [DBG] Connection id "0HNB42UHS63UT" accepted.
2025-03-16 01:23:26.452 +02:00 [DBG] Connection id "0HNB42UHS63UT" started.
2025-03-16 01:23:26.456 +02:00 [DBG] Connection 0HNB42UHS63UT established using the following protocol: "Tls13"
2025-03-16 01:23:26.475 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/login - -
2025-03-16 01:23:26.490 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 01:23:26.495 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 01:23:26.500 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:23:26.502 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:23:26.502 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:23:26.503 +02:00 [DBG] The request is a preflight request.
2025-03-16 01:23:26.504 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/login - - - 204 - - 29.4371ms
2025-03-16 01:23:26.506 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 29
2025-03-16 01:23:26.508 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 01:23:26.510 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 01:23:26.512 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:23:26.513 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:23:26.514 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:23:26.515 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:23:26.516 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:23:26.516 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:23:26.518 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 01:23:26.520 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 01:23:26.521 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 01:23:26.523 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 01:23:26.525 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 01:23:26.526 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 01:23:26.528 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 01:23:26.536 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 01:23:26.539 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 01:23:26.540 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 01:23:26.541 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 01:23:26.543 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 01:23:26.544 +02:00 [DBG] Connection id "0HNB42UHS63UT", Request id "0HNB42UHS63UT:00000003": started reading request body.
2025-03-16 01:23:26.545 +02:00 [DBG] Connection id "0HNB42UHS63UT", Request id "0HNB42UHS63UT:00000003": done reading request body.
2025-03-16 01:23:26.547 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 01:23:26.548 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 01:23:26.549 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 01:23:26.550 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 01:23:26.551 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 01:23:26.565 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 01:23:26.566 +02:00 [INF] Login attempt for user: a
2025-03-16 01:23:26.570 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 01:23:26.572 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-16 01:23:26.573 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 01:23:26.596 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 01:23:26.598 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 01:23:26.606 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 01:23:26.609 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 01:23:26.610 +02:00 [DBG] A data reader was disposed.
2025-03-16 01:23:26.611 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 01:23:26.613 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 01:23:26.615 +02:00 [INF] Login successful for user: a
2025-03-16 01:23:26.615 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoibGwiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJ0eXBpc3QiLCJleHAiOjE3NDIwODI4MDYsImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.2WMEJ5iWDlKFQb-710Ig8sP_chr57NqP6ig1vGve3bk, User={ Id = 2, Username = ll, Email = a, Role = typist }
2025-03-16 01:23:26.616 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 50.3215ms.
2025-03-16 01:23:26.618 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 01:23:26.621 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 01:23:26.621 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 01:23:26.622 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 01:23:26.623 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 01:23:26.624 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 01:23:26.626 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 98.1022ms
2025-03-16 01:23:26.627 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:23:26.629 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 01:23:26.630 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 29 - 200 - application/json;+charset=utf-8 123.9358ms
2025-03-16 01:23:35.385 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/2 - -
2025-03-16 01:23:35.386 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 01:23:35.388 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 01:23:35.392 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:23:35.397 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:23:35.398 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:23:35.399 +02:00 [DBG] The request is a preflight request.
2025-03-16 01:23:35.400 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/2 - - - 204 - - 15.3814ms
2025-03-16 01:23:35.403 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7234/api/User/2 application/json 78
2025-03-16 01:23:35.404 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 01:23:35.409 +02:00 [DBG] Endpoint 'UserController.UpdateUser (WebApplication1)' with route pattern 'api/User/{userId}' is valid for the request path '/api/User/2'
2025-03-16 01:23:35.410 +02:00 [DBG] Request matched endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 01:23:35.411 +02:00 [DBG] Successfully validated the token.
2025-03-16 01:23:35.412 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-03-16 01:23:35.414 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:23:35.416 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:23:35.417 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:23:35.418 +02:00 [INF] Executing endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 01:23:35.419 +02:00 [INF] Route matched with {action = "UpdateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(Int32, UserDto) on controller UserController (WebApplication1).
2025-03-16 01:23:35.424 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 01:23:35.430 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 01:23:35.439 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 01:23:35.474 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 01:23:35.480 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 01:23:35.482 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 01:23:35.484 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 01:23:35.487 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 01:23:35.488 +02:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2025-03-16 01:23:35.489 +02:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-03-16 01:23:35.490 +02:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-03-16 01:23:35.491 +02:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-03-16 01:23:35.493 +02:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2025-03-16 01:23:35.494 +02:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2025-03-16 01:23:35.495 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'UserDto' ...
2025-03-16 01:23:35.496 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'UserDto' using the name '' in request data ...
2025-03-16 01:23:35.497 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 01:23:35.498 +02:00 [DBG] Connection id "0HNB42UHS63UT", Request id "0HNB42UHS63UT:00000007": started reading request body.
2025-03-16 01:23:35.500 +02:00 [DBG] Connection id "0HNB42UHS63UT", Request id "0HNB42UHS63UT:00000007": done reading request body.
2025-03-16 01:23:35.502 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'UserDto'
2025-03-16 01:23:35.502 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'UserDto'.
2025-03-16 01:23:35.504 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'UserDto'.
2025-03-16 01:23:35.504 +02:00 [DBG] Attempting to validate the bound parameter 'userDto' of type 'UserDto' ...
2025-03-16 01:23:35.505 +02:00 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'UserDto'.
2025-03-16 01:23:35.507 +02:00 [DBG] The request has model state errors, returning an error response.
2025-03-16 01:23:35.508 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-03-16 01:23:35.509 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 01:23:35.512 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 01:23:35.513 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-03-16 01:23:35.516 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-03-16 01:23:35.517 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-03-16 01:23:35.518 +02:00 [INF] Executed action UserController.UpdateUser (WebApplication1) in 36.4915ms
2025-03-16 01:23:35.519 +02:00 [INF] Executed endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 01:23:35.520 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 01:23:35.522 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7234/api/User/2 application/json 78 - 400 - application/problem+json;+charset=utf-8 119.4547ms
2025-03-16 01:24:07.186 +02:00 [DBG] Connection id "0HNB42UHS63UU" accepted.
2025-03-16 01:24:07.200 +02:00 [DBG] Connection id "0HNB42UHS63UU" started.
2025-03-16 01:24:07.205 +02:00 [DBG] Connection 0HNB42UHS63UU established using the following protocol: "Tls13"
2025-03-16 01:24:07.210 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 38
2025-03-16 01:24:07.221 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 01:24:07.231 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 01:24:07.234 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:24:07.235 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:24:07.236 +02:00 [DBG] The request has an origin header: 'https://localhost:7234'.
2025-03-16 01:24:07.237 +02:00 [INF] CORS policy execution failed.
2025-03-16 01:24:07.238 +02:00 [INF] Request origin https://localhost:7234 does not have permission to access the resource.
2025-03-16 01:24:07.239 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:24:07.240 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:24:07.241 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 01:24:07.243 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 01:24:07.244 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 01:24:07.245 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 01:24:07.246 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 01:24:07.247 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 01:24:07.249 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 01:24:07.250 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 01:24:07.253 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 01:24:07.254 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 01:24:07.255 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 01:24:07.256 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 01:24:07.256 +02:00 [DBG] Connection id "0HNB42UHS63UU", Request id "0HNB42UHS63UU:00000001": started reading request body.
2025-03-16 01:24:07.258 +02:00 [DBG] Connection id "0HNB42UHS63UU", Request id "0HNB42UHS63UU:00000001": done reading request body.
2025-03-16 01:24:07.259 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 01:24:07.260 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 01:24:07.261 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 01:24:07.262 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 01:24:07.262 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 01:24:07.275 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 01:24:07.276 +02:00 [INF] Login attempt for user: a
2025-03-16 01:24:07.278 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 01:24:07.279 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-16 01:24:07.280 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 01:24:07.286 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 01:24:07.287 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 01:24:07.290 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 01:24:07.292 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 01:24:07.294 +02:00 [DBG] A data reader was disposed.
2025-03-16 01:24:07.294 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 01:24:07.295 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 01:24:07.296 +02:00 [INF] Login successful for user: a
2025-03-16 01:24:07.297 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoibGwiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJ0eXBpc3QiLCJleHAiOjE3NDIwODI4NDcsImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.Rs80Z6s2ZkwRN9RuebgpyOieDfi8xZA9vaMTSq48FFU, User={ Id = 2, Username = ll, Email = a, Role = typist }
2025-03-16 01:24:07.299 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 22.437ms.
2025-03-16 01:24:07.300 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 01:24:07.302 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 01:24:07.303 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 01:24:07.304 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 01:24:07.304 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 01:24:07.305 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 01:24:07.307 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 58.1002ms
2025-03-16 01:24:07.308 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:24:07.309 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 01:24:07.311 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 38 - 200 - application/json;+charset=utf-8 100.9275ms
2025-03-16 01:25:06.423 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7234/api/User/2 application/json 78
2025-03-16 01:25:06.437 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 01:25:06.440 +02:00 [DBG] Endpoint 'UserController.UpdateUser (WebApplication1)' with route pattern 'api/User/{userId}' is valid for the request path '/api/User/2'
2025-03-16 01:25:06.445 +02:00 [DBG] Request matched endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 01:25:06.449 +02:00 [DBG] Successfully validated the token.
2025-03-16 01:25:06.450 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-03-16 01:25:06.451 +02:00 [DBG] The request has an origin header: 'https://localhost:7234'.
2025-03-16 01:25:06.452 +02:00 [INF] CORS policy execution failed.
2025-03-16 01:25:06.454 +02:00 [INF] Request origin https://localhost:7234 does not have permission to access the resource.
2025-03-16 01:25:06.455 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:25:06.456 +02:00 [INF] Executing endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 01:25:06.457 +02:00 [INF] Route matched with {action = "UpdateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(Int32, UserDto) on controller UserController (WebApplication1).
2025-03-16 01:25:06.458 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 01:25:06.460 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 01:25:06.461 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 01:25:06.463 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 01:25:06.464 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 01:25:06.465 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 01:25:06.467 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 01:25:06.469 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 01:25:06.470 +02:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2025-03-16 01:25:06.471 +02:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-03-16 01:25:06.472 +02:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-03-16 01:25:06.473 +02:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-03-16 01:25:06.474 +02:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2025-03-16 01:25:06.475 +02:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2025-03-16 01:25:06.476 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'UserDto' ...
2025-03-16 01:25:06.477 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'UserDto' using the name '' in request data ...
2025-03-16 01:25:06.478 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 01:25:06.480 +02:00 [DBG] Connection id "0HNB42UHS63UU", Request id "0HNB42UHS63UU:00000003": started reading request body.
2025-03-16 01:25:06.481 +02:00 [DBG] Connection id "0HNB42UHS63UU", Request id "0HNB42UHS63UU:00000003": done reading request body.
2025-03-16 01:25:06.482 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'UserDto'
2025-03-16 01:25:06.483 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'UserDto'.
2025-03-16 01:25:06.484 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'UserDto'.
2025-03-16 01:25:06.485 +02:00 [DBG] Attempting to validate the bound parameter 'userDto' of type 'UserDto' ...
2025-03-16 01:25:06.487 +02:00 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'UserDto'.
2025-03-16 01:25:06.498 +02:00 [INF] Executing action method UserController.UpdateUser (WebApplication1) - Validation state: "Valid"
2025-03-16 01:25:06.500 +02:00 [INF] Updating user with ID: 2
2025-03-16 01:25:06.511 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2025-03-16 01:25:06.520 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.Email (string) Required, 2], [Property: User.Password (string) Required, 3], [Property: User.Role (string) Required, 4], [Property: User.UpdatedAt (DateTime) Required, 5], [Property: User.Username (string) Required, 6] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.Email, u.Password, u.Role, u.UpdatedAt, u.Username
            FROM Users AS u
            WHERE u.Id == @__p_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-03-16 01:25:06.524 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 01:25:06.525 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-16 01:25:06.526 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 01:25:06.529 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 01:25:06.532 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1
2025-03-16 01:25:06.535 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1
2025-03-16 01:25:06.537 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 01:25:06.538 +02:00 [DBG] A data reader was disposed.
2025-03-16 01:25:06.538 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 01:25:06.539 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 01:25:06.558 +02:00 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 01:25:06.567 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 01:25:06.571 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-03-16 01:25:06.575 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-03-16 01:25:06.579 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-03-16 01:25:06.591 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 01:25:06.599 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 01:25:06.610 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-03-16 01:25:06.626 +02:00 [DBG] Began transaction with isolation level 'Unspecified'.
2025-03-16 01:25:06.653 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 01:25:06.656 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-03-16 01:25:06.663 +02:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Users` SET `CreatedAt` = @p0, `Email` = @p1, `Password` = @p2, `Role` = @p3, `UpdatedAt` = @p4, `Username` = @p5
WHERE `Id` = @p6;
SELECT ROW_COUNT();
2025-03-16 01:25:06.692 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Users` SET `CreatedAt` = @p0, `Email` = @p1, `Password` = @p2, `Role` = @p3, `UpdatedAt` = @p4, `Username` = @p5
WHERE `Id` = @p6;
SELECT ROW_COUNT();
2025-03-16 01:25:06.698 +02:00 [DBG] A data reader was disposed.
2025-03-16 01:25:06.703 +02:00 [DBG] Committing transaction.
2025-03-16 01:25:06.712 +02:00 [DBG] Committed transaction.
2025-03-16 01:25:06.716 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 01:25:06.718 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 01:25:06.721 +02:00 [DBG] Disposing transaction.
2025-03-16 01:25:06.723 +02:00 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 01:25:06.726 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-03-16 01:25:06.728 +02:00 [INF] User with ID 2 updated successfully.
2025-03-16 01:25:06.730 +02:00 [INF] Executed action method UserController.UpdateUser (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 230.8007ms.
2025-03-16 01:25:06.732 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 01:25:06.736 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 01:25:06.736 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 01:25:06.737 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 01:25:06.738 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 01:25:06.739 +02:00 [INF] Executing OkObjectResult, writing value of type 'User'.
2025-03-16 01:25:06.749 +02:00 [INF] Executed action UserController.UpdateUser (WebApplication1) in 283.7613ms
2025-03-16 01:25:06.750 +02:00 [INF] Executed endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 01:25:06.751 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 01:25:06.752 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7234/api/User/2 application/json 78 - 200 - application/json;+charset=utf-8 329.7079ms
2025-03-16 01:26:35.012 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/login - -
2025-03-16 01:26:35.051 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 01:26:35.052 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 01:26:35.058 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:26:35.060 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:26:35.061 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:26:35.061 +02:00 [DBG] The request is a preflight request.
2025-03-16 01:26:35.063 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/login - - - 204 - - 50.0943ms
2025-03-16 01:26:35.065 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 29
2025-03-16 01:26:35.066 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 01:26:35.068 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 01:26:35.071 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:26:35.072 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:26:35.073 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:26:35.073 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:26:35.074 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:26:35.075 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:26:35.077 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 01:26:35.079 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 01:26:35.080 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 01:26:35.082 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 01:26:35.085 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 01:26:35.087 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 01:26:35.089 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 01:26:35.091 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 01:26:35.093 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 01:26:35.094 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 01:26:35.095 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 01:26:35.096 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 01:26:35.097 +02:00 [DBG] Connection id "0HNB42UHS63UT", Request id "0HNB42UHS63UT:0000000B": started reading request body.
2025-03-16 01:26:35.098 +02:00 [DBG] Connection id "0HNB42UHS63UT", Request id "0HNB42UHS63UT:0000000B": done reading request body.
2025-03-16 01:26:35.099 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 01:26:35.100 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 01:26:35.101 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 01:26:35.103 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 01:26:35.104 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 01:26:35.116 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 01:26:35.118 +02:00 [INF] Login attempt for user: a
2025-03-16 01:26:35.119 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 01:26:35.120 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-16 01:26:35.122 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 01:26:35.124 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 01:26:35.127 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 01:26:35.130 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 01:26:35.132 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 01:26:35.133 +02:00 [DBG] A data reader was disposed.
2025-03-16 01:26:35.134 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 01:26:35.136 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 01:26:35.137 +02:00 [INF] Login successful for user: a
2025-03-16 01:26:35.138 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiZiIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6InR5cGllc3QiLCJleHAiOjE3NDIwODI5OTUsImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.fu4dbQ7MXaFretqXxuimV_2Bvo7iNgvoufS0z2vjLm8, User={ Id = 2, Username = f, Email = a, Role = typiest }
2025-03-16 01:26:35.139 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 21.4737ms.
2025-03-16 01:26:35.141 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 01:26:35.143 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 01:26:35.143 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 01:26:35.144 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 01:26:35.145 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 01:26:35.146 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 01:26:35.149 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 60.5149ms
2025-03-16 01:26:35.151 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:26:35.152 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 01:26:35.160 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 29 - 200 - application/json;+charset=utf-8 90.5316ms
2025-03-16 01:26:48.922 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/2 - -
2025-03-16 01:26:48.925 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 01:26:48.929 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 01:26:48.933 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:26:48.937 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:26:48.943 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:26:48.948 +02:00 [DBG] The request is a preflight request.
2025-03-16 01:26:48.985 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/2 - - - 204 - - 63.4360ms
2025-03-16 01:26:48.988 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7234/api/User/2 application/json 83
2025-03-16 01:26:48.991 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 01:26:48.994 +02:00 [DBG] Endpoint 'UserController.UpdateUser (WebApplication1)' with route pattern 'api/User/{userId}' is valid for the request path '/api/User/2'
2025-03-16 01:26:49.001 +02:00 [DBG] Request matched endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 01:26:49.004 +02:00 [DBG] Successfully validated the token.
2025-03-16 01:26:49.010 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-03-16 01:26:49.011 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:26:49.014 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:26:49.016 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:26:49.019 +02:00 [INF] Executing endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 01:26:49.025 +02:00 [INF] Route matched with {action = "UpdateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(Int32, UserDto) on controller UserController (WebApplication1).
2025-03-16 01:26:49.030 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 01:26:49.032 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 01:26:49.033 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 01:26:49.034 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 01:26:49.035 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 01:26:49.036 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 01:26:49.039 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 01:26:49.041 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 01:26:49.042 +02:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2025-03-16 01:26:49.043 +02:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-03-16 01:26:49.045 +02:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-03-16 01:26:49.047 +02:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-03-16 01:26:49.048 +02:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2025-03-16 01:26:49.049 +02:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2025-03-16 01:26:49.050 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'UserDto' ...
2025-03-16 01:26:49.051 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'UserDto' using the name '' in request data ...
2025-03-16 01:26:49.052 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 01:26:49.054 +02:00 [DBG] Connection id "0HNB42UHS63UT", Request id "0HNB42UHS63UT:0000000F": started reading request body.
2025-03-16 01:26:49.055 +02:00 [DBG] Connection id "0HNB42UHS63UT", Request id "0HNB42UHS63UT:0000000F": done reading request body.
2025-03-16 01:26:49.056 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'UserDto'
2025-03-16 01:26:49.056 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'UserDto'.
2025-03-16 01:26:49.057 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'UserDto'.
2025-03-16 01:26:49.058 +02:00 [DBG] Attempting to validate the bound parameter 'userDto' of type 'UserDto' ...
2025-03-16 01:26:49.059 +02:00 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'UserDto'.
2025-03-16 01:26:49.060 +02:00 [DBG] The request has model state errors, returning an error response.
2025-03-16 01:26:49.061 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-03-16 01:26:49.063 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 01:26:49.065 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 01:26:49.065 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-03-16 01:26:49.067 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-03-16 01:26:49.068 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-03-16 01:26:49.070 +02:00 [INF] Executed action UserController.UpdateUser (WebApplication1) in 33.1462ms
2025-03-16 01:26:49.071 +02:00 [INF] Executed endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 01:26:49.072 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 01:26:49.073 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7234/api/User/2 application/json 83 - 400 - application/problem+json;+charset=utf-8 85.5123ms
2025-03-16 01:29:19.917 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/login - -
2025-03-16 01:29:19.919 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 01:29:19.921 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 01:29:19.927 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:29:19.928 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:29:19.932 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:29:19.933 +02:00 [DBG] The request is a preflight request.
2025-03-16 01:29:19.933 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/login - - - 204 - - 16.6941ms
2025-03-16 01:29:19.936 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 29
2025-03-16 01:29:19.938 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 01:29:19.939 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 01:29:19.944 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:29:19.949 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:29:19.949 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:29:19.950 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:29:19.951 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:29:19.952 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:29:19.954 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 01:29:19.957 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 01:29:19.959 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 01:29:19.960 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 01:29:19.962 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 01:29:19.963 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 01:29:19.964 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 01:29:19.966 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 01:29:19.968 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 01:29:19.970 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 01:29:19.971 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 01:29:19.973 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 01:29:19.975 +02:00 [DBG] Connection id "0HNB42UHS63UT", Request id "0HNB42UHS63UT:00000013": started reading request body.
2025-03-16 01:29:19.976 +02:00 [DBG] Connection id "0HNB42UHS63UT", Request id "0HNB42UHS63UT:00000013": done reading request body.
2025-03-16 01:29:19.977 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 01:29:19.978 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 01:29:19.979 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 01:29:19.980 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 01:29:19.981 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 01:29:20.002 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 01:29:20.004 +02:00 [INF] Login attempt for user: a
2025-03-16 01:29:20.006 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 01:29:20.008 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-16 01:29:20.009 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 01:29:20.012 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 01:29:20.022 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 01:29:20.026 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 01:29:20.028 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 01:29:20.029 +02:00 [DBG] A data reader was disposed.
2025-03-16 01:29:20.029 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 01:29:20.031 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 01:29:20.032 +02:00 [INF] Login successful for user: a
2025-03-16 01:29:20.033 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiZiIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6InR5cGllc3QiLCJleHAiOjE3NDIwODMxNjAsImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.Oo9oKszzgaeVjmcq023q99bGcb_j1EmA24UencsFm5Y, User={ Id = 2, Username = f, Email = a, Role = typiest }
2025-03-16 01:29:20.035 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 30.2949ms.
2025-03-16 01:29:20.037 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 01:29:20.041 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 01:29:20.042 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 01:29:20.043 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 01:29:20.043 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 01:29:20.044 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 01:29:20.046 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 81.647ms
2025-03-16 01:29:20.047 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:29:20.049 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 01:29:20.050 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 29 - 200 - application/json;+charset=utf-8 113.7694ms
2025-03-16 01:29:30.771 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/2 - -
2025-03-16 01:29:30.775 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 01:29:30.781 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 01:29:30.786 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:29:30.791 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:29:30.794 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:29:30.795 +02:00 [DBG] The request is a preflight request.
2025-03-16 01:29:30.796 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/2 - - - 204 - - 24.2922ms
2025-03-16 01:29:30.798 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7234/api/User/2 application/json 83
2025-03-16 01:29:30.799 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-03-16 01:29:30.800 +02:00 [DBG] Endpoint 'UserController.UpdateUser (WebApplication1)' with route pattern 'api/User/{userId}' is valid for the request path '/api/User/2'
2025-03-16 01:29:30.801 +02:00 [DBG] Request matched endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 01:29:30.802 +02:00 [DBG] Successfully validated the token.
2025-03-16 01:29:30.803 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-03-16 01:29:30.804 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:29:30.805 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:29:30.805 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:29:30.806 +02:00 [INF] Executing endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 01:29:30.807 +02:00 [INF] Route matched with {action = "UpdateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(Int32, UserDto) on controller UserController (WebApplication1).
2025-03-16 01:29:30.810 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 01:29:30.811 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 01:29:30.812 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 01:29:30.814 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 01:29:30.816 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 01:29:30.818 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 01:29:30.819 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 01:29:30.821 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 01:29:30.822 +02:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2025-03-16 01:29:30.823 +02:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-03-16 01:29:30.824 +02:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-03-16 01:29:30.825 +02:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-03-16 01:29:30.826 +02:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2025-03-16 01:29:30.827 +02:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2025-03-16 01:29:30.828 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'UserDto' ...
2025-03-16 01:29:30.829 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'UserDto' using the name '' in request data ...
2025-03-16 01:29:30.830 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 01:29:30.832 +02:00 [DBG] Connection id "0HNB42UHS63UT", Request id "0HNB42UHS63UT:00000017": started reading request body.
2025-03-16 01:29:30.833 +02:00 [DBG] Connection id "0HNB42UHS63UT", Request id "0HNB42UHS63UT:00000017": done reading request body.
2025-03-16 01:29:30.835 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'UserDto'
2025-03-16 01:29:30.835 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'UserDto'.
2025-03-16 01:29:30.836 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'UserDto'.
2025-03-16 01:29:30.838 +02:00 [DBG] Attempting to validate the bound parameter 'userDto' of type 'UserDto' ...
2025-03-16 01:29:30.839 +02:00 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'UserDto'.
2025-03-16 01:29:30.858 +02:00 [INF] Executing action method UserController.UpdateUser (WebApplication1) - Validation state: "Valid"
2025-03-16 01:29:30.860 +02:00 [INF] Updating user with ID: 2
2025-03-16 01:29:30.861 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 01:29:30.862 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-16 01:29:30.864 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 01:29:30.867 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 01:29:30.869 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1
2025-03-16 01:29:30.872 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1
2025-03-16 01:29:30.874 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 01:29:30.875 +02:00 [DBG] A data reader was disposed.
2025-03-16 01:29:30.875 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 01:29:30.876 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 01:29:30.878 +02:00 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 01:29:30.880 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 01:29:30.882 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-03-16 01:29:30.883 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-03-16 01:29:30.884 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-03-16 01:29:30.885 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 01:29:30.887 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 01:29:30.889 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-03-16 01:29:30.891 +02:00 [DBG] Began transaction with isolation level 'Unspecified'.
2025-03-16 01:29:30.893 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 01:29:30.894 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-16 01:29:30.895 +02:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Users` SET `CreatedAt` = @p0, `Email` = @p1, `Password` = @p2, `Role` = @p3, `UpdatedAt` = @p4, `Username` = @p5
WHERE `Id` = @p6;
SELECT ROW_COUNT();
2025-03-16 01:29:30.898 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Users` SET `CreatedAt` = @p0, `Email` = @p1, `Password` = @p2, `Role` = @p3, `UpdatedAt` = @p4, `Username` = @p5
WHERE `Id` = @p6;
SELECT ROW_COUNT();
2025-03-16 01:29:30.902 +02:00 [DBG] A data reader was disposed.
2025-03-16 01:29:30.903 +02:00 [DBG] Committing transaction.
2025-03-16 01:29:30.905 +02:00 [DBG] Committed transaction.
2025-03-16 01:29:30.906 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 01:29:30.907 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 01:29:30.908 +02:00 [DBG] Disposing transaction.
2025-03-16 01:29:30.909 +02:00 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 01:29:30.910 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-03-16 01:29:30.911 +02:00 [INF] User with ID 2 updated successfully.
2025-03-16 01:29:30.912 +02:00 [INF] Executed action method UserController.UpdateUser (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 52.242ms.
2025-03-16 01:29:30.914 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 01:29:30.917 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 01:29:30.917 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 01:29:30.918 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 01:29:30.919 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 01:29:30.920 +02:00 [INF] Executing OkObjectResult, writing value of type 'User'.
2025-03-16 01:29:30.921 +02:00 [INF] Executed action UserController.UpdateUser (WebApplication1) in 103.166ms
2025-03-16 01:29:30.922 +02:00 [INF] Executed endpoint 'UserController.UpdateUser (WebApplication1)'
2025-03-16 01:29:30.923 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 01:29:30.924 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7234/api/User/2 application/json 83 - 200 - application/json;+charset=utf-8 126.4772ms
2025-03-16 01:29:58.004 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/login - -
2025-03-16 01:29:58.017 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 01:29:58.022 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 01:29:58.028 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:29:58.037 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:29:58.046 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:29:58.047 +02:00 [DBG] The request is a preflight request.
2025-03-16 01:29:58.048 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/login - - - 204 - - 44.1299ms
2025-03-16 01:29:58.051 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 29
2025-03-16 01:29:58.053 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 01:29:58.056 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 01:29:58.061 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:29:58.063 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:29:58.063 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:29:58.064 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:29:58.065 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:29:58.066 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:29:58.067 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 01:29:58.069 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 01:29:58.070 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 01:29:58.071 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 01:29:58.073 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 01:29:58.075 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 01:29:58.076 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 01:29:58.078 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 01:29:58.081 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 01:29:58.082 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 01:29:58.084 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 01:29:58.086 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 01:29:58.087 +02:00 [DBG] Connection id "0HNB42UHS63UT", Request id "0HNB42UHS63UT:0000001B": started reading request body.
2025-03-16 01:29:58.089 +02:00 [DBG] Connection id "0HNB42UHS63UT", Request id "0HNB42UHS63UT:0000001B": done reading request body.
2025-03-16 01:29:58.090 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 01:29:58.091 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 01:29:58.092 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 01:29:58.093 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 01:29:58.094 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 01:29:58.109 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 01:29:58.110 +02:00 [INF] Login attempt for user: a
2025-03-16 01:29:58.111 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 01:29:58.113 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-16 01:29:58.114 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 01:29:58.117 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 01:29:58.119 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 01:29:58.123 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 01:29:58.125 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 01:29:58.126 +02:00 [DBG] A data reader was disposed.
2025-03-16 01:29:58.126 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 01:29:58.127 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 01:29:58.128 +02:00 [INF] Login successful for user: a
2025-03-16 01:29:58.129 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiYyIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6InR5cGllc3QiLCJleHAiOjE3NDIwODMxOTgsImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.YrN7uZi54iEDUrdGfvj74J7EYvkKY8Jfhc9t08sMW24, User={ Id = 2, Username = c, Email = a, Role = typiest }
2025-03-16 01:29:58.130 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 19.6386ms.
2025-03-16 01:29:58.131 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 01:29:58.134 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 01:29:58.135 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 01:29:58.136 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 01:29:58.137 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 01:29:58.139 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 01:29:58.140 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 63.6006ms
2025-03-16 01:29:58.141 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:29:58.142 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 01:29:58.144 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 29 - 200 - application/json;+charset=utf-8 92.5702ms
2025-03-16 01:31:58.533 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/login - -
2025-03-16 01:31:58.546 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 01:31:58.552 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 01:31:58.558 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:31:58.561 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:31:58.564 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:31:58.568 +02:00 [DBG] The request is a preflight request.
2025-03-16 01:31:58.581 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/login - - - 204 - - 47.6460ms
2025-03-16 01:31:58.583 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 29
2025-03-16 01:31:58.594 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 01:31:58.604 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 01:31:58.608 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:31:58.612 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:31:58.617 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:31:58.620 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:31:58.621 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:31:58.622 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:31:58.624 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 01:31:58.626 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 01:31:58.628 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 01:31:58.630 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 01:31:58.631 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 01:31:58.632 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 01:31:58.635 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 01:31:58.637 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 01:31:58.638 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 01:31:58.640 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 01:31:58.641 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 01:31:58.643 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 01:31:58.644 +02:00 [DBG] Connection id "0HNB42UHS63UT", Request id "0HNB42UHS63UT:0000001F": started reading request body.
2025-03-16 01:31:58.645 +02:00 [DBG] Connection id "0HNB42UHS63UT", Request id "0HNB42UHS63UT:0000001F": done reading request body.
2025-03-16 01:31:58.646 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 01:31:58.647 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 01:31:58.648 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 01:31:58.649 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 01:31:58.650 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 01:31:58.662 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 01:31:58.663 +02:00 [INF] Login attempt for user: a
2025-03-16 01:31:58.664 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 01:31:58.666 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-16 01:31:58.667 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 01:31:58.669 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 01:31:58.671 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 01:31:58.675 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 01:31:58.679 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 01:31:58.680 +02:00 [DBG] A data reader was disposed.
2025-03-16 01:31:58.681 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 01:31:58.682 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 01:31:58.683 +02:00 [INF] Login successful for user: a
2025-03-16 01:31:58.684 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiYyIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6InR5cGllc3QiLCJleHAiOjE3NDIwODMzMTgsImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.Yr9ybku4dj7Zkm9S1BJb7O6fxQFS21QvIDxTqia73aA, User={ Id = 2, Username = c, Email = a, Role = typiest }
2025-03-16 01:31:58.685 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 21.661ms.
2025-03-16 01:31:58.686 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 01:31:58.688 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 01:31:58.689 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 01:31:58.690 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 01:31:58.691 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 01:31:58.693 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 01:31:58.694 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 59.4717ms
2025-03-16 01:31:58.695 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:31:58.697 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 01:31:58.699 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 29 - 200 - application/json;+charset=utf-8 115.6453ms
2025-03-16 01:33:24.024 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/login - -
2025-03-16 01:33:24.038 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 01:33:24.039 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 01:33:24.047 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:33:24.050 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:33:24.062 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:33:24.065 +02:00 [DBG] The request is a preflight request.
2025-03-16 01:33:24.066 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/login - - - 204 - - 41.8713ms
2025-03-16 01:33:24.069 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 29
2025-03-16 01:33:24.072 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 01:33:24.080 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 01:33:24.086 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:33:24.092 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:33:24.097 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:33:24.099 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:33:24.101 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:33:24.106 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:33:24.112 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 01:33:24.119 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 01:33:24.128 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 01:33:24.134 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 01:33:24.146 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 01:33:24.149 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 01:33:24.152 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 01:33:24.154 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 01:33:24.157 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 01:33:24.158 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 01:33:24.159 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 01:33:24.160 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 01:33:24.161 +02:00 [DBG] Connection id "0HNB42UHS63UT", Request id "0HNB42UHS63UT:00000023": started reading request body.
2025-03-16 01:33:24.162 +02:00 [DBG] Connection id "0HNB42UHS63UT", Request id "0HNB42UHS63UT:00000023": done reading request body.
2025-03-16 01:33:24.163 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 01:33:24.164 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 01:33:24.165 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 01:33:24.166 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 01:33:24.167 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 01:33:24.182 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 01:33:24.183 +02:00 [INF] Login attempt for user: a
2025-03-16 01:33:24.184 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 01:33:24.185 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-16 01:33:24.186 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 01:33:24.193 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 01:33:24.195 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 01:33:24.198 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 01:33:24.201 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 01:33:24.204 +02:00 [DBG] A data reader was disposed.
2025-03-16 01:33:24.205 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 01:33:24.206 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 01:33:24.207 +02:00 [INF] Login successful for user: a
2025-03-16 01:33:24.208 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiYyIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6InR5cGllc3QiLCJleHAiOjE3NDIwODM0MDQsImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.8DNo5I8eq_svgGo14nCg8w6qyQxXurfJGL6mTeRAvV8, User={ Id = 2, Username = c, Email = a, Role = typiest }
2025-03-16 01:33:24.209 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 26.4505ms.
2025-03-16 01:33:24.211 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 01:33:24.214 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 01:33:24.216 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 01:33:24.219 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 01:33:24.221 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 01:33:24.222 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 01:33:24.223 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 71.2467ms
2025-03-16 01:33:24.224 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:33:24.225 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 01:33:24.227 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 29 - 200 - application/json;+charset=utf-8 157.8097ms
2025-03-16 01:33:41.815 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/register - -
2025-03-16 01:33:41.817 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/register'
2025-03-16 01:33:41.822 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 01:33:41.824 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:33:41.829 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:33:41.833 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:33:41.836 +02:00 [DBG] The request is a preflight request.
2025-03-16 01:33:41.840 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/register - - - 204 - - 25.2389ms
2025-03-16 01:33:41.842 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/register application/json 28
2025-03-16 01:33:41.881 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/register'
2025-03-16 01:33:41.886 +02:00 [DBG] Endpoint 'UserController.RegisterUser (WebApplication1)' with route pattern 'api/User/register' is valid for the request path '/api/User/register'
2025-03-16 01:33:41.891 +02:00 [DBG] Request matched endpoint 'UserController.RegisterUser (WebApplication1)'
2025-03-16 01:33:41.898 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:33:41.901 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:33:41.902 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:33:41.903 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:33:41.906 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (typist)
2025-03-16 01:33:41.908 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-03-16 01:33:41.914 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/register application/json 28 - 401 0 - 71.2579ms
2025-03-16 01:33:41.915 +02:00 [DBG] Connection id "0HNB42UHS63UT", Request id "0HNB42UHS63UT:00000027": started reading request body.
2025-03-16 01:33:41.918 +02:00 [DBG] Connection id "0HNB42UHS63UT", Request id "0HNB42UHS63UT:00000027": done reading request body.
2025-03-16 01:34:50.604 +02:00 [DBG] Connection id "0HNB42UHS63UT" received FIN.
2025-03-16 01:34:50.604 +02:00 [DBG] Connection id "0HNB42UHS63UU" received FIN.
2025-03-16 01:34:50.614 +02:00 [DBG] Connection id "0HNB42UHS63UT" is closed. The last processed stream ID was 39.
2025-03-16 01:34:50.617 +02:00 [DBG] The connection queue processing loop for 0HNB42UHS63UT completed.
2025-03-16 01:34:50.622 +02:00 [DBG] Connection id "0HNB42UHS63UU" is closed. The last processed stream ID was 3.
2025-03-16 01:34:50.623 +02:00 [DBG] Connection id "0HNB42UHS63UU" sending FIN because: "The client closed the connection."
2025-03-16 01:34:50.634 +02:00 [DBG] Connection id "0HNB42UHS63UT" sending FIN because: "The client closed the connection."
2025-03-16 01:34:50.647 +02:00 [DBG] The connection queue processing loop for 0HNB42UHS63UU completed.
2025-03-16 01:34:50.662 +02:00 [DBG] Connection id "0HNB42UHS63UU" stopped.
2025-03-16 01:34:50.665 +02:00 [DBG] Connection id "0HNB42UHS63UT" stopped.
2025-03-16 01:37:48.159 +02:00 [DBG] Connection id "0HNB42UHS63UV" accepted.
2025-03-16 01:37:48.220 +02:00 [DBG] Connection id "0HNB42UHS63UV" started.
2025-03-16 01:37:48.226 +02:00 [DBG] Connection 0HNB42UHS63UV established using the following protocol: "Tls13"
2025-03-16 01:37:48.239 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/login - -
2025-03-16 01:37:48.250 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 01:37:48.254 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 01:37:48.259 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:37:48.260 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:37:48.262 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:37:48.263 +02:00 [DBG] The request is a preflight request.
2025-03-16 01:37:48.263 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/login - - - 204 - - 24.8482ms
2025-03-16 01:37:48.265 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 29
2025-03-16 01:37:48.267 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 01:37:48.268 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 01:37:48.270 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:37:48.271 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:37:48.272 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:37:48.273 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:37:48.274 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:37:48.275 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:37:48.276 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 01:37:48.279 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 01:37:48.280 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 01:37:48.281 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 01:37:48.284 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 01:37:48.285 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 01:37:48.287 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 01:37:48.301 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 01:37:48.303 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 01:37:48.304 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 01:37:48.305 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 01:37:48.306 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 01:37:48.309 +02:00 [DBG] Connection id "0HNB42UHS63UV", Request id "0HNB42UHS63UV:00000003": started reading request body.
2025-03-16 01:37:48.310 +02:00 [DBG] Connection id "0HNB42UHS63UV", Request id "0HNB42UHS63UV:00000003": done reading request body.
2025-03-16 01:37:48.311 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 01:37:48.312 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 01:37:48.313 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 01:37:48.314 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 01:37:48.315 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 01:37:48.332 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 01:37:48.334 +02:00 [INF] Login attempt for user: a
2025-03-16 01:37:48.335 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 01:37:48.337 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-16 01:37:48.340 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 01:37:48.349 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 01:37:48.351 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 01:37:48.356 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 01:37:48.358 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 01:37:48.359 +02:00 [DBG] A data reader was disposed.
2025-03-16 01:37:48.359 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 01:37:48.360 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 01:37:48.362 +02:00 [INF] Login successful for user: a
2025-03-16 01:37:48.362 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiYyIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6InR5cGllc3QiLCJleHAiOjE3NDIwODM2NjgsImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.-LWdbIdKhTb7OUfaN74T-GRJycF9GmtA5ZZOuNsF0Uc, User={ Id = 2, Username = c, Email = a, Role = typiest }
2025-03-16 01:37:48.363 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 29.2162ms.
2025-03-16 01:37:48.365 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 01:37:48.367 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 01:37:48.368 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 01:37:48.369 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 01:37:48.371 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 01:37:48.372 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 01:37:48.374 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 87.682ms
2025-03-16 01:37:48.376 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:37:48.377 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 01:37:48.379 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 29 - 200 - application/json;+charset=utf-8 113.6171ms
2025-03-16 01:37:50.922 +02:00 [DBG] Connection id "0HNB42UHS63UV" received FIN.
2025-03-16 01:37:50.926 +02:00 [DBG] Connection id "0HNB42UHS63UV" is closed. The last processed stream ID was 3.
2025-03-16 01:37:50.926 +02:00 [DBG] The connection queue processing loop for 0HNB42UHS63UV completed.
2025-03-16 01:37:50.934 +02:00 [DBG] Connection id "0HNB42UHS63UV" sending FIN because: "The client closed the connection."
2025-03-16 01:37:50.954 +02:00 [DBG] Connection id "0HNB42UHS63UV" stopped.
2025-03-16 01:38:02.329 +02:00 [DBG] Connection id "0HNB42UHS63V0" accepted.
2025-03-16 01:38:02.333 +02:00 [DBG] Connection id "0HNB42UHS63V0" started.
2025-03-16 01:38:02.342 +02:00 [DBG] Connection 0HNB42UHS63V0 established using the following protocol: "Tls13"
2025-03-16 01:38:02.345 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/register - -
2025-03-16 01:38:02.348 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/register'
2025-03-16 01:38:02.353 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 01:38:02.359 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:38:02.362 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:38:02.368 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:38:02.372 +02:00 [DBG] The request is a preflight request.
2025-03-16 01:38:02.376 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/register - - - 204 - - 30.5773ms
2025-03-16 01:38:02.378 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/register application/json 62
2025-03-16 01:38:02.384 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/register'
2025-03-16 01:38:02.390 +02:00 [DBG] Endpoint 'UserController.RegisterUser (WebApplication1)' with route pattern 'api/User/register' is valid for the request path '/api/User/register'
2025-03-16 01:38:02.395 +02:00 [DBG] Request matched endpoint 'UserController.RegisterUser (WebApplication1)'
2025-03-16 01:38:02.399 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:38:02.403 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:38:02.409 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:38:02.413 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:38:02.417 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (typist)
2025-03-16 01:38:02.423 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-03-16 01:38:02.427 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/register application/json 62 - 401 0 - 49.2290ms
2025-03-16 01:38:02.431 +02:00 [DBG] Connection id "0HNB42UHS63V0", Request id "0HNB42UHS63V0:00000003": started reading request body.
2025-03-16 01:38:02.435 +02:00 [DBG] Connection id "0HNB42UHS63V0", Request id "0HNB42UHS63V0:00000003": done reading request body.
2025-03-16 01:38:10.963 +02:00 [DBG] Connection id "0HNB42UHS63V0" received FIN.
2025-03-16 01:38:10.968 +02:00 [DBG] Connection id "0HNB42UHS63V0" is closed. The last processed stream ID was 3.
2025-03-16 01:38:10.975 +02:00 [DBG] Connection id "0HNB42UHS63V0" sending FIN because: "The client closed the connection."
2025-03-16 01:38:10.968 +02:00 [DBG] The connection queue processing loop for 0HNB42UHS63V0 completed.
2025-03-16 01:38:10.985 +02:00 [DBG] Connection id "0HNB42UHS63V0" stopped.
2025-03-16 01:38:50.330 +02:00 [DBG] Connection id "0HNB42UHS63V1" accepted.
2025-03-16 01:38:50.371 +02:00 [DBG] Connection id "0HNB42UHS63V1" started.
2025-03-16 01:38:50.380 +02:00 [DBG] Connection 0HNB42UHS63V1 established using the following protocol: "Tls13"
2025-03-16 01:38:50.475 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7234/api/User/register - -
2025-03-16 01:38:50.481 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/register'
2025-03-16 01:38:50.482 +02:00 [DBG] Endpoint 'UserController.GetUserById (WebApplication1)' with route pattern 'api/User/{userId}' is valid for the request path '/api/User/register'
2025-03-16 01:38:50.485 +02:00 [DBG] Request matched endpoint 'UserController.GetUserById (WebApplication1)'
2025-03-16 01:38:50.489 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:38:50.491 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:38:50.492 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (typist)
2025-03-16 01:38:50.494 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-03-16 01:38:50.496 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7234/api/User/register - - - 401 0 - 20.8511ms
2025-03-16 01:38:51.014 +02:00 [DBG] Connection id "0HNB42UHS63V1" received FIN.
2025-03-16 01:38:51.017 +02:00 [DBG] Connection id "0HNB42UHS63V1" is closed. The last processed stream ID was 1.
2025-03-16 01:38:51.022 +02:00 [DBG] Connection id "0HNB42UHS63V1" sending FIN because: "The client closed the connection."
2025-03-16 01:38:51.017 +02:00 [DBG] The connection queue processing loop for 0HNB42UHS63V1 completed.
2025-03-16 01:38:51.027 +02:00 [DBG] Connection id "0HNB42UHS63V1" stopped.
2025-03-16 01:38:52.065 +02:00 [DBG] Connection id "0HNB42UHS63V2" accepted.
2025-03-16 01:38:52.070 +02:00 [DBG] Connection id "0HNB42UHS63V2" started.
2025-03-16 01:38:52.076 +02:00 [DBG] Connection 0HNB42UHS63V2 established using the following protocol: "Tls13"
2025-03-16 01:38:52.083 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7234/api/User/register - -
2025-03-16 01:38:52.096 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/register'
2025-03-16 01:38:52.099 +02:00 [DBG] Endpoint 'UserController.GetUserById (WebApplication1)' with route pattern 'api/User/{userId}' is valid for the request path '/api/User/register'
2025-03-16 01:38:52.106 +02:00 [DBG] Request matched endpoint 'UserController.GetUserById (WebApplication1)'
2025-03-16 01:38:52.113 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:38:52.118 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:38:52.123 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (typist)
2025-03-16 01:38:52.127 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-03-16 01:38:52.132 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7234/api/User/register - - - 401 0 - 49.1737ms
2025-03-16 01:39:48.367 +02:00 [DBG] Connection id "0HNB42UHS63V3" accepted.
2025-03-16 01:39:48.409 +02:00 [DBG] Connection id "0HNB42UHS63V3" started.
2025-03-16 01:39:48.428 +02:00 [DBG] Connection 0HNB42UHS63V3 established using the following protocol: "Tls13"
2025-03-16 01:39:48.442 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/login - -
2025-03-16 01:39:48.451 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 01:39:48.455 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 01:39:48.456 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:39:48.457 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:39:48.458 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:39:48.459 +02:00 [DBG] The request is a preflight request.
2025-03-16 01:39:48.460 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/login - - - 204 - - 18.4830ms
2025-03-16 01:39:48.461 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 29
2025-03-16 01:39:48.462 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 01:39:48.463 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 01:39:48.465 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:39:48.466 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:39:48.467 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:39:48.468 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:39:48.468 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:39:48.469 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:39:48.470 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 01:39:48.471 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 01:39:48.472 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 01:39:48.474 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 01:39:48.476 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 01:39:48.478 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 01:39:48.479 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 01:39:48.482 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 01:39:48.484 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 01:39:48.485 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 01:39:48.486 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 01:39:48.487 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 01:39:48.488 +02:00 [DBG] Connection id "0HNB42UHS63V3", Request id "0HNB42UHS63V3:00000003": started reading request body.
2025-03-16 01:39:48.489 +02:00 [DBG] Connection id "0HNB42UHS63V3", Request id "0HNB42UHS63V3:00000003": done reading request body.
2025-03-16 01:39:48.490 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 01:39:48.492 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 01:39:48.493 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 01:39:48.494 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 01:39:48.496 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 01:39:48.511 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 01:39:48.513 +02:00 [INF] Login attempt for user: a
2025-03-16 01:39:48.515 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 01:39:48.516 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-16 01:39:48.517 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 01:39:48.519 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 01:39:48.521 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 01:39:48.526 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 01:39:48.530 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 01:39:48.531 +02:00 [DBG] A data reader was disposed.
2025-03-16 01:39:48.531 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 01:39:48.532 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 01:39:48.533 +02:00 [INF] Login successful for user: a
2025-03-16 01:39:48.534 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiYyIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6InR5cGllc3QiLCJleHAiOjE3NDIwODM3ODgsImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.2_uXcFuACh9HKbKoXmi0U1liU33bEzpQgM2onbSHSlw, User={ Id = 2, Username = c, Email = a, Role = typiest }
2025-03-16 01:39:48.535 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 21.9762ms.
2025-03-16 01:39:48.536 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 01:39:48.538 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 01:39:48.539 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 01:39:48.540 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 01:39:48.541 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 01:39:48.543 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 01:39:48.544 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 65.1968ms
2025-03-16 01:39:48.546 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 01:39:48.547 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 01:39:48.548 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 29 - 200 - application/json;+charset=utf-8 86.6571ms
2025-03-16 01:39:59.895 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/register - -
2025-03-16 01:39:59.898 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/register'
2025-03-16 01:39:59.899 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 01:39:59.900 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:39:59.905 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:39:59.907 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:39:59.908 +02:00 [DBG] The request is a preflight request.
2025-03-16 01:39:59.909 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/register - - - 204 - - 14.2791ms
2025-03-16 01:39:59.910 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/register application/json 63
2025-03-16 01:39:59.911 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/register'
2025-03-16 01:39:59.912 +02:00 [DBG] Endpoint 'UserController.RegisterUser (WebApplication1)' with route pattern 'api/User/register' is valid for the request path '/api/User/register'
2025-03-16 01:39:59.914 +02:00 [DBG] Request matched endpoint 'UserController.RegisterUser (WebApplication1)'
2025-03-16 01:39:59.915 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 01:39:59.916 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 01:39:59.920 +02:00 [INF] CORS policy execution successful.
2025-03-16 01:39:59.921 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 01:39:59.923 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (typist)
2025-03-16 01:39:59.924 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-03-16 01:39:59.925 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/register application/json 63 - 401 0 - 14.6888ms
2025-03-16 01:39:59.926 +02:00 [DBG] Connection id "0HNB42UHS63V3", Request id "0HNB42UHS63V3:00000007": started reading request body.
2025-03-16 01:39:59.927 +02:00 [DBG] Connection id "0HNB42UHS63V3", Request id "0HNB42UHS63V3:00000007": done reading request body.
2025-03-16 01:41:29.639 +02:00 [DBG] Connection id "0HNB42UHS63V3" received FIN.
2025-03-16 01:41:29.639 +02:00 [DBG] Connection id "0HNB42UHS63V2" received FIN.
2025-03-16 01:41:29.641 +02:00 [DBG] Connection id "0HNB42UHS63V3" is closed. The last processed stream ID was 7.
2025-03-16 01:41:29.642 +02:00 [DBG] The connection queue processing loop for 0HNB42UHS63V3 completed.
2025-03-16 01:41:29.642 +02:00 [DBG] Connection id "0HNB42UHS63V2" is closed. The last processed stream ID was 1.
2025-03-16 01:41:29.679 +02:00 [DBG] The connection queue processing loop for 0HNB42UHS63V2 completed.
2025-03-16 01:41:29.644 +02:00 [DBG] Connection id "0HNB42UHS63V3" sending FIN because: "The client closed the connection."
2025-03-16 01:41:29.689 +02:00 [DBG] Connection id "0HNB42UHS63V2" sending FIN because: "The client closed the connection."
2025-03-16 01:41:29.692 +02:00 [DBG] Connection id "0HNB42UHS63V3" stopped.
2025-03-16 01:41:29.705 +02:00 [DBG] Connection id "0HNB42UHS63V2" stopped.
2025-03-16 11:47:19.675 +02:00 [DBG] Connection id "0HNB42UHS63V4" accepted.
2025-03-16 11:47:19.689 +02:00 [DBG] Connection id "0HNB42UHS63V4" started.
2025-03-16 11:47:19.735 +02:00 [DBG] Connection 0HNB42UHS63V4 established using the following protocol: "Tls13"
2025-03-16 11:47:19.757 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/login - -
2025-03-16 11:47:19.763 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 11:47:19.765 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 11:47:19.768 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 11:47:19.769 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 11:47:19.770 +02:00 [INF] CORS policy execution successful.
2025-03-16 11:47:19.775 +02:00 [DBG] The request is a preflight request.
2025-03-16 11:47:19.777 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/login - - - 204 - - 22.9278ms
2025-03-16 11:47:19.780 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 29
2025-03-16 11:47:19.783 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 11:47:19.785 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 11:47:19.789 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 11:47:19.790 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 11:47:19.791 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 11:47:19.792 +02:00 [INF] CORS policy execution successful.
2025-03-16 11:47:19.796 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 11:47:19.798 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 11:47:19.806 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 11:47:19.810 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 11:47:19.811 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 11:47:19.813 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 11:47:19.815 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 11:47:19.817 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 11:47:19.820 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 11:47:19.970 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 11:47:19.976 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 11:47:19.982 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 11:47:19.985 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 11:47:19.989 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 11:47:19.995 +02:00 [DBG] Connection id "0HNB42UHS63V4", Request id "0HNB42UHS63V4:00000003": started reading request body.
2025-03-16 11:47:19.997 +02:00 [DBG] Connection id "0HNB42UHS63V4", Request id "0HNB42UHS63V4:00000003": done reading request body.
2025-03-16 11:47:19.999 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 11:47:19.999 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 11:47:20.002 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 11:47:20.004 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 11:47:20.010 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 11:47:20.159 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 11:47:20.164 +02:00 [INF] Login attempt for user: a
2025-03-16 11:47:20.188 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 11:47:20.194 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-03-16 11:47:20.201 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 11:47:20.263 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 11:47:20.271 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 11:47:20.301 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 11:47:20.308 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 11:47:20.311 +02:00 [DBG] A data reader was disposed.
2025-03-16 11:47:20.311 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 11:47:20.313 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 11:47:20.711 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 891.1544ms
2025-03-16 11:47:20.718 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 11:47:20.735 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Login failed.
 ---> System.UnauthorizedAccessException: Invalid email or password.
   at UserService.LoginAsync(String email, String password) in C:\Users\user1\Desktop\practicom\server\api\Service\Services\UserService.cs:line 112
   --- End of inner exception stack trace ---
   at UserService.LoginAsync(String email, String password) in C:\Users\user1\Desktop\practicom\server\api\Service\Services\UserService.cs:line 120
   at UserController.Login(LoginDto model) in C:\Users\user1\Desktop\לימודים\net core\practicom\WebApplication1\Controllers\UserController.cs:line 80
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-16 11:47:20.883 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 11:47:20.885 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 29 - 500 - text/plain;+charset=utf-8 1105.1823ms
2025-03-16 11:47:22.971 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 28
2025-03-16 11:47:22.973 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 11:47:22.975 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 11:47:22.978 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 11:47:22.981 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 11:47:22.983 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 11:47:22.984 +02:00 [INF] CORS policy execution successful.
2025-03-16 11:47:22.985 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 11:47:22.986 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 11:47:22.988 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 11:47:22.991 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 11:47:22.994 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 11:47:22.995 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 11:47:22.998 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 11:47:22.999 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 11:47:23.001 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 11:47:23.006 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 11:47:23.008 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 11:47:23.010 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 11:47:23.011 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 11:47:23.013 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 11:47:23.014 +02:00 [DBG] Connection id "0HNB42UHS63V4", Request id "0HNB42UHS63V4:00000005": started reading request body.
2025-03-16 11:47:23.015 +02:00 [DBG] Connection id "0HNB42UHS63V4", Request id "0HNB42UHS63V4:00000005": done reading request body.
2025-03-16 11:47:23.017 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 11:47:23.018 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 11:47:23.019 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 11:47:23.020 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 11:47:23.022 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 11:47:23.046 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 11:47:23.047 +02:00 [INF] Login attempt for user: 
2025-03-16 11:47:23.051 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 11:47:23.053 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-03-16 11:47:23.055 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 11:47:23.061 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 11:47:23.065 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 11:47:23.071 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 11:47:23.076 +02:00 [DBG] A data reader was disposed.
2025-03-16 11:47:23.077 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 11:47:23.078 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 11:47:23.256 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 254.8619ms
2025-03-16 11:47:23.258 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 11:47:23.260 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Login failed.
 ---> System.UnauthorizedAccessException: Invalid email or password.
   at UserService.LoginAsync(String email, String password) in C:\Users\user1\Desktop\practicom\server\api\Service\Services\UserService.cs:line 112
   --- End of inner exception stack trace ---
   at UserService.LoginAsync(String email, String password) in C:\Users\user1\Desktop\practicom\server\api\Service\Services\UserService.cs:line 120
   at UserController.Login(LoginDto model) in C:\Users\user1\Desktop\לימודים\net core\practicom\WebApplication1\Controllers\UserController.cs:line 80
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-16 11:47:23.281 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 11:47:23.283 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 28 - 500 - text/plain;+charset=utf-8 311.8572ms
2025-03-16 11:48:46.705 +02:00 [DBG] Connection id "0HNB42UHS63V4" received FIN.
2025-03-16 11:48:46.752 +02:00 [DBG] Connection id "0HNB42UHS63V4" is closed. The last processed stream ID was 5.
2025-03-16 11:48:46.753 +02:00 [DBG] The connection queue processing loop for 0HNB42UHS63V4 completed.
2025-03-16 11:48:46.764 +02:00 [DBG] Connection id "0HNB42UHS63V4" sending FIN because: "The client closed the connection."
2025-03-16 11:48:46.782 +02:00 [DBG] Connection id "0HNB42UHS63V4" stopped.
2025-03-16 12:02:16.573 +02:00 [DBG] Connection id "0HNB42UHS63V5" accepted.
2025-03-16 12:02:16.585 +02:00 [DBG] Connection id "0HNB42UHS63V5" started.
2025-03-16 12:02:16.613 +02:00 [DBG] Connection 0HNB42UHS63V5 established using the following protocol: "Tls13"
2025-03-16 12:02:16.617 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/login - -
2025-03-16 12:02:16.660 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 12:02:16.663 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 12:02:16.670 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 12:02:16.671 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 12:02:16.672 +02:00 [INF] CORS policy execution successful.
2025-03-16 12:02:16.673 +02:00 [DBG] The request is a preflight request.
2025-03-16 12:02:16.674 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/login - - - 204 - - 57.1671ms
2025-03-16 12:02:16.682 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 29
2025-03-16 12:02:16.685 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 12:02:16.687 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 12:02:16.689 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 12:02:16.690 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 12:02:16.691 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 12:02:16.696 +02:00 [INF] CORS policy execution successful.
2025-03-16 12:02:16.697 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 12:02:16.698 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 12:02:16.700 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 12:02:16.702 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 12:02:16.703 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 12:02:16.704 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 12:02:16.706 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 12:02:16.707 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 12:02:16.711 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 12:02:16.734 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 12:02:16.738 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 12:02:16.739 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 12:02:16.741 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 12:02:16.743 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 12:02:16.745 +02:00 [DBG] Connection id "0HNB42UHS63V5", Request id "0HNB42UHS63V5:00000003": started reading request body.
2025-03-16 12:02:16.746 +02:00 [DBG] Connection id "0HNB42UHS63V5", Request id "0HNB42UHS63V5:00000003": done reading request body.
2025-03-16 12:02:16.748 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 12:02:16.749 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 12:02:16.750 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 12:02:16.751 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 12:02:16.753 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 12:02:16.779 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 12:02:16.782 +02:00 [INF] Login attempt for user: a
2025-03-16 12:02:16.784 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 12:02:16.785 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-16 12:02:16.786 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 12:02:16.805 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 12:02:16.807 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 12:02:16.815 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 12:02:16.817 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 12:02:16.819 +02:00 [DBG] A data reader was disposed.
2025-03-16 12:02:16.822 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 12:02:16.823 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 12:02:16.836 +02:00 [INF] Login successful for user: a
2025-03-16 12:02:16.838 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiYyIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6InR5cGllc3QiLCJleHAiOjE3NDIxMjExMzYsImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.ALIyS4tIS8XNWIcBbMlRlSygRqIEVGdoEiOIvQJKfHo, User={ Id = 2, Username = c, Email = a, Role = typiest }
2025-03-16 12:02:16.847 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 65.5886ms.
2025-03-16 12:02:16.854 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 12:02:16.857 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 12:02:16.860 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 12:02:16.862 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 12:02:16.863 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 12:02:16.865 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 12:02:16.871 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 160.2161ms
2025-03-16 12:02:16.873 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 12:02:16.874 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 12:02:16.878 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 29 - 200 - application/json;+charset=utf-8 196.0611ms
2025-03-16 12:02:27.285 +02:00 [DBG] Connection id "0HNB42UHS63V5" received FIN.
2025-03-16 12:02:27.289 +02:00 [DBG] Connection id "0HNB42UHS63V5" is closed. The last processed stream ID was 3.
2025-03-16 12:02:27.289 +02:00 [DBG] Connection id "0HNB42UHS63V5" sending FIN because: "The client closed the connection."
2025-03-16 12:02:27.297 +02:00 [DBG] The connection queue processing loop for 0HNB42UHS63V5 completed.
2025-03-16 12:02:27.330 +02:00 [DBG] Connection id "0HNB42UHS63V5" stopped.
2025-03-16 12:38:26.149 +02:00 [DBG] Connection id "0HNB42UHS63V6" accepted.
2025-03-16 12:38:26.166 +02:00 [DBG] Connection id "0HNB42UHS63V6" started.
2025-03-16 12:38:26.177 +02:00 [DBG] Connection 0HNB42UHS63V6 established using the following protocol: "Tls13"
2025-03-16 12:38:26.199 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/login - -
2025-03-16 12:38:26.213 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 12:38:26.226 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 12:38:26.231 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 12:38:26.234 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 12:38:26.235 +02:00 [INF] CORS policy execution successful.
2025-03-16 12:38:26.237 +02:00 [DBG] The request is a preflight request.
2025-03-16 12:38:26.238 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/login - - - 204 - - 39.2685ms
2025-03-16 12:38:26.241 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 29
2025-03-16 12:38:26.242 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 12:38:26.244 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 12:38:26.247 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 12:38:26.248 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 12:38:26.249 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 12:38:26.250 +02:00 [INF] CORS policy execution successful.
2025-03-16 12:38:26.251 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 12:38:26.252 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 12:38:26.253 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 12:38:26.255 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 12:38:26.257 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 12:38:26.259 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 12:38:26.263 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 12:38:26.264 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 12:38:26.266 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 12:38:26.284 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 12:38:26.290 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 12:38:26.293 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 12:38:26.296 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 12:38:26.298 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 12:38:26.300 +02:00 [DBG] Connection id "0HNB42UHS63V6", Request id "0HNB42UHS63V6:00000003": started reading request body.
2025-03-16 12:38:26.305 +02:00 [DBG] Connection id "0HNB42UHS63V6", Request id "0HNB42UHS63V6:00000003": done reading request body.
2025-03-16 12:38:26.310 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 12:38:26.316 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 12:38:26.324 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 12:38:26.327 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 12:38:26.332 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 12:38:26.358 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 12:38:26.360 +02:00 [INF] Login attempt for user: a
2025-03-16 12:38:26.363 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 12:38:26.367 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-03-16 12:38:26.369 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 12:38:26.390 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 12:38:26.391 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 12:38:26.397 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 12:38:26.401 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 12:38:26.403 +02:00 [DBG] A data reader was disposed.
2025-03-16 12:38:26.404 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 12:38:26.405 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 12:38:26.406 +02:00 [INF] Login successful for user: a
2025-03-16 12:38:26.407 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiYyIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6InR5cGllc3QiLCJleHAiOjE3NDIxMjMzMDYsImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.fWRTqyUGRkHXkEYIJkTLUIzs39y-up6otN2xaNAq0_A, User={ Id = 2, Username = c, Email = a, Role = typiest }
2025-03-16 12:38:26.408 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 47.7325ms.
2025-03-16 12:38:26.411 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 12:38:26.415 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 12:38:26.416 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 12:38:26.417 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 12:38:26.418 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 12:38:26.419 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 12:38:26.421 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 154.9509ms
2025-03-16 12:38:26.423 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 12:38:26.424 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 12:38:26.425 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 29 - 200 - application/json;+charset=utf-8 184.8802ms
2025-03-16 12:38:36.290 +02:00 [DBG] Connection id "0HNB42UHS63V6" received FIN.
2025-03-16 12:38:36.293 +02:00 [DBG] The connection queue processing loop for 0HNB42UHS63V6 completed.
2025-03-16 12:38:36.293 +02:00 [DBG] Connection id "0HNB42UHS63V6" is closed. The last processed stream ID was 3.
2025-03-16 12:38:36.300 +02:00 [DBG] Connection id "0HNB42UHS63V6" sending FIN because: "The client closed the connection."
2025-03-16 12:38:36.306 +02:00 [DBG] Connection id "0HNB42UHS63V6" stopped.
2025-03-16 12:39:37.898 +02:00 [DBG] Connection id "0HNB42UHS63V7" accepted.
2025-03-16 12:39:37.938 +02:00 [DBG] Connection id "0HNB42UHS63V7" started.
2025-03-16 12:39:37.983 +02:00 [DBG] Connection 0HNB42UHS63V7 established using the following protocol: "Tls13"
2025-03-16 12:39:38.037 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/login - -
2025-03-16 12:39:38.067 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 12:39:38.073 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 12:39:38.077 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 12:39:38.080 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 12:39:38.085 +02:00 [INF] CORS policy execution successful.
2025-03-16 12:39:38.088 +02:00 [DBG] The request is a preflight request.
2025-03-16 12:39:38.091 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/login - - - 204 - - 53.8159ms
2025-03-16 12:39:38.097 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 29
2025-03-16 12:39:38.101 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 12:39:38.104 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 12:39:38.109 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 12:39:38.116 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 12:39:38.126 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 12:39:38.134 +02:00 [INF] CORS policy execution successful.
2025-03-16 12:39:38.139 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 12:39:38.146 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 12:39:38.151 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 12:39:38.159 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 12:39:38.171 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 12:39:38.180 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 12:39:38.189 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 12:39:38.200 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 12:39:38.211 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 12:39:38.222 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 12:39:38.234 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 12:39:38.242 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 12:39:38.249 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 12:39:38.256 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 12:39:38.264 +02:00 [DBG] Connection id "0HNB42UHS63V7", Request id "0HNB42UHS63V7:00000003": started reading request body.
2025-03-16 12:39:38.274 +02:00 [DBG] Connection id "0HNB42UHS63V7", Request id "0HNB42UHS63V7:00000003": done reading request body.
2025-03-16 12:39:38.281 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 12:39:38.286 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 12:39:38.292 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 12:39:38.298 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 12:39:38.304 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 12:39:38.385 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 12:39:38.390 +02:00 [INF] Login attempt for user: a
2025-03-16 12:39:38.400 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 12:39:38.405 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-03-16 12:39:38.413 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 12:39:38.433 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 12:39:38.451 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 12:39:38.479 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 12:39:38.496 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 12:39:38.503 +02:00 [DBG] A data reader was disposed.
2025-03-16 12:39:38.506 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 12:39:38.511 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 12:39:38.515 +02:00 [INF] Login successful for user: a
2025-03-16 12:39:38.519 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiYyIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6InR5cGllc3QiLCJleHAiOjE3NDIxMjMzNzgsImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.fJnv-cOI_d1T96YzOeB1vlQ4YFoyayP4TIa8ws-hmWc, User={ Id = 2, Username = c, Email = a, Role = typiest }
2025-03-16 12:39:38.526 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 135.992ms.
2025-03-16 12:39:38.532 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 12:39:38.540 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 12:39:38.544 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 12:39:38.548 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 12:39:38.556 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 12:39:38.561 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 12:39:38.570 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 359.307ms
2025-03-16 12:39:38.575 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 12:39:38.581 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 12:39:38.588 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 29 - 200 - application/json;+charset=utf-8 491.9966ms
2025-03-16 12:39:46.376 +02:00 [DBG] Connection id "0HNB42UHS63V7" received FIN.
2025-03-16 12:39:46.378 +02:00 [DBG] Connection id "0HNB42UHS63V7" is closed. The last processed stream ID was 3.
2025-03-16 12:39:46.378 +02:00 [DBG] The connection queue processing loop for 0HNB42UHS63V7 completed.
2025-03-16 12:39:46.380 +02:00 [DBG] Connection id "0HNB42UHS63V7" sending FIN because: "The client closed the connection."
2025-03-16 12:39:46.391 +02:00 [DBG] Connection id "0HNB42UHS63V7" stopped.
2025-03-16 12:41:15.605 +02:00 [DBG] Connection id "0HNB42UHS63V8" accepted.
2025-03-16 12:41:15.622 +02:00 [DBG] Connection id "0HNB42UHS63V8" started.
2025-03-16 12:41:15.641 +02:00 [DBG] Connection 0HNB42UHS63V8 established using the following protocol: "Tls13"
2025-03-16 12:41:15.650 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/login - -
2025-03-16 12:41:15.651 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 12:41:15.665 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 12:41:15.667 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 12:41:15.668 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 12:41:15.669 +02:00 [INF] CORS policy execution successful.
2025-03-16 12:41:15.670 +02:00 [DBG] The request is a preflight request.
2025-03-16 12:41:15.671 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/login - - - 204 - - 20.7820ms
2025-03-16 12:41:15.673 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 29
2025-03-16 12:41:15.674 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 12:41:15.682 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 12:41:15.685 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 12:41:15.686 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 12:41:15.687 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 12:41:15.689 +02:00 [INF] CORS policy execution successful.
2025-03-16 12:41:15.690 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 12:41:15.691 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 12:41:15.693 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 12:41:15.696 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 12:41:15.698 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 12:41:15.699 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 12:41:15.701 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 12:41:15.703 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 12:41:15.704 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 12:41:15.706 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 12:41:15.710 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 12:41:15.711 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 12:41:15.713 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 12:41:15.714 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 12:41:15.715 +02:00 [DBG] Connection id "0HNB42UHS63V8", Request id "0HNB42UHS63V8:00000003": started reading request body.
2025-03-16 12:41:15.717 +02:00 [DBG] Connection id "0HNB42UHS63V8", Request id "0HNB42UHS63V8:00000003": done reading request body.
2025-03-16 12:41:15.718 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 12:41:15.719 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 12:41:15.720 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 12:41:15.721 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 12:41:15.722 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 12:41:15.750 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 12:41:15.752 +02:00 [INF] Login attempt for user: a
2025-03-16 12:41:15.753 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 12:41:15.755 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-16 12:41:15.756 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 12:41:15.760 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 12:41:15.762 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 12:41:15.766 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 12:41:15.769 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 12:41:15.770 +02:00 [DBG] A data reader was disposed.
2025-03-16 12:41:15.771 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 12:41:15.772 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 12:41:15.773 +02:00 [INF] Login successful for user: a
2025-03-16 12:41:15.774 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiYyIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6InR5cGllc3QiLCJleHAiOjE3NDIxMjM0NzUsImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.w5d8QBJv_2irmmtlsKvczfumD9V0lrXg87oOQceFR1Q, User={ Id = 2, Username = c, Email = a, Role = typiest }
2025-03-16 12:41:15.776 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 24.873ms.
2025-03-16 12:41:15.779 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 12:41:15.781 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 12:41:15.782 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 12:41:15.784 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 12:41:15.785 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 12:41:15.787 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 12:41:15.789 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 84.5196ms
2025-03-16 12:41:15.790 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 12:41:15.791 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 12:41:15.797 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 29 - 200 - application/json;+charset=utf-8 122.7609ms
2025-03-16 12:41:16.497 +02:00 [DBG] Connection id "0HNB42UHS63V8" received FIN.
2025-03-16 12:41:16.501 +02:00 [DBG] The connection queue processing loop for 0HNB42UHS63V8 completed.
2025-03-16 12:41:16.502 +02:00 [DBG] Connection id "0HNB42UHS63V8" is closed. The last processed stream ID was 3.
2025-03-16 12:41:16.506 +02:00 [DBG] Connection id "0HNB42UHS63V8" sending FIN because: "The client closed the connection."
2025-03-16 12:41:16.511 +02:00 [DBG] Connection id "0HNB42UHS63V8" stopped.
2025-03-16 13:02:00.611 +02:00 [DBG] Connection id "0HNB42UHS63V9" accepted.
2025-03-16 13:02:00.631 +02:00 [DBG] Connection id "0HNB42UHS63V9" started.
2025-03-16 13:02:00.640 +02:00 [DBG] Connection 0HNB42UHS63V9 established using the following protocol: "Tls13"
2025-03-16 13:02:00.663 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/login - -
2025-03-16 13:02:00.677 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 13:02:00.683 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 13:02:00.688 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 13:02:00.693 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:02:00.695 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:02:00.696 +02:00 [DBG] The request is a preflight request.
2025-03-16 13:02:00.697 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/login - - - 204 - - 34.3138ms
2025-03-16 13:02:00.703 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 29
2025-03-16 13:02:00.704 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 13:02:00.708 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 13:02:00.710 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:02:00.711 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 13:02:00.713 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:02:00.714 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:02:00.715 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 13:02:00.718 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:02:00.720 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 13:02:00.724 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 13:02:00.726 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 13:02:00.727 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 13:02:00.730 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 13:02:00.734 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 13:02:00.737 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 13:02:00.767 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 13:02:00.774 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 13:02:00.777 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 13:02:00.779 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 13:02:00.782 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 13:02:00.785 +02:00 [DBG] Connection id "0HNB42UHS63V9", Request id "0HNB42UHS63V9:00000003": started reading request body.
2025-03-16 13:02:00.787 +02:00 [DBG] Connection id "0HNB42UHS63V9", Request id "0HNB42UHS63V9:00000003": done reading request body.
2025-03-16 13:02:00.789 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 13:02:00.791 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 13:02:00.793 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 13:02:00.795 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 13:02:00.797 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 13:02:00.833 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 13:02:00.837 +02:00 [INF] Login attempt for user: a
2025-03-16 13:02:00.840 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 13:02:00.843 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-03-16 13:02:00.846 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 13:02:00.861 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 13:02:00.863 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 13:02:00.868 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 13:02:00.872 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 13:02:00.874 +02:00 [DBG] A data reader was disposed.
2025-03-16 13:02:00.875 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 13:02:00.877 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 13:02:00.878 +02:00 [INF] Login successful for user: a
2025-03-16 13:02:00.879 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiYyIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6InR5cGllc3QiLCJleHAiOjE3NDIxMjQ3MjAsImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.YnrV3yXlOPOnjZ_k7mLlS0rSxBoIeW75YKgKLXciOvw, User={ Id = 2, Username = c, Email = a, Role = typiest }
2025-03-16 13:02:00.881 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 44.2394ms.
2025-03-16 13:02:00.883 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 13:02:00.887 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 13:02:00.889 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 13:02:00.890 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 13:02:00.891 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 13:02:00.892 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 13:02:00.895 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 158.0911ms
2025-03-16 13:02:00.897 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:02:00.898 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 13:02:00.901 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 29 - 200 - application/json;+charset=utf-8 198.4795ms
2025-03-16 13:02:21.458 +02:00 [DBG] Connection id "0HNB42UHS63V9" received FIN.
2025-03-16 13:02:21.461 +02:00 [DBG] Connection id "0HNB42UHS63V9" is closed. The last processed stream ID was 3.
2025-03-16 13:02:21.461 +02:00 [DBG] The connection queue processing loop for 0HNB42UHS63V9 completed.
2025-03-16 13:02:21.462 +02:00 [DBG] Connection id "0HNB42UHS63V9" sending FIN because: "The client closed the connection."
2025-03-16 13:02:21.468 +02:00 [DBG] Connection id "0HNB42UHS63V9" stopped.
2025-03-16 13:04:50.343 +02:00 [DBG] Connection id "0HNB42UHS63VA" accepted.
2025-03-16 13:04:50.360 +02:00 [DBG] Connection id "0HNB42UHS63VA" started.
2025-03-16 13:04:50.373 +02:00 [DBG] Connection 0HNB42UHS63VA established using the following protocol: "Tls13"
2025-03-16 13:04:50.379 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/login - -
2025-03-16 13:04:50.395 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 13:04:50.402 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 13:04:50.404 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 13:04:50.406 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:04:50.407 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:04:50.410 +02:00 [DBG] The request is a preflight request.
2025-03-16 13:04:50.411 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/login - - - 204 - - 32.2520ms
2025-03-16 13:04:50.414 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 29
2025-03-16 13:04:50.417 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 13:04:50.419 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 13:04:50.422 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:04:50.424 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 13:04:50.427 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:04:50.429 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:04:50.430 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 13:04:50.431 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:04:50.433 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 13:04:50.436 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 13:04:50.438 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 13:04:50.441 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 13:04:50.444 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 13:04:50.445 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 13:04:50.447 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 13:04:50.454 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 13:04:50.458 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 13:04:50.459 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 13:04:50.462 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 13:04:50.463 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 13:04:50.466 +02:00 [DBG] Connection id "0HNB42UHS63VA", Request id "0HNB42UHS63VA:00000003": started reading request body.
2025-03-16 13:04:50.469 +02:00 [DBG] Connection id "0HNB42UHS63VA", Request id "0HNB42UHS63VA:00000003": done reading request body.
2025-03-16 13:04:50.472 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 13:04:50.474 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 13:04:50.476 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 13:04:50.478 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 13:04:50.480 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 13:04:50.515 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 13:04:50.522 +02:00 [INF] Login attempt for user: a
2025-03-16 13:04:50.524 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 13:04:50.526 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-16 13:04:50.529 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 13:04:50.538 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 13:04:50.541 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 13:04:50.546 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 13:04:50.554 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 13:04:50.556 +02:00 [DBG] A data reader was disposed.
2025-03-16 13:04:50.558 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 13:04:50.559 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 13:04:50.561 +02:00 [INF] Login successful for user: a
2025-03-16 13:04:50.564 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiYyIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6InR5cGllc3QiLCJleHAiOjE3NDIxMjQ4OTAsImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.l2ZZu0weEOQfZOPRCyyx6GhllasWQOwPWUiupKtGN18, User={ Id = 2, Username = c, Email = a, Role = typiest }
2025-03-16 13:04:50.569 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 46.6345ms.
2025-03-16 13:04:50.574 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 13:04:50.578 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 13:04:50.581 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 13:04:50.585 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 13:04:50.588 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 13:04:50.591 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 13:04:50.594 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 146.3774ms
2025-03-16 13:04:50.596 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:04:50.599 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 13:04:50.601 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 29 - 200 - application/json;+charset=utf-8 187.8327ms
2025-03-16 13:05:03.944 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/login - -
2025-03-16 13:05:03.947 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 13:05:03.949 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 13:05:03.951 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 13:05:03.952 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:05:03.953 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:05:03.955 +02:00 [DBG] The request is a preflight request.
2025-03-16 13:05:03.956 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/login - - - 204 - - 15.2842ms
2025-03-16 13:05:03.959 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 29
2025-03-16 13:05:03.962 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 13:05:03.965 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 13:05:03.967 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:05:03.969 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 13:05:03.970 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:05:03.971 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:05:03.972 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 13:05:03.973 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:05:03.974 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 13:05:03.982 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 13:05:03.984 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 13:05:03.986 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 13:05:03.988 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 13:05:03.990 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 13:05:03.993 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 13:05:03.999 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 13:05:04.001 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 13:05:04.003 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 13:05:04.005 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 13:05:04.007 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 13:05:04.011 +02:00 [DBG] Connection id "0HNB42UHS63VA", Request id "0HNB42UHS63VA:00000007": started reading request body.
2025-03-16 13:05:04.013 +02:00 [DBG] Connection id "0HNB42UHS63VA", Request id "0HNB42UHS63VA:00000007": done reading request body.
2025-03-16 13:05:04.015 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 13:05:04.016 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 13:05:04.017 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 13:05:04.018 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 13:05:04.020 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 13:05:04.041 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 13:05:04.044 +02:00 [INF] Login attempt for user: a
2025-03-16 13:05:04.046 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 13:05:04.047 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-16 13:05:04.049 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 13:05:04.052 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 13:05:04.055 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 13:05:04.060 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 13:05:04.064 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 13:05:04.065 +02:00 [DBG] A data reader was disposed.
2025-03-16 13:05:04.066 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 13:05:04.068 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 13:05:04.069 +02:00 [INF] Login successful for user: a
2025-03-16 13:05:04.070 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiYyIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6InR5cGllc3QiLCJleHAiOjE3NDIxMjQ5MDQsImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.MTsP_vmf2wNYjzvn1zu6abVkqtHy_mP4j4ZnflGwPcw, User={ Id = 2, Username = c, Email = a, Role = typiest }
2025-03-16 13:05:04.072 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 28.5867ms.
2025-03-16 13:05:04.074 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 13:05:04.078 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 13:05:04.079 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 13:05:04.081 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 13:05:04.082 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 13:05:04.083 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 13:05:04.086 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 92.7837ms
2025-03-16 13:05:04.089 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:05:04.090 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 13:05:04.093 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 29 - 200 - application/json;+charset=utf-8 134.5024ms
2025-03-16 13:05:19.894 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/login - -
2025-03-16 13:05:19.899 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 13:05:19.903 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 13:05:19.905 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 13:05:19.913 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:05:19.919 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:05:19.922 +02:00 [DBG] The request is a preflight request.
2025-03-16 13:05:19.925 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/login - - - 204 - - 31.5284ms
2025-03-16 13:05:19.928 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 29
2025-03-16 13:05:19.931 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 13:05:19.941 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 13:05:19.945 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:05:19.950 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 13:05:19.954 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:05:19.959 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:05:19.963 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 13:05:19.968 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:05:19.974 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 13:05:19.981 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 13:05:19.985 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 13:05:19.987 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 13:05:19.990 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 13:05:19.992 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 13:05:19.993 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 13:05:19.996 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 13:05:19.999 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 13:05:20.001 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 13:05:20.004 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 13:05:20.007 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 13:05:20.009 +02:00 [DBG] Connection id "0HNB42UHS63VA", Request id "0HNB42UHS63VA:0000000B": started reading request body.
2025-03-16 13:05:20.011 +02:00 [DBG] Connection id "0HNB42UHS63VA", Request id "0HNB42UHS63VA:0000000B": done reading request body.
2025-03-16 13:05:20.012 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 13:05:20.013 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 13:05:20.015 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 13:05:20.017 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 13:05:20.020 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 13:05:20.044 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 13:05:20.047 +02:00 [INF] Login attempt for user: a
2025-03-16 13:05:20.049 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 13:05:20.051 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-16 13:05:20.054 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 13:05:20.060 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 13:05:20.063 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 13:05:20.067 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 13:05:20.071 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 13:05:20.073 +02:00 [DBG] A data reader was disposed.
2025-03-16 13:05:20.076 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 13:05:20.078 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 13:05:20.080 +02:00 [INF] Login successful for user: a
2025-03-16 13:05:20.081 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiYyIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6InR5cGllc3QiLCJleHAiOjE3NDIxMjQ5MjAsImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.ZfFNtOKPbu2VFwwMyxxuNJell0z3Ivb3LgoV9zBuR_M, User={ Id = 2, Username = c, Email = a, Role = typiest }
2025-03-16 13:05:20.083 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 35.5233ms.
2025-03-16 13:05:20.086 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 13:05:20.090 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 13:05:20.092 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 13:05:20.093 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 13:05:20.094 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 13:05:20.095 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 13:05:20.098 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 104.7965ms
2025-03-16 13:05:20.101 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:05:20.103 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 13:05:20.108 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 29 - 200 - application/json;+charset=utf-8 179.0997ms
2025-03-16 13:07:29.815 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/login - -
2025-03-16 13:07:29.832 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 13:07:29.843 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 13:07:29.846 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 13:07:29.849 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:07:29.850 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:07:29.853 +02:00 [DBG] The request is a preflight request.
2025-03-16 13:07:29.854 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/login - - - 204 - - 39.7489ms
2025-03-16 13:07:29.861 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 29
2025-03-16 13:07:29.864 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 13:07:29.867 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 13:07:29.871 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:07:29.875 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 13:07:29.877 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:07:29.881 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:07:29.883 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 13:07:29.885 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:07:29.888 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 13:07:29.892 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 13:07:29.894 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 13:07:29.897 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 13:07:29.900 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 13:07:29.901 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 13:07:29.905 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 13:07:29.909 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 13:07:29.913 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 13:07:29.915 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 13:07:29.916 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 13:07:29.918 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 13:07:29.923 +02:00 [DBG] Connection id "0HNB42UHS63VA", Request id "0HNB42UHS63VA:0000000F": started reading request body.
2025-03-16 13:07:29.926 +02:00 [DBG] Connection id "0HNB42UHS63VA", Request id "0HNB42UHS63VA:0000000F": done reading request body.
2025-03-16 13:07:29.928 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 13:07:29.930 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 13:07:29.931 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 13:07:29.933 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 13:07:29.934 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 13:07:29.965 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 13:07:29.968 +02:00 [INF] Login attempt for user: a
2025-03-16 13:07:29.970 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 13:07:29.973 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-03-16 13:07:29.978 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 13:07:29.985 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 13:07:30.010 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 13:07:30.024 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 13:07:30.029 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 13:07:30.031 +02:00 [DBG] A data reader was disposed.
2025-03-16 13:07:30.032 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 13:07:30.034 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 13:07:30.038 +02:00 [INF] Login successful for user: a
2025-03-16 13:07:30.040 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiYyIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6InR5cGllc3QiLCJleHAiOjE3NDIxMjUwNTAsImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.5Uh4czlldBwQuddw252IPIgLtAvTFC2uP3SyeOEcZMs, User={ Id = 2, Username = c, Email = a, Role = typiest }
2025-03-16 13:07:30.042 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 74.2507ms.
2025-03-16 13:07:30.045 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 13:07:30.048 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 13:07:30.050 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 13:07:30.055 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 13:07:30.058 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 13:07:30.061 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 13:07:30.065 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 159.7386ms
2025-03-16 13:07:30.067 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:07:30.070 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 13:07:30.074 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 29 - 200 - application/json;+charset=utf-8 213.0787ms
2025-03-16 13:08:30.961 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/login - -
2025-03-16 13:08:30.982 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 13:08:30.998 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 13:08:31.002 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 13:08:31.003 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:08:31.011 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:08:31.014 +02:00 [DBG] The request is a preflight request.
2025-03-16 13:08:31.017 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/login - - - 204 - - 55.7429ms
2025-03-16 13:08:31.021 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 29
2025-03-16 13:08:31.045 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 13:08:31.064 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 13:08:31.069 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:08:31.071 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 13:08:31.073 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:08:31.075 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:08:31.077 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 13:08:31.079 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:08:31.082 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 13:08:31.088 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 13:08:31.091 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 13:08:31.093 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 13:08:31.096 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 13:08:31.098 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 13:08:31.101 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 13:08:31.106 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 13:08:31.110 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 13:08:31.112 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 13:08:31.113 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 13:08:31.117 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 13:08:31.119 +02:00 [DBG] Connection id "0HNB42UHS63VA", Request id "0HNB42UHS63VA:00000013": started reading request body.
2025-03-16 13:08:31.121 +02:00 [DBG] Connection id "0HNB42UHS63VA", Request id "0HNB42UHS63VA:00000013": done reading request body.
2025-03-16 13:08:31.124 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 13:08:31.126 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 13:08:31.128 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 13:08:31.132 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 13:08:31.135 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 13:08:31.165 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 13:08:31.167 +02:00 [INF] Login attempt for user: a
2025-03-16 13:08:31.169 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 13:08:31.171 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-16 13:08:31.175 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 13:08:31.181 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 13:08:31.184 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 13:08:31.189 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 13:08:31.197 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 13:08:31.200 +02:00 [DBG] A data reader was disposed.
2025-03-16 13:08:31.202 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 13:08:31.203 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 13:08:31.206 +02:00 [INF] Login successful for user: a
2025-03-16 13:08:31.210 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiYyIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6InR5cGllc3QiLCJleHAiOjE3NDIxMjUxMTEsImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.a-dSEjTX77O_vLYhWqwPDqlkNRgH56fDjxsqadTV-dY, User={ Id = 2, Username = c, Email = a, Role = typiest }
2025-03-16 13:08:31.213 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 46.1608ms.
2025-03-16 13:08:31.216 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 13:08:31.220 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 13:08:31.221 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 13:08:31.223 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 13:08:31.226 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 13:08:31.228 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 13:08:31.231 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 129.7775ms
2025-03-16 13:08:31.233 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:08:31.235 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 13:08:31.237 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 29 - 200 - application/json;+charset=utf-8 216.4355ms
2025-03-16 13:10:38.824 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/login - -
2025-03-16 13:10:38.848 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 13:10:38.854 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 13:10:38.856 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 13:10:38.860 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:10:38.863 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:10:38.866 +02:00 [DBG] The request is a preflight request.
2025-03-16 13:10:38.868 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/login - - - 204 - - 44.2356ms
2025-03-16 13:10:38.874 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 29
2025-03-16 13:10:38.894 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 13:10:38.896 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 13:10:38.899 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:10:38.900 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 13:10:38.903 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:10:38.905 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:10:38.907 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 13:10:38.909 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:10:38.911 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 13:10:38.915 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 13:10:38.920 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 13:10:38.923 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 13:10:38.928 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 13:10:38.931 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 13:10:38.937 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 13:10:38.942 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 13:10:38.949 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 13:10:38.951 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 13:10:38.953 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 13:10:38.955 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 13:10:38.957 +02:00 [DBG] Connection id "0HNB42UHS63VA", Request id "0HNB42UHS63VA:00000017": started reading request body.
2025-03-16 13:10:38.959 +02:00 [DBG] Connection id "0HNB42UHS63VA", Request id "0HNB42UHS63VA:00000017": done reading request body.
2025-03-16 13:10:38.961 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 13:10:38.964 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 13:10:38.968 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 13:10:38.970 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 13:10:38.972 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 13:10:38.998 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 13:10:39.000 +02:00 [INF] Login attempt for user: a
2025-03-16 13:10:39.003 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 13:10:39.005 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-16 13:10:39.007 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 13:10:39.013 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 13:10:39.017 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 13:10:39.022 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 13:10:39.031 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 13:10:39.034 +02:00 [DBG] A data reader was disposed.
2025-03-16 13:10:39.035 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 13:10:39.037 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 13:10:39.039 +02:00 [INF] Login successful for user: a
2025-03-16 13:10:39.042 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiYyIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6InR5cGllc3QiLCJleHAiOjE3NDIxMjUyMzksImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.IjUjT_tZHzHUv6Nn7gdZQbYvEjyx8pxvQkkimUt8FQg, User={ Id = 2, Username = c, Email = a, Role = typiest }
2025-03-16 13:10:39.046 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 45.4408ms.
2025-03-16 13:10:39.049 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 13:10:39.053 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 13:10:39.054 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 13:10:39.055 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 13:10:39.057 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 13:10:39.063 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 13:10:39.066 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 129.8605ms
2025-03-16 13:10:39.069 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:10:39.070 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 13:10:39.079 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 29 - 200 - application/json;+charset=utf-8 205.3212ms
2025-03-16 13:12:18.999 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/login - -
2025-03-16 13:12:19.016 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 13:12:19.026 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 13:12:19.030 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 13:12:19.033 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:12:19.036 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:12:19.039 +02:00 [DBG] The request is a preflight request.
2025-03-16 13:12:19.043 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/login - - - 204 - - 43.7752ms
2025-03-16 13:12:19.052 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 29
2025-03-16 13:12:19.057 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 13:12:19.063 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 13:12:19.070 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:12:19.074 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 13:12:19.076 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:12:19.078 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:12:19.079 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 13:12:19.081 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:12:19.083 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 13:12:19.087 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 13:12:19.089 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 13:12:19.091 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 13:12:19.095 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 13:12:19.097 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 13:12:19.101 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 13:12:19.106 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 13:12:19.110 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 13:12:19.113 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 13:12:19.118 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 13:12:19.120 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 13:12:19.122 +02:00 [DBG] Connection id "0HNB42UHS63VA", Request id "0HNB42UHS63VA:0000001B": started reading request body.
2025-03-16 13:12:19.124 +02:00 [DBG] Connection id "0HNB42UHS63VA", Request id "0HNB42UHS63VA:0000001B": done reading request body.
2025-03-16 13:12:19.128 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 13:12:19.129 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 13:12:19.134 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 13:12:19.137 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 13:12:19.139 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 13:12:19.168 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 13:12:19.171 +02:00 [INF] Login attempt for user: a
2025-03-16 13:12:19.172 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 13:12:19.174 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-16 13:12:19.177 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 13:12:19.186 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 13:12:19.217 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 13:12:19.226 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 13:12:19.234 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 13:12:19.237 +02:00 [DBG] A data reader was disposed.
2025-03-16 13:12:19.239 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 13:12:19.240 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 13:12:19.248 +02:00 [INF] Login successful for user: a
2025-03-16 13:12:19.250 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiYyIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6InR5cGllc3QiLCJleHAiOjE3NDIxMjUzMzksImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.Ga7ks1ec8oTY1p3aA2tx6x_57noRSqHD-9YXpdOBF1w, User={ Id = 2, Username = c, Email = a, Role = typiest }
2025-03-16 13:12:19.254 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 83.2239ms.
2025-03-16 13:12:19.259 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 13:12:19.265 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 13:12:19.266 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 13:12:19.268 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 13:12:19.269 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 13:12:19.271 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 13:12:19.279 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 177.9522ms
2025-03-16 13:12:19.283 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:12:19.285 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 13:12:19.288 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 29 - 200 - application/json;+charset=utf-8 235.5316ms
2025-03-16 13:13:27.287 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/login - -
2025-03-16 13:13:27.301 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 13:13:27.309 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 13:13:27.311 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 13:13:27.314 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:13:27.317 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:13:27.318 +02:00 [DBG] The request is a preflight request.
2025-03-16 13:13:27.320 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/login - - - 204 - - 33.3231ms
2025-03-16 13:13:27.325 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 29
2025-03-16 13:13:27.345 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 13:13:27.349 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 13:13:27.354 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:13:27.355 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 13:13:27.356 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:13:27.359 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:13:27.361 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 13:13:27.362 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:13:27.364 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 13:13:27.369 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 13:13:27.371 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 13:13:27.373 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 13:13:27.377 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 13:13:27.379 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 13:13:27.383 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 13:13:27.387 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 13:13:27.390 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 13:13:27.419 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 13:13:27.430 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 13:13:27.434 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 13:13:27.439 +02:00 [DBG] Connection id "0HNB42UHS63VA", Request id "0HNB42UHS63VA:0000001F": started reading request body.
2025-03-16 13:13:27.445 +02:00 [DBG] Connection id "0HNB42UHS63VA", Request id "0HNB42UHS63VA:0000001F": done reading request body.
2025-03-16 13:13:27.448 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 13:13:27.450 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 13:13:27.452 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 13:13:27.454 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 13:13:27.456 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 13:13:27.498 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 13:13:27.504 +02:00 [INF] Login attempt for user: a
2025-03-16 13:13:27.509 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 13:13:27.514 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-03-16 13:13:27.520 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 13:13:27.525 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 13:13:27.530 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 13:13:27.536 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 13:13:27.541 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 13:13:27.544 +02:00 [DBG] A data reader was disposed.
2025-03-16 13:13:27.545 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 13:13:27.548 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 13:13:27.552 +02:00 [INF] Login successful for user: a
2025-03-16 13:13:27.553 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiYyIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6InR5cGllc3QiLCJleHAiOjE3NDIxMjU0MDcsImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.GtxuEwxugPAtmLVHQE7rOqwlmb0_n8SdYhDK9a-QdE4, User={ Id = 2, Username = c, Email = a, Role = typiest }
2025-03-16 13:13:27.555 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 50.9382ms.
2025-03-16 13:13:27.558 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 13:13:27.563 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 13:13:27.564 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 13:13:27.566 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 13:13:27.568 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 13:13:27.570 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 13:13:27.574 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 190.6376ms
2025-03-16 13:13:27.577 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:13:27.579 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 13:13:27.584 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 29 - 200 - application/json;+charset=utf-8 258.8692ms
2025-03-16 13:16:48.628 +02:00 [DBG] Connection id "0HNB42UHS63VA" received FIN.
2025-03-16 13:16:48.722 +02:00 [DBG] Connection id "0HNB42UHS63VA" is closed. The last processed stream ID was 31.
2025-03-16 13:16:48.736 +02:00 [DBG] The connection queue processing loop for 0HNB42UHS63VA completed.
2025-03-16 13:16:48.760 +02:00 [DBG] Connection id "0HNB42UHS63VA" sending FIN because: "The client closed the connection."
2025-03-16 13:16:48.784 +02:00 [DBG] Connection id "0HNB42UHS63VA" stopped.
2025-03-16 13:40:34.134 +02:00 [DBG] Connection id "0HNB42UHS63VB" accepted.
2025-03-16 13:40:34.140 +02:00 [DBG] Connection id "0HNB42UHS63VB" started.
2025-03-16 13:40:34.155 +02:00 [DBG] Connection 0HNB42UHS63VB established using the following protocol: "Tls13"
2025-03-16 13:40:34.172 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/login - -
2025-03-16 13:40:34.175 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 13:40:34.187 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 13:40:34.188 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 13:40:34.189 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:40:34.190 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:40:34.192 +02:00 [DBG] The request is a preflight request.
2025-03-16 13:40:34.193 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/login - - - 204 - - 21.3225ms
2025-03-16 13:40:34.196 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 29
2025-03-16 13:40:34.197 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 13:40:34.199 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 13:40:34.200 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:40:34.201 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 13:40:34.201 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:40:34.202 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:40:34.203 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 13:40:34.203 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:40:34.204 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 13:40:34.206 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 13:40:34.210 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 13:40:34.214 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 13:40:34.217 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 13:40:34.218 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 13:40:34.219 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 13:40:34.240 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 13:40:34.247 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 13:40:34.248 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 13:40:34.250 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 13:40:34.251 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 13:40:34.252 +02:00 [DBG] Connection id "0HNB42UHS63VB", Request id "0HNB42UHS63VB:00000003": started reading request body.
2025-03-16 13:40:34.253 +02:00 [DBG] Connection id "0HNB42UHS63VB", Request id "0HNB42UHS63VB:00000003": done reading request body.
2025-03-16 13:40:34.253 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 13:40:34.254 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 13:40:34.255 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 13:40:34.256 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 13:40:34.259 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 13:40:34.281 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 13:40:34.282 +02:00 [INF] Login attempt for user: a
2025-03-16 13:40:34.284 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 13:40:34.285 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-16 13:40:34.286 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 13:40:34.300 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 13:40:34.301 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 13:40:34.306 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 13:40:34.311 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 13:40:34.313 +02:00 [DBG] A data reader was disposed.
2025-03-16 13:40:34.313 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 13:40:34.315 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 13:40:34.316 +02:00 [INF] Login successful for user: a
2025-03-16 13:40:34.316 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiYyIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6InR5cGllc3QiLCJleHAiOjE3NDIxMjcwMzQsImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.PE0kEIIFvQ6NT0WtP6_KKeT9rsNEpjQ94637PNpegKI, User={ Id = 2, Username = c, Email = a, Role = typiest }
2025-03-16 13:40:34.318 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 35.5763ms.
2025-03-16 13:40:34.319 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 13:40:34.325 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 13:40:34.326 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 13:40:34.328 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 13:40:34.329 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 13:40:34.331 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 13:40:34.333 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 114.4672ms
2025-03-16 13:40:34.337 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:40:34.338 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 13:40:34.341 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 29 - 200 - application/json;+charset=utf-8 145.2903ms
2025-03-16 13:42:19.088 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User - -
2025-03-16 13:42:19.099 +02:00 [DBG] No candidates found for the request path '/api/User'
2025-03-16 13:42:19.106 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User - -
2025-03-16 13:42:19.108 +02:00 [DBG] Request did not match any endpoints
2025-03-16 13:42:19.119 +02:00 [DBG] No candidates found for the request path '/api/User'
2025-03-16 13:42:19.121 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 13:42:19.125 +02:00 [DBG] Request did not match any endpoints
2025-03-16 13:42:19.126 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:42:19.126 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 13:42:19.129 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:42:19.129 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:42:19.130 +02:00 [DBG] The request is a preflight request.
2025-03-16 13:42:19.127 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:42:19.133 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User - - - 204 - - 26.7514ms
2025-03-16 13:42:19.135 +02:00 [DBG] The request is a preflight request.
2025-03-16 13:42:19.136 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7234/api/User - -
2025-03-16 13:42:19.148 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User - - - 204 - - 60.3292ms
2025-03-16 13:42:19.149 +02:00 [DBG] No candidates found for the request path '/api/User'
2025-03-16 13:42:19.150 +02:00 [DBG] Request did not match any endpoints
2025-03-16 13:42:19.152 +02:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2025-03-16 13:42:19.153 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:42:19.154 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:42:19.160 +02:00 [DBG] The request path  does not match the path filter
2025-03-16 13:42:19.162 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7234/api/User - - - 404 0 - 26.6343ms
2025-03-16 13:42:19.165 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7234/api/User - -
2025-03-16 13:42:19.167 +02:00 [DBG] No candidates found for the request path '/api/User'
2025-03-16 13:42:19.168 +02:00 [DBG] Request did not match any endpoints
2025-03-16 13:42:19.169 +02:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2025-03-16 13:42:19.169 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:42:19.170 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:42:19.172 +02:00 [DBG] The request path  does not match the path filter
2025-03-16 13:42:19.174 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7234/api/User - - - 404 0 - 8.9550ms
2025-03-16 13:42:46.095 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User - -
2025-03-16 13:42:46.098 +02:00 [DBG] No candidates found for the request path '/api/User'
2025-03-16 13:42:46.100 +02:00 [DBG] Request did not match any endpoints
2025-03-16 13:42:46.101 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 13:42:46.101 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:42:46.102 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:42:46.103 +02:00 [DBG] The request is a preflight request.
2025-03-16 13:42:46.103 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User - - - 204 - - 10.5753ms
2025-03-16 13:42:46.107 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7234/api/User - -
2025-03-16 13:42:46.113 +02:00 [DBG] No candidates found for the request path '/api/User'
2025-03-16 13:42:46.120 +02:00 [DBG] Request did not match any endpoints
2025-03-16 13:42:46.120 +02:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2025-03-16 13:42:46.121 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:42:46.122 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:42:46.123 +02:00 [DBG] The request path  does not match the path filter
2025-03-16 13:42:46.123 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7234/api/User - - - 404 0 - 16.7381ms
2025-03-16 13:43:03.272 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User - -
2025-03-16 13:43:03.274 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User - -
2025-03-16 13:43:03.276 +02:00 [DBG] No candidates found for the request path '/api/User'
2025-03-16 13:43:03.278 +02:00 [DBG] No candidates found for the request path '/api/User'
2025-03-16 13:43:03.279 +02:00 [DBG] Request did not match any endpoints
2025-03-16 13:43:03.281 +02:00 [DBG] Request did not match any endpoints
2025-03-16 13:43:03.285 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 13:43:03.286 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 13:43:03.289 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:43:03.290 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:43:03.291 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:43:03.292 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:43:03.292 +02:00 [DBG] The request is a preflight request.
2025-03-16 13:43:03.293 +02:00 [DBG] The request is a preflight request.
2025-03-16 13:43:03.293 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User - - - 204 - - 22.1930ms
2025-03-16 13:43:03.296 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User - - - 204 - - 22.0959ms
2025-03-16 13:43:03.304 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7234/api/User - -
2025-03-16 13:43:03.310 +02:00 [DBG] No candidates found for the request path '/api/User'
2025-03-16 13:43:03.311 +02:00 [DBG] Request did not match any endpoints
2025-03-16 13:43:03.312 +02:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2025-03-16 13:43:03.314 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:43:03.316 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:43:03.318 +02:00 [DBG] The request path  does not match the path filter
2025-03-16 13:43:03.319 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7234/api/User - - - 404 0 - 15.4190ms
2025-03-16 13:43:03.321 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7234/api/User - -
2025-03-16 13:43:03.322 +02:00 [DBG] No candidates found for the request path '/api/User'
2025-03-16 13:43:03.324 +02:00 [DBG] Request did not match any endpoints
2025-03-16 13:43:03.325 +02:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2025-03-16 13:43:03.326 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:43:03.328 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:43:03.329 +02:00 [DBG] The request path  does not match the path filter
2025-03-16 13:43:03.331 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7234/api/User - - - 404 0 - 9.9087ms
2025-03-16 13:43:08.786 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User - -
2025-03-16 13:43:08.788 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User - -
2025-03-16 13:43:08.788 +02:00 [DBG] No candidates found for the request path '/api/User'
2025-03-16 13:43:08.790 +02:00 [DBG] No candidates found for the request path '/api/User'
2025-03-16 13:43:08.791 +02:00 [DBG] Request did not match any endpoints
2025-03-16 13:43:08.793 +02:00 [DBG] Request did not match any endpoints
2025-03-16 13:43:08.794 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 13:43:08.794 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 13:43:08.795 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:43:08.797 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:43:08.801 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:43:08.803 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:43:08.804 +02:00 [DBG] The request is a preflight request.
2025-03-16 13:43:08.805 +02:00 [DBG] The request is a preflight request.
2025-03-16 13:43:08.805 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User - - - 204 - - 19.6335ms
2025-03-16 13:43:08.806 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User - - - 204 - - 18.6746ms
2025-03-16 13:43:08.808 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7234/api/User - -
2025-03-16 13:43:08.809 +02:00 [DBG] No candidates found for the request path '/api/User'
2025-03-16 13:43:08.810 +02:00 [DBG] Request did not match any endpoints
2025-03-16 13:43:08.811 +02:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2025-03-16 13:43:08.812 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:43:08.814 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:43:08.818 +02:00 [DBG] The request path  does not match the path filter
2025-03-16 13:43:08.819 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7234/api/User - - - 404 0 - 11.5298ms
2025-03-16 13:43:08.821 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7234/api/User - -
2025-03-16 13:43:08.822 +02:00 [DBG] No candidates found for the request path '/api/User'
2025-03-16 13:43:08.823 +02:00 [DBG] Request did not match any endpoints
2025-03-16 13:43:08.824 +02:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2025-03-16 13:43:08.825 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:43:08.826 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:43:08.826 +02:00 [DBG] The request path  does not match the path filter
2025-03-16 13:43:08.827 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7234/api/User - - - 404 0 - 6.3929ms
2025-03-16 13:43:17.120 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User/login - -
2025-03-16 13:43:17.124 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 13:43:17.128 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-03-16 13:43:17.132 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 13:43:17.135 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:43:17.137 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:43:17.138 +02:00 [DBG] The request is a preflight request.
2025-03-16 13:43:17.139 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User/login - - - 204 - - 19.4721ms
2025-03-16 13:43:17.142 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 29
2025-03-16 13:43:17.144 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 13:43:17.145 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 13:43:17.147 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:43:17.148 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 13:43:17.150 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:43:17.151 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:43:17.152 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 13:43:17.153 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:43:17.154 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 13:43:17.156 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 13:43:17.158 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 13:43:17.160 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 13:43:17.164 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 13:43:17.167 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 13:43:17.169 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 13:43:17.172 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 13:43:17.174 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 13:43:17.176 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 13:43:17.178 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 13:43:17.180 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 13:43:17.182 +02:00 [DBG] Connection id "0HNB42UHS63VB", Request id "0HNB42UHS63VB:00000023": started reading request body.
2025-03-16 13:43:17.184 +02:00 [DBG] Connection id "0HNB42UHS63VB", Request id "0HNB42UHS63VB:00000023": done reading request body.
2025-03-16 13:43:17.185 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 13:43:17.186 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 13:43:17.188 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 13:43:17.189 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 13:43:17.191 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 13:43:17.211 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 13:43:17.212 +02:00 [INF] Login attempt for user: a
2025-03-16 13:43:17.215 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 13:43:17.216 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-16 13:43:17.219 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 13:43:17.223 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 13:43:17.226 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 13:43:17.232 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 13:43:17.237 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 13:43:17.238 +02:00 [DBG] A data reader was disposed.
2025-03-16 13:43:17.239 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 13:43:17.241 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 13:43:17.242 +02:00 [INF] Login successful for user: a
2025-03-16 13:43:17.244 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiYyIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6InR5cGllc3QiLCJleHAiOjE3NDIxMjcxOTcsImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.srY5MmquoKW9QlQTlW3Xbvl3rpRgXtQjGRV1PBL2YrU, User={ Id = 2, Username = c, Email = a, Role = typiest }
2025-03-16 13:43:17.246 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 33.9404ms.
2025-03-16 13:43:17.249 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 13:43:17.253 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 13:43:17.254 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 13:43:17.255 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 13:43:17.256 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 13:43:17.257 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 13:43:17.259 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 89.6958ms
2025-03-16 13:43:17.262 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:43:17.264 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 13:43:17.267 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 29 - 200 - application/json;+charset=utf-8 124.8333ms
2025-03-16 13:43:19.133 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User - -
2025-03-16 13:43:19.135 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7234/api/User - -
2025-03-16 13:43:19.136 +02:00 [DBG] No candidates found for the request path '/api/User'
2025-03-16 13:43:19.138 +02:00 [DBG] No candidates found for the request path '/api/User'
2025-03-16 13:43:19.140 +02:00 [DBG] Request did not match any endpoints
2025-03-16 13:43:19.142 +02:00 [DBG] Request did not match any endpoints
2025-03-16 13:43:19.145 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 13:43:19.147 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 13:43:19.149 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:43:19.150 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:43:19.151 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:43:19.153 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:43:19.153 +02:00 [DBG] The request is a preflight request.
2025-03-16 13:43:19.154 +02:00 [DBG] The request is a preflight request.
2025-03-16 13:43:19.155 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User - - - 204 - - 21.9968ms
2025-03-16 13:43:19.156 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7234/api/User - - - 204 - - 21.7552ms
2025-03-16 13:43:19.157 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7234/api/User - -
2025-03-16 13:43:19.161 +02:00 [DBG] No candidates found for the request path '/api/User'
2025-03-16 13:43:19.162 +02:00 [DBG] Request did not match any endpoints
2025-03-16 13:43:19.164 +02:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2025-03-16 13:43:19.165 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:43:19.166 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:43:19.167 +02:00 [DBG] The request path  does not match the path filter
2025-03-16 13:43:19.168 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7234/api/User - - - 404 0 - 11.2026ms
2025-03-16 13:43:19.170 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7234/api/User - -
2025-03-16 13:43:19.172 +02:00 [DBG] No candidates found for the request path '/api/User'
2025-03-16 13:43:19.173 +02:00 [DBG] Request did not match any endpoints
2025-03-16 13:43:19.177 +02:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2025-03-16 13:43:19.180 +02:00 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-03-16 13:43:19.181 +02:00 [INF] CORS policy execution successful.
2025-03-16 13:43:19.182 +02:00 [DBG] The request path  does not match the path filter
2025-03-16 13:43:19.183 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7234/api/User - - - 404 0 - 13.0345ms
2025-03-16 13:44:14.172 +02:00 [DBG] Connection id "0HNB42UHS63VC" accepted.
2025-03-16 13:44:14.182 +02:00 [DBG] Connection id "0HNB42UHS63VC" started.
2025-03-16 13:44:14.192 +02:00 [DBG] Connection 0HNB42UHS63VC established using the following protocol: "Tls13"
2025-03-16 13:44:14.206 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7234/api/User/login application/json 38
2025-03-16 13:44:14.207 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2025-03-16 13:44:14.208 +02:00 [DBG] Endpoint 'UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2025-03-16 13:44:14.211 +02:00 [DBG] Request matched endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:44:14.256 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '15/03/2025 23:54:07', Current time (UTC): '16/03/2025 11:44:14'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-16 13:44:14.266 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '15/03/2025 23:54:07', Current time (UTC): '16/03/2025 11:44:14'.
2025-03-16 13:44:14.268 +02:00 [DBG] The request has an origin header: 'https://localhost:7234'.
2025-03-16 13:44:14.269 +02:00 [INF] CORS policy execution failed.
2025-03-16 13:44:14.270 +02:00 [INF] Request origin https://localhost:7234 does not have permission to access the resource.
2025-03-16 13:44:14.272 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 13:44:14.273 +02:00 [INF] Executing endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:44:14.274 +02:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginDto) on controller UserController (WebApplication1).
2025-03-16 13:44:14.275 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 13:44:14.276 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 13:44:14.277 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 13:44:14.279 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 13:44:14.280 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 13:44:14.282 +02:00 [DBG] Executing controller factory for controller UserController (WebApplication1)
2025-03-16 13:44:14.285 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 13:44:14.288 +02:00 [DBG] Executed controller factory for controller UserController (WebApplication1)
2025-03-16 13:44:14.290 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' ...
2025-03-16 13:44:14.291 +02:00 [DBG] Attempting to bind parameter 'model' of type 'LoginDto' using the name '' in request data ...
2025-03-16 13:44:14.292 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-16 13:44:14.293 +02:00 [DBG] Connection id "0HNB42UHS63VC", Request id "0HNB42UHS63VC:00000001": started reading request body.
2025-03-16 13:44:14.294 +02:00 [DBG] Connection id "0HNB42UHS63VC", Request id "0HNB42UHS63VC:00000001": done reading request body.
2025-03-16 13:44:14.295 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'LoginDto'
2025-03-16 13:44:14.296 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 13:44:14.296 +02:00 [DBG] Done attempting to bind parameter 'model' of type 'LoginDto'.
2025-03-16 13:44:14.298 +02:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LoginDto' ...
2025-03-16 13:44:14.299 +02:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LoginDto'.
2025-03-16 13:44:14.323 +02:00 [INF] Executing action method UserController.Login (WebApplication1) - Validation state: "Valid"
2025-03-16 13:44:14.324 +02:00 [INF] Login attempt for user: a
2025-03-16 13:44:14.325 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 13:44:14.326 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-16 13:44:14.327 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 13:44:14.329 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 13:44:14.333 +02:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 13:44:14.338 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`Password`, `u`.`Role`, `u`.`UpdatedAt`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-03-16 13:44:14.341 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-16 13:44:14.342 +02:00 [DBG] A data reader was disposed.
2025-03-16 13:44:14.343 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 13:44:14.344 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 13:44:14.345 +02:00 [INF] Login successful for user: a
2025-03-16 13:44:14.345 +02:00 [INF] Login response: Token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiYyIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6InR5cGllc3QiLCJleHAiOjE3NDIxMjcyNTQsImlzcyI6InlvdXJfaXNzdWVyIiwiYXVkIjoieW91cl9hdWRpZW5jZSJ9.Pqtxx-sEayyCSBvlAPI6FWcgHJuUouuSwrBfUu5YA8g, User={ Id = 2, Username = c, Email = a, Role = typiest }
2025-03-16 13:44:14.346 +02:00 [INF] Executed action method UserController.Login (WebApplication1), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 22.1474ms.
2025-03-16 13:44:14.348 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-16 13:44:14.352 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-16 13:44:14.354 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-16 13:44:14.355 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-16 13:44:14.356 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-16 13:44:14.357 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`4[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-16 13:44:14.358 +02:00 [INF] Executed action UserController.Login (WebApplication1) in 76.6277ms
2025-03-16 13:44:14.359 +02:00 [INF] Executed endpoint 'UserController.Login (WebApplication1)'
2025-03-16 13:44:14.361 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 13:44:14.362 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7234/api/User/login application/json 38 - 200 - application/json;+charset=utf-8 155.9882ms
2025-03-16 13:47:25.396 +02:00 [DBG] Connection id "0HNB42UHS63VB" received FIN.
2025-03-16 13:47:25.396 +02:00 [DBG] Connection id "0HNB42UHS63VC" received FIN.
2025-03-16 13:47:25.433 +02:00 [DBG] Connection id "0HNB42UHS63VB" is closed. The last processed stream ID was 43.
2025-03-16 13:47:25.442 +02:00 [DBG] Connection id "0HNB42UHS63VC" is closed. The last processed stream ID was 1.
2025-03-16 13:47:25.453 +02:00 [DBG] Connection id "0HNB42UHS63VB" sending FIN because: "The client closed the connection."
2025-03-16 13:47:25.439 +02:00 [DBG] The connection queue processing loop for 0HNB42UHS63VB completed.
2025-03-16 13:47:25.444 +02:00 [DBG] The connection queue processing loop for 0HNB42UHS63VC completed.
2025-03-16 13:47:25.459 +02:00 [DBG] Connection id "0HNB42UHS63VC" sending FIN because: "The client closed the connection."
2025-03-16 13:47:25.461 +02:00 [DBG] Connection id "0HNB42UHS63VB" stopped.
2025-03-16 13:47:25.472 +02:00 [DBG] Connection id "0HNB42UHS63VC" stopped.
2025-03-16 14:24:50.170 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-03-16 14:24:50.666 +02:00 [DBG] The property 'Customer.userId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-16 14:24:50.667 +02:00 [DBG] The property 'SpeechToText.UserId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-16 14:24:50.667 +02:00 [DBG] The property 'UserFile.CustomerId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-16 14:24:50.789 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 14:24:50.840 +02:00 [DBG] The property 'Customer.userId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-16 14:24:50.840 +02:00 [DBG] The property 'SpeechToText.UserId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-16 14:24:50.840 +02:00 [DBG] The property 'UserFile.CustomerId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-16 14:24:50.962 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-03-16 14:24:50.964 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-03-16 14:24:50.965 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-03-16 14:24:50.965 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-03-16 14:24:50.975 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-03-16 14:24:50.975 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-03-16 14:24:50.975 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-03-16 14:24:50.975 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-03-16 14:24:51.063 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 14:24:57.874 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-03-16 14:24:58.335 +02:00 [DBG] The property 'Customer.userId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-16 14:24:58.340 +02:00 [DBG] The property 'SpeechToText.UserId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-16 14:24:58.341 +02:00 [DBG] The property 'UserFile.CustomerId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-16 14:24:58.522 +02:00 [INF] Entity Framework Core 6.0.36 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:6.0.3' with options: ServerVersion 8.0.33-mysql 
2025-03-16 14:24:58.559 +02:00 [DBG] Migrating using database 'api' on server 'localhost'.
2025-03-16 14:24:58.573 +02:00 [DBG] Opening connection to database '' on server 'localhost'.
2025-03-16 14:24:58.588 +02:00 [DBG] Opened connection to database '' on server 'localhost'.
2025-03-16 14:24:58.736 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-03-16 14:24:58.754 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (17ms).
2025-03-16 14:24:58.767 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 14:24:58.779 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 14:24:58.785 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='api' AND TABLE_NAME='__EFMigrationsHistory';
2025-03-16 14:24:58.858 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='api' AND TABLE_NAME='__EFMigrationsHistory';
2025-03-16 14:24:58.860 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 14:24:58.861 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 14:24:58.862 +02:00 [DBG] Opening connection to database '' on server 'localhost'.
2025-03-16 14:24:58.871 +02:00 [DBG] Opened connection to database '' on server 'localhost'.
2025-03-16 14:24:58.873 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-03-16 14:24:58.873 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-03-16 14:24:58.873 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 14:24:58.877 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 14:24:58.878 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='api' AND TABLE_NAME='__EFMigrationsHistory';
2025-03-16 14:24:58.880 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='api' AND TABLE_NAME='__EFMigrationsHistory';
2025-03-16 14:24:58.880 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 14:24:58.880 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 14:24:58.915 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-16 14:24:58.915 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-16 14:24:58.916 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 14:24:58.916 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 14:24:58.917 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-03-16 14:24:58.934 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-03-16 14:24:58.937 +02:00 [DBG] A data reader was disposed.
2025-03-16 14:24:58.937 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 14:24:58.937 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 14:24:58.947 +02:00 [INF] Applying migration '20250316122450_InitialCreate'.
2025-03-16 14:24:59.000 +02:00 [DBG] Opening connection to database 'api' on server 'localhost'.
2025-03-16 14:24:59.001 +02:00 [DBG] Opened connection to database 'api' on server 'localhost'.
2025-03-16 14:24:59.003 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-03-16 14:24:59.009 +02:00 [DBG] Began transaction with isolation level 'Unspecified'.
2025-03-16 14:24:59.011 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-03-16 14:24:59.011 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-03-16 14:24:59.011 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Users` ADD `TypeistId` int NULL;
2025-03-16 14:24:59.367 +02:00 [INF] Executed DbCommand (355ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Users` ADD `TypeistId` int NULL;
2025-03-16 14:24:59.367 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-03-16 14:24:59.367 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-03-16 14:24:59.367 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20250316122450_InitialCreate', '6.0.36');
2025-03-16 14:24:59.373 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20250316122450_InitialCreate', '6.0.36');
2025-03-16 14:24:59.375 +02:00 [DBG] Committing transaction.
2025-03-16 14:24:59.377 +02:00 [DBG] Committed transaction.
2025-03-16 14:24:59.379 +02:00 [DBG] Disposing transaction.
2025-03-16 14:24:59.379 +02:00 [DBG] Closing connection to database 'api' on server 'localhost'.
2025-03-16 14:24:59.379 +02:00 [DBG] Closed connection to database 'api' on server 'localhost'.
2025-03-16 14:24:59.383 +02:00 [DBG] 'ApplicationDbContext' disposed.
2025-03-16 23:57:28.937 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-03-16 23:57:29.107 +02:00 [DBG] Hosting starting
2025-03-16 23:57:29.220 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-16 23:57:29.228 +02:00 [DBG] Reading data from file 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys\key-3b1791d9-af35-4b48-969e-d576339e2e30.xml'.
2025-03-16 23:57:29.240 +02:00 [DBG] Reading data from file 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys\key-f748f32e-fd47-4627-8870-71b23dd2fdee.xml'.
2025-03-16 23:57:29.250 +02:00 [DBG] Found key {3b1791d9-af35-4b48-969e-d576339e2e30}.
2025-03-16 23:57:29.256 +02:00 [DBG] Found key {f748f32e-fd47-4627-8870-71b23dd2fdee}.
2025-03-16 23:57:29.263 +02:00 [DBG] Considering key {3b1791d9-af35-4b48-969e-d576339e2e30} with expiration date 2025-06-08 19:45:45Z as default key.
2025-03-16 23:57:29.266 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-03-16 23:57:29.270 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-03-16 23:57:29.273 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-03-16 23:57:29.281 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-03-16 23:57:29.284 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-03-16 23:57:29.288 +02:00 [DBG] Using key {3b1791d9-af35-4b48-969e-d576339e2e30} as the default key.
2025-03-16 23:57:29.291 +02:00 [DBG] Key ring with default key {3b1791d9-af35-4b48-969e-d576339e2e30} was loaded during application startup.
2025-03-16 23:57:29.631 +02:00 [INF] Now listening on: https://localhost:7234
2025-03-16 23:57:29.633 +02:00 [INF] Now listening on: http://localhost:5254
2025-03-16 23:57:29.635 +02:00 [DBG] Loaded hosting startup assembly WebApplication1
2025-03-16 23:57:29.635 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-03-16 23:57:29.636 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-03-16 23:57:29.637 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-16 23:57:29.638 +02:00 [INF] Hosting environment: Development
2025-03-16 23:57:29.639 +02:00 [INF] Content root path: C:\Users\user1\Desktop\לימודים\net core\practicom\WebApplication1
2025-03-16 23:57:29.640 +02:00 [DBG] Hosting started
2025-03-16 23:57:30.014 +02:00 [DBG] Connection id "0HNB4QM63R5JV" accepted.
2025-03-16 23:57:30.014 +02:00 [DBG] Connection id "0HNB4QM63R5K0" accepted.
2025-03-16 23:57:30.018 +02:00 [DBG] Connection id "0HNB4QM63R5JV" started.
2025-03-16 23:57:30.018 +02:00 [DBG] Connection id "0HNB4QM63R5K0" started.
2025-03-16 23:57:30.035 +02:00 [DBG] Connection id "0HNB4QM63R5JV" received FIN.
2025-03-16 23:57:30.035 +02:00 [DBG] Connection id "0HNB4QM63R5K0" received FIN.
2025-03-16 23:57:30.057 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-03-16 23:57:30.057 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-03-16 23:57:30.147 +02:00 [DBG] Connection id "0HNB4QM63R5K0" stopped.
2025-03-16 23:57:30.147 +02:00 [DBG] Connection id "0HNB4QM63R5JV" stopped.
2025-03-16 23:57:30.151 +02:00 [DBG] Connection id "0HNB4QM63R5K0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-03-16 23:57:30.151 +02:00 [DBG] Connection id "0HNB4QM63R5JV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-03-16 23:57:30.817 +02:00 [DBG] Connection id "0HNB4QM63R5K1" accepted.
2025-03-16 23:57:30.820 +02:00 [DBG] Connection id "0HNB4QM63R5K1" started.
2025-03-16 23:57:30.909 +02:00 [DBG] Connection 0HNB4QM63R5K1 established using the following protocol: "Tls13"
2025-03-16 23:57:31.056 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7234/swagger/index.html - -
2025-03-16 23:57:31.111 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-03-16 23:57:31.157 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-03-16 23:57:31.162 +02:00 [DBG] Request did not match any endpoints
2025-03-16 23:57:31.371 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 23:57:31.556 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-03-16 23:57:31.765 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7234/_framework/aspnetcore-browser-refresh.js - -
2025-03-16 23:57:31.766 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7234/_vs/browserLink - -
2025-03-16 23:57:31.767 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-03-16 23:57:31.814 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7234/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 47.5701ms
2025-03-16 23:57:31.814 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7234/swagger/index.html - - - 200 - text/html;charset=utf-8 758.6446ms
2025-03-16 23:57:31.911 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7234/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 145.3427ms
2025-03-16 23:57:32.209 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7234/swagger/v1/swagger.json - -
2025-03-16 23:57:32.214 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-03-16 23:57:32.218 +02:00 [DBG] Request did not match any endpoints
2025-03-16 23:57:32.225 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 23:57:32.540 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7234/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 330.9968ms
2025-03-16 23:57:39.792 +02:00 [DBG] Connection id "0HNB4QM63R5K1" received FIN.
2025-03-16 23:57:39.799 +02:00 [DBG] The connection queue processing loop for 0HNB4QM63R5K1 completed.
2025-03-16 23:57:39.801 +02:00 [DBG] Connection id "0HNB4QM63R5K1" is closed. The last processed stream ID was 7.
2025-03-16 23:57:39.803 +02:00 [DBG] Connection id "0HNB4QM63R5K1" sending FIN because: "The client closed the connection."
2025-03-16 23:57:39.819 +02:00 [DBG] Connection id "0HNB4QM63R5K1" stopped.
2025-03-16 23:57:52.224 +02:00 [DBG] Connection id "0HNB4QM63R5K2" accepted.
2025-03-16 23:57:52.231 +02:00 [DBG] Connection id "0HNB4QM63R5K2" started.
2025-03-16 23:57:52.240 +02:00 [DBG] Connection 0HNB4QM63R5K2 established using the following protocol: "Tls13"
2025-03-16 23:57:52.245 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7234/api/upload/presigned-url?fileName=ll - -
2025-03-16 23:57:52.251 +02:00 [DBG] 1 candidate(s) found for the request path '/api/upload/presigned-url'
2025-03-16 23:57:52.255 +02:00 [DBG] Endpoint 'UploadController.GetPresignedUrl (WebApplication1)' with route pattern 'api/upload/presigned-url' is valid for the request path '/api/upload/presigned-url'
2025-03-16 23:57:52.257 +02:00 [DBG] Request matched endpoint 'UploadController.GetPresignedUrl (WebApplication1)'
2025-03-16 23:57:52.259 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-03-16 23:57:52.262 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-16 23:57:52.268 +02:00 [INF] Executing endpoint 'UploadController.GetPresignedUrl (WebApplication1)'
2025-03-16 23:57:52.334 +02:00 [INF] Route matched with {action = "GetPresignedUrl", controller = "Upload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPresignedUrl(System.String) on controller UploadController (WebApplication1).
2025-03-16 23:57:52.339 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-16 23:57:52.341 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-16 23:57:52.345 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-16 23:57:52.350 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-16 23:57:52.352 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-16 23:57:52.355 +02:00 [DBG] Executing controller factory for controller UploadController (WebApplication1)
2025-03-16 23:57:52.361 +02:00 [INF] Executed action UploadController.GetPresignedUrl (WebApplication1) in 5.7154ms
2025-03-16 23:57:52.365 +02:00 [INF] Executed endpoint 'UploadController.GetPresignedUrl (WebApplication1)'
2025-03-16 23:57:52.369 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Amazon.S3.IAmazonS3' while attempting to activate 'UploadController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method10(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-16 23:57:52.379 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7234/api/upload/presigned-url?fileName=ll - - - 500 - text/plain;+charset=utf-8 134.7076ms
2025-03-16 23:57:59.826 +02:00 [DBG] Connection id "0HNB4QM63R5K2" received FIN.
2025-03-16 23:57:59.829 +02:00 [DBG] Connection id "0HNB4QM63R5K2" sending FIN because: "The client closed the connection."
2025-03-16 23:57:59.829 +02:00 [DBG] Connection id "0HNB4QM63R5K2" is closed. The last processed stream ID was 1.
2025-03-16 23:57:59.836 +02:00 [DBG] The connection queue processing loop for 0HNB4QM63R5K2 completed.
2025-03-16 23:57:59.838 +02:00 [DBG] Connection id "0HNB4QM63R5K2" stopped.
